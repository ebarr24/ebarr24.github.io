import{m as ji,b as nr,t as eo,f as pu,v as Lw,w as ps,x as Oc,y as to,j as mu,z as qw,k as t6,c as Yn,A as Pc,o as Uv,B as kc,e as Rc,C as r6,D as n6,E as Nc,i as Dc,F as i6,G as a6,H as ms,l as Nn,V as o6,I as Nm,J as Jl,K as Zl,L as Dm,N as Bm,O as Bc,g as Fv,P as s6,Q as u6,M as Uc,R as f6,S as c6,T as l6,U as jw,W as $w,X as h6,Y as Lv,Z as d6,q as v6,d as qv,r as p6,$ as Vw,h as jv,s as m6,a0 as zw,a as y6,n as g6}from"./VGrid.b37c77c9.js";import{ai as wt,aj as t0,ak as Mt,al as Kw,am as ci,an as ze,ao as Ue,ap as Hw,aq as tr,ar as Yt,as as Gw,at as b6,au as Yl,l as Gt,m as Ee,n as Jt,N as r0,p as sr,a2 as or,B as Ln,C as $i,u as Rr,c as Fe,t as bt,ag as Fc,I as ro,r as Ye,i as Vi,J as cr,a5 as $v,P as $a,av as w6,g as Lc,aw as Ww,aa as Bn,ax as n0,ay as eu,Y as _6,az as S6,b as Yr,aA as Um,aB as M6,o as Jw,a as Zw,e as fa,K as x6,aC as no,D as E6,aD as Xl,aE as A6,Q as Xn,V as yu,R as Wo,U as Qn,a1 as I6,W as Yw,aF as ei,d as io,aG as T6,aH as Vv,a0 as Da,_ as C6,O as O6,j as zv,aI as Xw,aJ as P6,aK as k6,$ as qc,M as Kv,aL as R6,aM as Ai,aN as Qw,x as N6}from"./index.e807e3ff.js";var Ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function D6(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function e2(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}class Do{constructor(t){let{x:r,y:n,width:a,height:i}=t;this.x=r,this.y=n,this.width=a,this.height=i}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function Fm(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function Hv(e){const t=e.getBoundingClientRect(),r=getComputedStyle(e),n=r.transform;if(n){let a,i,f,l,v;if(n.startsWith("matrix3d("))a=n.slice(9,-1).split(/, /),i=+a[0],f=+a[5],l=+a[12],v=+a[13];else if(n.startsWith("matrix("))a=n.slice(7,-1).split(/, /),i=+a[0],f=+a[3],l=+a[4],v=+a[5];else return new Do(t);const h=r.transformOrigin,g=t.x-l-(1-i)*parseFloat(h),_=t.y-v-(1-f)*parseFloat(h.slice(h.indexOf(" ")+1)),M=i?t.width/i:e.offsetWidth+1,E=f?t.height/f:e.offsetHeight+1;return new Do({x:g,y:_,width:M,height:E})}else return new Do(t)}function Ao(e,t,r){if(typeof e.animate>"u")return{finished:Promise.resolve()};let n;try{n=e.animate(t,r)}catch{return{finished:Promise.resolve()}}return typeof n.finished>"u"&&(n.finished=new Promise(a=>{n.onfinish=()=>{a(n)}})),n}function t2(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const zf="cubic-bezier(0.4, 0, 0.2, 1)",B6="cubic-bezier(0.0, 0, 0.2, 1)",U6="cubic-bezier(0.4, 0, 1, 1)";function F6(e){for(;e;){if(Gv(e))return e;e=e.parentElement}return document.scrollingElement}function Kf(e,t){const r=[];if(t&&e&&!t.contains(e))return r;for(;e&&(Gv(e)&&r.push(e),e!==t);)e=e.parentElement;return r}function Gv(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function L6(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}var q6="5.2.0",i0="aws-amplify/"+q6,Jn={userAgent:i0+" js",product:"",navigator:null,isReactNative:!1};if(typeof navigator<"u"&&navigator.product)switch(Jn.product=navigator.product||"",Jn.navigator=navigator||null,navigator.product){case"ReactNative":Jn.userAgent=i0+" react-native",Jn.isReactNative=!0;break;default:Jn.userAgent=i0+" js",Jn.isReactNative=!1;break}var r2=function(e){return""+Jn.userAgent+(e||"")},pi=new wt("Hub"),j6=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default";function $6(e){return e.onHubCapsule!==void 0}var V6=function(){function e(t){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=t}return e.prototype._remove=function(t,r){if(t instanceof RegExp){var n=this.patterns.find(function(i){var f=i.pattern;return f.source===t.source});if(!n){pi.warn("No listeners for "+t);return}this.patterns=t0(this.patterns.filter(function(i){return i!==n}))}else{var a=this.listeners[t];if(!a){pi.warn("No listeners for "+t);return}this.listeners[t]=t0(a.filter(function(i){var f=i.callback;return f!==r}))}},e.prototype.remove=function(t,r){this._remove(t,r)},e.prototype.dispatch=function(t,r,n,a){if(n===void 0&&(n=""),this.protectedChannels.indexOf(t)>-1){var i=a===j6;i||pi.warn("WARNING: "+t+" is protected and dispatching on it can have unintended consequences")}var f={channel:t,payload:Mt({},r),source:n,patternInfo:[]};try{this._toListeners(f)}catch(l){pi.error(l)}},e.prototype.listen=function(t,r,n){var a=this;n===void 0&&(n="noname");var i;if($6(r))pi.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),i=r.onHubCapsule.bind(r);else{if(typeof r!="function")throw new Error("No callback supplied to Hub");i=r}if(t instanceof RegExp)this.patterns.push({pattern:t,callback:i});else{var f=this.listeners[t];f||(f=[],this.listeners[t]=f),f.push({name:n,callback:i})}return function(){a._remove(t,i)}},e.prototype._toListeners=function(t){var r=t.channel,n=t.payload,a=this.listeners[r];if(a&&a.forEach(function(f){pi.debug("Dispatching to "+r+" with ",n);try{f.callback(t)}catch(l){pi.error(l)}}),this.patterns.length>0){if(!n.message){pi.warn("Cannot perform pattern matching without a message key");return}var i=n.message;this.patterns.forEach(function(f){var l=i.match(f.pattern);if(l){var v=Kw(l),h=v.slice(1),g=Mt(Mt({},t),{patternInfo:h});try{f.callback(g)}catch(_){pi.error(_)}}})}},e}(),_r=new V6("__default__"),z6=new wt("I18n"),Lm=function(){function e(t){this._options=null,this._lang=null,this._dict={},this._options=Object.assign({},t),this._lang=this._options.language,!this._lang&&typeof window<"u"&&window&&window.navigator&&(this._lang=window.navigator.language),z6.debug(this._lang)}return e.prototype.setLanguage=function(t){this._lang=t},e.prototype.get=function(t,r){if(r===void 0&&(r=void 0),!this._lang)return typeof r<"u"?r:t;var n=this._lang,a=this.getByLanguage(t,n);return a||(n.indexOf("-")>0&&(a=this.getByLanguage(t,n.split("-")[0])),a)?a:typeof r<"u"?r:t},e.prototype.getByLanguage=function(t,r,n){if(n===void 0&&(n=null),!r)return n;var a=this._dict[r];return a?a[t]:n},e.prototype.putVocabulariesForLanguage=function(t,r){var n=this._dict[t];n||(n=this._dict[t]={}),this._dict[t]=Mt(Mt({},n),r)},e.prototype.putVocabularies=function(t){var r=this;Object.keys(t).map(function(n){r.putVocabulariesForLanguage(n,t[n])})},e}(),qm=new wt("I18n"),co=null,zi=null,K6=function(){function e(){}return e.configure=function(t){return qm.debug("configure I18n"),t&&(co=Object.assign({},co,t.I18n||t),e.createInstance()),co},e.getModuleName=function(){return"I18n"},e.createInstance=function(){qm.debug("create I18n instance"),!zi&&(zi=new Lm(co))},e.setLanguage=function(t){return e.checkConfig(),zi.setLanguage(t)},e.get=function(t,r){return e.checkConfig()?zi.get(t,r):typeof r>"u"?t:r},e.putVocabulariesForLanguage=function(t,r){return e.checkConfig(),zi.putVocabulariesForLanguage(t,r)},e.putVocabularies=function(t){return e.checkConfig(),zi.putVocabularies(t)},e.checkConfig=function(){return zi||(zi=new Lm(co)),!0},e}();ci.register(K6);var H6=function(e){if(e.isResolved)return e;var t=!0,r=!1,n=!1,a=e.then(function(i){return n=!0,t=!1,i},function(i){throw r=!0,t=!1,i});return a.isFullfilled=function(){return n},a.isPending=function(){return t},a.isRejected=function(){return r},a},n2=function(){if(typeof self>"u")return!1;var e=self;return typeof e.WorkerGlobalScope<"u"&&self instanceof e.WorkerGlobalScope},Kr=function(){var e=typeof window<"u"&&typeof window.document<"u",t=typeof ze.exports<"u"&&ze.exports.versions!=null&&ze.exports.versions.node!=null;return{isBrowser:e,isNode:t}},Ci={},Wv={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(e){var t,r,n,a,i,f,l,v,h,g,_,M,E,A,I,O,T,P,k,R,D,V,q;(function($){var F=typeof Ve=="object"?Ve:typeof self=="object"?self:typeof this=="object"?this:{};$(z(F,z(e.exports)));function z(b,o){return b!==F&&(typeof Object.create=="function"?Object.defineProperty(b,"__esModule",{value:!0}):b.__esModule=!0),function(u,c){return b[u]=o?o(u,c):c}}})(function($){var F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,b){z.__proto__=b}||function(z,b){for(var o in b)b.hasOwnProperty(o)&&(z[o]=b[o])};t=function(z,b){F(z,b);function o(){this.constructor=z}z.prototype=b===null?Object.create(b):(o.prototype=b.prototype,new o)},r=Object.assign||function(z){for(var b,o=1,u=arguments.length;o<u;o++){b=arguments[o];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(z[c]=b[c])}return z},n=function(z,b){var o={};for(var u in z)Object.prototype.hasOwnProperty.call(z,u)&&b.indexOf(u)<0&&(o[u]=z[u]);if(z!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,u=Object.getOwnPropertySymbols(z);c<u.length;c++)b.indexOf(u[c])<0&&Object.prototype.propertyIsEnumerable.call(z,u[c])&&(o[u[c]]=z[u[c]]);return o},a=function(z,b,o,u){var c=arguments.length,d=c<3?b:u===null?u=Object.getOwnPropertyDescriptor(b,o):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(z,b,o,u);else for(var w=z.length-1;w>=0;w--)(p=z[w])&&(d=(c<3?p(d):c>3?p(b,o,d):p(b,o))||d);return c>3&&d&&Object.defineProperty(b,o,d),d},i=function(z,b){return function(o,u){b(o,u,z)}},f=function(z,b){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(z,b)},l=function(z,b,o,u){function c(d){return d instanceof o?d:new o(function(p){p(d)})}return new(o||(o=Promise))(function(d,p){function w(s){try{m(u.next(s))}catch(y){p(y)}}function S(s){try{m(u.throw(s))}catch(y){p(y)}}function m(s){s.done?d(s.value):c(s.value).then(w,S)}m((u=u.apply(z,b||[])).next())})},v=function(z,b){var o={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},u,c,d,p;return p={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function w(m){return function(s){return S([m,s])}}function S(m){if(u)throw new TypeError("Generator is already executing.");for(;o;)try{if(u=1,c&&(d=m[0]&2?c.return:m[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,m[1])).done)return d;switch(c=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return o.label++,{value:m[1],done:!1};case 5:o.label++,c=m[1],m=[0];continue;case 7:m=o.ops.pop(),o.trys.pop();continue;default:if(d=o.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){o=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){o.label=m[1];break}if(m[0]===6&&o.label<d[1]){o.label=d[1],d=m;break}if(d&&o.label<d[2]){o.label=d[2],o.ops.push(m);break}d[2]&&o.ops.pop(),o.trys.pop();continue}m=b.call(z,o)}catch(s){m=[6,s],c=0}finally{u=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},q=function(z,b,o,u){u===void 0&&(u=o),z[u]=b[o]},h=function(z,b){for(var o in z)o!=="default"&&!b.hasOwnProperty(o)&&(b[o]=z[o])},g=function(z){var b=typeof Symbol=="function"&&Symbol.iterator,o=b&&z[b],u=0;if(o)return o.call(z);if(z&&typeof z.length=="number")return{next:function(){return z&&u>=z.length&&(z=void 0),{value:z&&z[u++],done:!z}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},_=function(z,b){var o=typeof Symbol=="function"&&z[Symbol.iterator];if(!o)return z;var u=o.call(z),c,d=[],p;try{for(;(b===void 0||b-- >0)&&!(c=u.next()).done;)d.push(c.value)}catch(w){p={error:w}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(p)throw p.error}}return d},M=function(){for(var z=[],b=0;b<arguments.length;b++)z=z.concat(_(arguments[b]));return z},E=function(){for(var z=0,b=0,o=arguments.length;b<o;b++)z+=arguments[b].length;for(var u=Array(z),c=0,b=0;b<o;b++)for(var d=arguments[b],p=0,w=d.length;p<w;p++,c++)u[c]=d[p];return u},A=function(z){return this instanceof A?(this.v=z,this):new A(z)},I=function(z,b,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=o.apply(z,b||[]),c,d=[];return c={},p("next"),p("throw"),p("return"),c[Symbol.asyncIterator]=function(){return this},c;function p(x){u[x]&&(c[x]=function(C){return new Promise(function(N,j){d.push([x,C,N,j])>1||w(x,C)})})}function w(x,C){try{S(u[x](C))}catch(N){y(d[0][3],N)}}function S(x){x.value instanceof A?Promise.resolve(x.value.v).then(m,s):y(d[0][2],x)}function m(x){w("next",x)}function s(x){w("throw",x)}function y(x,C){x(C),d.shift(),d.length&&w(d[0][0],d[0][1])}},O=function(z){var b,o;return b={},u("next"),u("throw",function(c){throw c}),u("return"),b[Symbol.iterator]=function(){return this},b;function u(c,d){b[c]=z[c]?function(p){return(o=!o)?{value:A(z[c](p)),done:c==="return"}:d?d(p):p}:d}},T=function(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b=z[Symbol.asyncIterator],o;return b?b.call(z):(z=typeof g=="function"?g(z):z[Symbol.iterator](),o={},u("next"),u("throw"),u("return"),o[Symbol.asyncIterator]=function(){return this},o);function u(d){o[d]=z[d]&&function(p){return new Promise(function(w,S){p=z[d](p),c(w,S,p.done,p.value)})}}function c(d,p,w,S){Promise.resolve(S).then(function(m){d({value:m,done:w})},p)}},P=function(z,b){return Object.defineProperty?Object.defineProperty(z,"raw",{value:b}):z.raw=b,z},k=function(z){if(z&&z.__esModule)return z;var b={};if(z!=null)for(var o in z)Object.hasOwnProperty.call(z,o)&&(b[o]=z[o]);return b.default=z,b},R=function(z){return z&&z.__esModule?z:{default:z}},D=function(z,b){if(!b.has(z))throw new TypeError("attempted to get private field on non-instance");return b.get(z)},V=function(z,b,o){if(!b.has(z))throw new TypeError("attempted to set private field on non-instance");return b.set(z,o),o},$("__extends",t),$("__assign",r),$("__rest",n),$("__decorate",a),$("__param",i),$("__metadata",f),$("__awaiter",l),$("__generator",v),$("__exportStar",h),$("__createBinding",q),$("__values",g),$("__read",_),$("__spread",M),$("__spreadArrays",E),$("__await",A),$("__asyncGenerator",I),$("__asyncDelegator",O),$("__asyncValues",T),$("__makeTemplateObject",P),$("__importStar",k),$("__importDefault",R),$("__classPrivateFieldGet",D),$("__classPrivateFieldSet",V)})})(Wv);var jc={},Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.MAX_HASHABLE_LENGTH=Xr.INIT=Xr.KEY=Xr.DIGEST_LENGTH=Xr.BLOCK_SIZE=void 0;Xr.BLOCK_SIZE=64;Xr.DIGEST_LENGTH=32;Xr.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);Xr.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];Xr.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1;var $c={};Object.defineProperty($c,"__esModule",{value:!0});$c.RawSha256=void 0;var un=Xr,G6=function(){function e(){this.state=Int32Array.from(un.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=0,n=t.byteLength;if(this.bytesHashed+=n,this.bytesHashed*8>un.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=t[r++],n--,this.bufferLength===un.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var t=this.bytesHashed*8,r=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(r.setUint8(this.bufferLength++,128),n%un.BLOCK_SIZE>=un.BLOCK_SIZE-8){for(var a=this.bufferLength;a<un.BLOCK_SIZE;a++)r.setUint8(a,0);this.hashBuffer(),this.bufferLength=0}for(var a=this.bufferLength;a<un.BLOCK_SIZE-8;a++)r.setUint8(a,0);r.setUint32(un.BLOCK_SIZE-8,Math.floor(t/4294967296),!0),r.setUint32(un.BLOCK_SIZE-4,t),this.hashBuffer(),this.finished=!0}for(var i=new Uint8Array(un.DIGEST_LENGTH),a=0;a<8;a++)i[a*4]=this.state[a]>>>24&255,i[a*4+1]=this.state[a]>>>16&255,i[a*4+2]=this.state[a]>>>8&255,i[a*4+3]=this.state[a]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var t=this,r=t.buffer,n=t.state,a=n[0],i=n[1],f=n[2],l=n[3],v=n[4],h=n[5],g=n[6],_=n[7],M=0;M<un.BLOCK_SIZE;M++){if(M<16)this.temp[M]=(r[M*4]&255)<<24|(r[M*4+1]&255)<<16|(r[M*4+2]&255)<<8|r[M*4+3]&255;else{var E=this.temp[M-2],A=(E>>>17|E<<15)^(E>>>19|E<<13)^E>>>10;E=this.temp[M-15];var I=(E>>>7|E<<25)^(E>>>18|E<<14)^E>>>3;this.temp[M]=(A+this.temp[M-7]|0)+(I+this.temp[M-16]|0)}var O=(((v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7))+(v&h^~v&g)|0)+(_+(un.KEY[M]+this.temp[M]|0)|0)|0,T=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&i^a&f^i&f)|0;_=g,g=h,h=v,v=l+O|0,l=f,f=i,i=a,a=O+T|0}n[0]+=a,n[1]+=i,n[2]+=f,n[3]+=l,n[4]+=v,n[5]+=h,n[6]+=g,n[7]+=_},e}();$c.RawSha256=G6;var i2={},Vc={},W6=function(e){for(var t=[],r=0,n=e.length;r<n;r++){var a=e.charCodeAt(r);if(a<128)t.push(a);else if(a<2048)t.push(a>>6|192,a&63|128);else if(r+1<e.length&&(a&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){var i=65536+((a&1023)<<10)+(e.charCodeAt(++r)&1023);t.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else t.push(a>>12|224,a>>6&63|128,a&63|128)}return Uint8Array.from(t)},J6=function(e){for(var t="",r=0,n=e.length;r<n;r++){var a=e[r];if(a<128)t+=String.fromCharCode(a);else if(192<=a&&a<224){var i=e[++r];t+=String.fromCharCode((a&31)<<6|i&63)}else if(240<=a&&a<365){var f=[a,e[++r],e[++r],e[++r]],l="%"+f.map(function(v){return v.toString(16)}).join("%");t+=decodeURIComponent(l)}else t+=String.fromCharCode((a&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return t};function Z6(e){return new TextEncoder().encode(e)}function Y6(e){return new TextDecoder("utf-8").decode(e)}var X6=function(e){return typeof TextEncoder=="function"?Z6(e):W6(e)},Q6=function(e){return typeof TextDecoder=="function"?Y6(e):J6(e)};const ex=Object.freeze(Object.defineProperty({__proto__:null,fromUtf8:X6,toUtf8:Q6},Symbol.toStringTag,{value:"Module"})),tx=e2(ex);Object.defineProperty(Vc,"__esModule",{value:!0});Vc.convertToBuffer=void 0;var rx=tx,nx=typeof Ue.Buffer<"u"&&Ue.Buffer.from?function(e){return Ue.Buffer.from(e,"utf8")}:rx.fromUtf8;function ix(e){return e instanceof Uint8Array?e:typeof e=="string"?nx(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}Vc.convertToBuffer=ix;var zc={};Object.defineProperty(zc,"__esModule",{value:!0});zc.isEmptyData=void 0;function ax(e){return typeof e=="string"?e.length===0:e.byteLength===0}zc.isEmptyData=ax;var Kc={};Object.defineProperty(Kc,"__esModule",{value:!0});Kc.numToUint8=void 0;function ox(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}Kc.numToUint8=ox;var Hc={};Object.defineProperty(Hc,"__esModule",{value:!0});Hc.uint32ArrayFrom=void 0;function sx(e){if(!Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r];return t}return Uint32Array.from(e)}Hc.uint32ArrayFrom=sx;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.uint32ArrayFrom=e.numToUint8=e.isEmptyData=e.convertToBuffer=void 0;var t=Vc;Object.defineProperty(e,"convertToBuffer",{enumerable:!0,get:function(){return t.convertToBuffer}});var r=zc;Object.defineProperty(e,"isEmptyData",{enumerable:!0,get:function(){return r.isEmptyData}});var n=Kc;Object.defineProperty(e,"numToUint8",{enumerable:!0,get:function(){return n.numToUint8}});var a=Hc;Object.defineProperty(e,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})})(i2);Object.defineProperty(jc,"__esModule",{value:!0});jc.Sha256=void 0;var jm=Wv.exports,Hf=Xr,a0=$c,o0=i2,ux=function(){function e(t){if(this.hash=new a0.RawSha256,t){this.outer=new a0.RawSha256;var r=fx(t),n=new Uint8Array(Hf.BLOCK_SIZE);n.set(r);for(var a=0;a<Hf.BLOCK_SIZE;a++)r[a]^=54,n[a]^=92;this.hash.update(r),this.outer.update(n);for(var a=0;a<r.byteLength;a++)r[a]=0}}return e.prototype.update=function(t){if(!((0,o0.isEmptyData)(t)||this.error))try{this.hash.update((0,o0.convertToBuffer)(t))}catch(r){this.error=r}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,jm.__awaiter)(this,void 0,void 0,function(){return(0,jm.__generator)(this,function(t){return[2,this.digestSync()]})})},e}();jc.Sha256=ux;function fx(e){var t=(0,o0.convertToBuffer)(e);if(t.byteLength>Hf.BLOCK_SIZE){var r=new a0.RawSha256;r.update(t),t=r.digest()}var n=new Uint8Array(Hf.BLOCK_SIZE);return n.set(t),n}(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Wv.exports;(0,t.__exportStar)(jc,e)})(Ci);var a2={};for(var Uu=0;Uu<256;Uu++){var Fu=Uu.toString(16).toLowerCase();Fu.length===1&&(Fu="0"+Fu),a2[Uu]=Fu}function Xi(e){for(var t="",r=0;r<e.byteLength;r++)t+=a2[e[r]];return t}var Xt={exports:{}},s0={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */(function(e,t){(function(r){var n=t&&!t.nodeType&&t,a=e&&!e.nodeType&&e,i=typeof Ve=="object"&&Ve;(i.global===i||i.window===i||i.self===i)&&(r=i);var f,l=2147483647,v=36,h=1,g=26,_=38,M=700,E=72,A=128,I="-",O=/^xn--/,T=/[^\x20-\x7E]/,P=/[\x2E\u3002\uFF0E\uFF61]/g,k={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=v-h,D=Math.floor,V=String.fromCharCode,q;function $(s){throw new RangeError(k[s])}function F(s,y){for(var x=s.length,C=[];x--;)C[x]=y(s[x]);return C}function z(s,y){var x=s.split("@"),C="";x.length>1&&(C=x[0]+"@",s=x[1]),s=s.replace(P,".");var N=s.split("."),j=F(N,y).join(".");return C+j}function b(s){for(var y=[],x=0,C=s.length,N,j;x<C;)N=s.charCodeAt(x++),N>=55296&&N<=56319&&x<C?(j=s.charCodeAt(x++),(j&64512)==56320?y.push(((N&1023)<<10)+(j&1023)+65536):(y.push(N),x--)):y.push(N);return y}function o(s){return F(s,function(y){var x="";return y>65535&&(y-=65536,x+=V(y>>>10&1023|55296),y=56320|y&1023),x+=V(y),x}).join("")}function u(s){return s-48<10?s-22:s-65<26?s-65:s-97<26?s-97:v}function c(s,y){return s+22+75*(s<26)-((y!=0)<<5)}function d(s,y,x){var C=0;for(s=x?D(s/M):s>>1,s+=D(s/y);s>R*g>>1;C+=v)s=D(s/R);return D(C+(R+1)*s/(s+_))}function p(s){var y=[],x=s.length,C,N=0,j=A,B=E,L,Y,G,Z,K,U,W,Te,ee;for(L=s.lastIndexOf(I),L<0&&(L=0),Y=0;Y<L;++Y)s.charCodeAt(Y)>=128&&$("not-basic"),y.push(s.charCodeAt(Y));for(G=L>0?L+1:0;G<x;){for(Z=N,K=1,U=v;G>=x&&$("invalid-input"),W=u(s.charCodeAt(G++)),(W>=v||W>D((l-N)/K))&&$("overflow"),N+=W*K,Te=U<=B?h:U>=B+g?g:U-B,!(W<Te);U+=v)ee=v-Te,K>D(l/ee)&&$("overflow"),K*=ee;C=y.length+1,B=d(N-Z,C,Z==0),D(N/C)>l-j&&$("overflow"),j+=D(N/C),N%=C,y.splice(N++,0,j)}return o(y)}function w(s){var y,x,C,N,j,B,L,Y,G,Z,K,U=[],W,Te,ee,re;for(s=b(s),W=s.length,y=A,x=0,j=E,B=0;B<W;++B)K=s[B],K<128&&U.push(V(K));for(C=N=U.length,N&&U.push(I);C<W;){for(L=l,B=0;B<W;++B)K=s[B],K>=y&&K<L&&(L=K);for(Te=C+1,L-y>D((l-x)/Te)&&$("overflow"),x+=(L-y)*Te,y=L,B=0;B<W;++B)if(K=s[B],K<y&&++x>l&&$("overflow"),K==y){for(Y=x,G=v;Z=G<=j?h:G>=j+g?g:G-j,!(Y<Z);G+=v)re=Y-Z,ee=v-Z,U.push(V(c(Z+re%ee,0))),Y=D(re/ee);U.push(V(c(Y,0))),j=d(x,Te,C==N),x=0,++C}++x,++y}return U.join("")}function S(s){return z(s,function(y){return O.test(y)?p(y.slice(4).toLowerCase()):y})}function m(s){return z(s,function(y){return T.test(y)?"xn--"+w(y):y})}if(f={version:"1.4.1",ucs2:{decode:b,encode:o},decode:p,encode:w,toASCII:m,toUnicode:S},n&&a)if(e.exports==n)a.exports=f;else for(q in f)f.hasOwnProperty(q)&&(n[q]=f[q]);else r.punycode=f})(Ve)})(s0,s0.exports);var u0={exports:{}},tu={};function cx(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var lx=function(e,t,r,n){t=t||"&",r=r||"=";var a={};if(typeof e!="string"||e.length===0)return a;var i=/\+/g;e=e.split(t);var f=1e3;n&&typeof n.maxKeys=="number"&&(f=n.maxKeys);var l=e.length;f>0&&l>f&&(l=f);for(var v=0;v<l;++v){var h=e[v].replace(i,"%20"),g=h.indexOf(r),_,M,E,A;g>=0?(_=h.substr(0,g),M=h.substr(g+1)):(_=h,M=""),E=decodeURIComponent(_),A=decodeURIComponent(M),cx(a,E)?hx(a[E])?a[E].push(A):a[E]=[a[E],A]:a[E]=A}return a},hx=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},Cs=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},dx=function(e,t,r,n){return t=t||"&",r=r||"=",e===null&&(e=void 0),typeof e=="object"?$m(px(e),function(a){var i=encodeURIComponent(Cs(a))+r;return vx(e[a])?$m(e[a],function(f){return i+encodeURIComponent(Cs(f))}).join(t):i+encodeURIComponent(Cs(e[a]))}).join(t):n?encodeURIComponent(Cs(n))+r+encodeURIComponent(Cs(e)):""},vx=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function $m(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var px=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t};tu.decode=tu.parse=lx;tu.encode=tu.stringify=dx;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=tu;function n(f){return encodeURIComponent(f)}function a(f){return decodeURIComponent(f)}var i={decode:r.decode,encode:r.encode,parse:r.parse,stringify:r.stringify,escape:n,unescape:a};Object.defineProperty(t,"decode",{enumerable:!0,get:function(){return r.decode}}),Object.defineProperty(t,"encode",{enumerable:!0,get:function(){return r.encode}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return r.parse}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),t.default=i,t.escape=n,t.unescape=a,t=e.exports=i})(u0,u0.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=s0.exports,n=u0.exports;function a(H){return H&&typeof H=="object"&&"default"in H?H:{default:H}}var i=a(r),f=a(n),l={isString:function(H){return typeof H=="string"},isObject:function(H){return typeof H=="object"&&H!==null},isNull:function(H){return H===null},isNullOrUndefined:function(H){return H==null}},v=i.default,h=l,g=d,_=w,M=S,E=p,A=I;function I(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var O=/^([a-z0-9.+-]+:)/i,T=/:[0-9]*$/,P=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,k=["<",">",'"',"`"," ","\r",`
`,"	"],R=["{","}","|","\\","^","`"].concat(k),D=["'"].concat(R),V=["%","/","?",";","#"].concat(D),q=["/","?","#"],$=255,F=/^[+a-z0-9A-Z_-]{0,63}$/,z=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},o={javascript:!0,"javascript:":!0},u={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},c=f.default;function d(H,X,Q){if(H&&h.isObject(H)&&H instanceof I)return H;var te=new I;return te.parse(H,X,Q),te}I.prototype.parse=function(H,X,Q){if(!h.isString(H))throw new TypeError("Parameter 'url' must be a string, not "+typeof H);var te=H.indexOf("?"),ce=te!==-1&&te<H.indexOf("#")?"?":"#",Ke=H.split(ce),he=/\\/g;Ke[0]=Ke[0].replace(he,"/"),H=Ke.join(ce);var oe=H;if(oe=oe.trim(),!Q&&H.split("#").length===1){var We=P.exec(oe);if(We)return this.path=oe,this.href=oe,this.pathname=We[1],We[2]?(this.search=We[2],X?this.query=c.parse(this.search.substr(1)):this.query=this.search.substr(1)):X&&(this.search="",this.query={}),this}var fe=O.exec(oe);if(fe){fe=fe[0];var Ce=fe.toLowerCase();this.protocol=Ce,oe=oe.substr(fe.length)}if(Q||fe||oe.match(/^\/\/[^@\/]+@[^@\/]+/)){var et=oe.substr(0,2)==="//";et&&!(fe&&o[fe])&&(oe=oe.substr(2),this.slashes=!0)}if(!o[fe]&&(et||fe&&!u[fe])){for(var le=-1,we=0;we<q.length;we++){var Ze=oe.indexOf(q[we]);Ze!==-1&&(le===-1||Ze<le)&&(le=Ze)}var me,xe;le===-1?xe=oe.lastIndexOf("@"):xe=oe.lastIndexOf("@",le),xe!==-1&&(me=oe.slice(0,xe),oe=oe.slice(xe+1),this.auth=decodeURIComponent(me)),le=-1;for(var we=0;we<V.length;we++){var Ze=oe.indexOf(V[we]);Ze!==-1&&(le===-1||Ze<le)&&(le=Ze)}le===-1&&(le=oe.length),this.host=oe.slice(0,le),oe=oe.slice(le),this.parseHost(),this.hostname=this.hostname||"";var tt=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!tt)for(var ne=this.hostname.split(/\./),we=0,_e=ne.length;we<_e;we++){var Je=ne[we];if(!!Je&&!Je.match(F)){for(var de="",Ae=0,st=Je.length;Ae<st;Ae++)Je.charCodeAt(Ae)>127?de+="x":de+=Je[Ae];if(!de.match(F)){var ve=ne.slice(0,we),Ie=ne.slice(we+1),Qe=Je.match(z);Qe&&(ve.push(Qe[1]),Ie.unshift(Qe[2])),Ie.length&&(oe="/"+Ie.join(".")+oe),this.hostname=ve.join(".");break}}}this.hostname.length>$?this.hostname="":this.hostname=this.hostname.toLowerCase(),tt||(this.hostname=v.toASCII(this.hostname));var ye=this.port?":"+this.port:"",Pe=this.hostname||"";this.host=Pe+ye,this.href+=this.host,tt&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),oe[0]!=="/"&&(oe="/"+oe))}if(!b[Ce])for(var we=0,_e=D.length;we<_e;we++){var rt=D[we];if(oe.indexOf(rt)!==-1){var ge=encodeURIComponent(rt);ge===rt&&(ge=escape(rt)),oe=oe.split(rt).join(ge)}}var Oe=oe.indexOf("#");Oe!==-1&&(this.hash=oe.substr(Oe),oe=oe.slice(0,Oe));var ot=oe.indexOf("?");if(ot!==-1?(this.search=oe.substr(ot),this.query=oe.substr(ot+1),X&&(this.query=c.parse(this.query)),oe=oe.slice(0,ot)):X&&(this.search="",this.query={}),oe&&(this.pathname=oe),u[Ce]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var ye=this.pathname||"",Se=this.search||"";this.path=ye+Se}return this.href=this.format(),this};function p(H){return h.isString(H)&&(H=d(H)),H instanceof I?H.format():I.prototype.format.call(H)}I.prototype.format=function(){var H=this.auth||"";H&&(H=encodeURIComponent(H),H=H.replace(/%3A/i,":"),H+="@");var X=this.protocol||"",Q=this.pathname||"",te=this.hash||"",ce=!1,Ke="";this.host?ce=H+this.host:this.hostname&&(ce=H+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(ce+=":"+this.port)),this.query&&h.isObject(this.query)&&Object.keys(this.query).length&&(Ke=c.stringify(this.query));var he=this.search||Ke&&"?"+Ke||"";return X&&X.substr(-1)!==":"&&(X+=":"),this.slashes||(!X||u[X])&&ce!==!1?(ce="//"+(ce||""),Q&&Q.charAt(0)!=="/"&&(Q="/"+Q)):ce||(ce=""),te&&te.charAt(0)!=="#"&&(te="#"+te),he&&he.charAt(0)!=="?"&&(he="?"+he),Q=Q.replace(/[?#]/g,function(oe){return encodeURIComponent(oe)}),he=he.replace("#","%23"),X+ce+Q+he+te};function w(H,X){return d(H,!1,!0).resolve(X)}I.prototype.resolve=function(H){return this.resolveObject(d(H,!1,!0)).format()};function S(H,X){return H?d(H,!1,!0).resolveObject(X):X}I.prototype.resolveObject=function(H){if(h.isString(H)){var X=new I;X.parse(H,!1,!0),H=X}for(var Q=new I,te=Object.keys(this),ce=0;ce<te.length;ce++){var Ke=te[ce];Q[Ke]=this[Ke]}if(Q.hash=H.hash,H.href==="")return Q.href=Q.format(),Q;if(H.slashes&&!H.protocol){for(var he=Object.keys(H),oe=0;oe<he.length;oe++){var We=he[oe];We!=="protocol"&&(Q[We]=H[We])}return u[Q.protocol]&&Q.hostname&&!Q.pathname&&(Q.path=Q.pathname="/"),Q.href=Q.format(),Q}if(H.protocol&&H.protocol!==Q.protocol){if(!u[H.protocol]){for(var fe=Object.keys(H),Ce=0;Ce<fe.length;Ce++){var et=fe[Ce];Q[et]=H[et]}return Q.href=Q.format(),Q}if(Q.protocol=H.protocol,!H.host&&!o[H.protocol]){for(var _e=(H.pathname||"").split("/");_e.length&&!(H.host=_e.shift()););H.host||(H.host=""),H.hostname||(H.hostname=""),_e[0]!==""&&_e.unshift(""),_e.length<2&&_e.unshift(""),Q.pathname=_e.join("/")}else Q.pathname=H.pathname;if(Q.search=H.search,Q.query=H.query,Q.host=H.host||"",Q.auth=H.auth,Q.hostname=H.hostname||H.host,Q.port=H.port,Q.pathname||Q.search){var le=Q.pathname||"",we=Q.search||"";Q.path=le+we}return Q.slashes=Q.slashes||H.slashes,Q.href=Q.format(),Q}var Ze=Q.pathname&&Q.pathname.charAt(0)==="/",me=H.host||H.pathname&&H.pathname.charAt(0)==="/",xe=me||Ze||Q.host&&H.pathname,tt=xe,ne=Q.pathname&&Q.pathname.split("/")||[],_e=H.pathname&&H.pathname.split("/")||[],Je=Q.protocol&&!u[Q.protocol];if(Je&&(Q.hostname="",Q.port=null,Q.host&&(ne[0]===""?ne[0]=Q.host:ne.unshift(Q.host)),Q.host="",H.protocol&&(H.hostname=null,H.port=null,H.host&&(_e[0]===""?_e[0]=H.host:_e.unshift(H.host)),H.host=null),xe=xe&&(_e[0]===""||ne[0]==="")),me)Q.host=H.host||H.host===""?H.host:Q.host,Q.hostname=H.hostname||H.hostname===""?H.hostname:Q.hostname,Q.search=H.search,Q.query=H.query,ne=_e;else if(_e.length)ne||(ne=[]),ne.pop(),ne=ne.concat(_e),Q.search=H.search,Q.query=H.query;else if(!h.isNullOrUndefined(H.search)){if(Je){Q.hostname=Q.host=ne.shift();var de=Q.host&&Q.host.indexOf("@")>0?Q.host.split("@"):!1;de&&(Q.auth=de.shift(),Q.host=Q.hostname=de.shift())}return Q.search=H.search,Q.query=H.query,(!h.isNull(Q.pathname)||!h.isNull(Q.search))&&(Q.path=(Q.pathname?Q.pathname:"")+(Q.search?Q.search:"")),Q.href=Q.format(),Q}if(!ne.length)return Q.pathname=null,Q.search?Q.path="/"+Q.search:Q.path=null,Q.href=Q.format(),Q;for(var Ae=ne.slice(-1)[0],st=(Q.host||H.host||ne.length>1)&&(Ae==="."||Ae==="..")||Ae==="",ve=0,Ie=ne.length;Ie>=0;Ie--)Ae=ne[Ie],Ae==="."?ne.splice(Ie,1):Ae===".."?(ne.splice(Ie,1),ve++):ve&&(ne.splice(Ie,1),ve--);if(!xe&&!tt)for(;ve--;ve)ne.unshift("..");xe&&ne[0]!==""&&(!ne[0]||ne[0].charAt(0)!=="/")&&ne.unshift(""),st&&ne.join("/").substr(-1)!=="/"&&ne.push("");var Qe=ne[0]===""||ne[0]&&ne[0].charAt(0)==="/";if(Je){Q.hostname=Q.host=Qe?"":ne.length?ne.shift():"";var de=Q.host&&Q.host.indexOf("@")>0?Q.host.split("@"):!1;de&&(Q.auth=de.shift(),Q.host=Q.hostname=de.shift())}return xe=xe||Q.host&&ne.length,xe&&!Qe&&ne.unshift(""),ne.length?Q.pathname=ne.join("/"):(Q.pathname=null,Q.path=null),(!h.isNull(Q.pathname)||!h.isNull(Q.search))&&(Q.path=(Q.pathname?Q.pathname:"")+(Q.search?Q.search:"")),Q.auth=H.auth||Q.auth,Q.slashes=Q.slashes||H.slashes,Q.href=Q.format(),Q},I.prototype.parseHost=function(){var H=this.host,X=T.exec(H);X&&(X=X[0],X!==":"&&(this.port=X.substr(1)),H=H.substr(0,H.length-X.length)),H&&(this.hostname=H)};function m(H,X){for(var Q=0,te=H.length-1;te>=0;te--){var ce=H[te];ce==="."?H.splice(te,1):ce===".."?(H.splice(te,1),Q++):Q&&(H.splice(te,1),Q--)}if(X)for(;Q--;Q)H.unshift("..");return H}function s(){for(var H="",X=!1,Q=arguments.length-1;Q>=-1&&!X;Q--){var te=Q>=0?arguments[Q]:"/";if(typeof te!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!te)continue;H=te+"/"+H,X=te.charAt(0)==="/"}return H=m(y(H.split("/"),function(ce){return!!ce}),!X).join("/"),(X?"/":"")+H||"."}function y(H,X){if(H.filter)return H.filter(X);for(var Q=[],te=0;te<H.length;te++)X(H[te],te,H)&&Q.push(H[te]);return Q}var x=function(H){function X(){var te=this||self;return delete H.prototype.__magic__,te}if(typeof globalThis=="object")return globalThis;if(this)return X();H.defineProperty(H.prototype,"__magic__",{configurable:!0,get:X});var Q=__magic__;return Q}(Object),C=E,N=g,j=_,B=A,L=x.URL,Y=x.URLSearchParams,G=/%/g,Z=/\\/g,K=/\n/g,U=/\r/g,W=/\t/g,Te=47;function ee(H){var X=H!=null?H:null;return Boolean(X!==null&&(X==null?void 0:X.href)&&(X==null?void 0:X.origin))}function re(H){if(H.hostname!=="")throw new TypeError('File URL host must be "localhost" or empty on browser');for(var X=H.pathname,Q=0;Q<X.length;Q++)if(X[Q]==="%"){var te=X.codePointAt(Q+2)|32;if(X[Q+1]==="2"&&te===102)throw new TypeError("File URL path must not include encoded / characters")}return decodeURIComponent(X)}function De(H){return H.includes("%")&&(H=H.replace(G,"%25")),H.includes("\\")&&(H=H.replace(Z,"%5C")),H.includes(`
`)&&(H=H.replace(K,"%0A")),H.includes("\r")&&(H=H.replace(U,"%0D")),H.includes("	")&&(H=H.replace(W,"%09")),H}var ie=function(X){if(typeof X>"u")throw new TypeError('The "domain" argument must be specified');return new L("http://"+X).hostname},J=function(X){if(typeof X>"u")throw new TypeError('The "domain" argument must be specified');return new L("http://"+X).hostname},qe=function(X){var Q=new L("file://"),te=s(X),ce=X.charCodeAt(X.length-1);return ce===Te&&te[te.length-1]!=="/"&&(te+="/"),Q.pathname=De(te),Q},ae=function(X){if(!ee(X)&&typeof X!="string")throw new TypeError('The "path" argument must be of type string or an instance of URL. Received type '+typeof X+" ("+X+")");var Q=new L(X);if(Q.protocol!=="file:")throw new TypeError("The URL must be of scheme file");return re(Q)},be=function(X,Q){var te,ce,Ke;if(Q===void 0&&(Q={}),!(X instanceof L))return C(X);if(typeof Q!="object"||Q===null)throw new TypeError('The "options" argument must be of type object.');var he=(te=Q.auth)!=null?te:!0,oe=(ce=Q.fragment)!=null?ce:!0,We=(Ke=Q.search)!=null?Ke:!0,fe=new L(X.toString());return he||(fe.username="",fe.password=""),oe||(fe.hash=""),We||(fe.search=""),fe.toString()},Ge={format:be,parse:N,resolve:j,resolveObject:M,Url:B,URL:L,URLSearchParams:Y,domainToASCII:ie,domainToUnicode:J,pathToFileURL:qe,fileURLToPath:ae};t.URL=L,t.URLSearchParams=Y,t.Url=B,t.default=Ge,t.domainToASCII=ie,t.domainToUnicode=J,t.fileURLToPath=ae,t.format=be,t.parse=N,t.pathToFileURL=qe,t.resolve=j,t.resolveObject=M,t=e.exports=Ge})(Xt,Xt.exports);var Lu=new wt("Util"),zr=function(e){Hw(t,e);function t(r){var n=e.call(this,r)||this;return n.nonRetryable=!0,n}return t}(Error),o2=function(e){var t="nonRetryable";return e&&e[t]};function s2(e,t,r,n){return tr(this,void 0,void 0,function(){var a=this;return Yt(this,function(i){if(typeof e!="function")throw Error("functionToRetry must be a function");return[2,new Promise(function(f,l){return tr(a,void 0,void 0,function(){var v,h,g,_,M,E,A;return Yt(this,function(I){switch(I.label){case 0:v=0,h=!1,_=function(){},n&&n.then(function(){h=!0,clearTimeout(g),_()}),E=function(){var O,T,P,k;return Yt(this,function(R){switch(R.label){case 0:v++,Lu.debug(e.name+" attempt #"+v+" with this vars: "+JSON.stringify(t)),R.label=1;case 1:return R.trys.push([1,3,,7]),O={},T=f,[4,e.apply(void 0,t0(t))];case 2:return[2,(O.value=T.apply(void 0,[R.sent()]),O)];case 3:return P=R.sent(),M=P,Lu.debug("error on "+e.name,P),o2(P)?(Lu.debug(e.name+" non retryable error",P),[2,{value:l(P)}]):(k=r(v,t,P),Lu.debug(e.name+" retrying in "+k+" ms"),k===!1||h?[2,{value:l(P)}]:[3,4]);case 4:return[4,new Promise(function(D){_=D,g=setTimeout(_,k)})];case 5:R.sent(),R.label=6;case 6:return[3,7];case 7:return[2]}})},I.label=1;case 1:return h?[3,3]:[5,E()];case 2:return A=I.sent(),typeof A=="object"?[2,A.value]:[3,1];case 3:return l(M),[2]}})})})]})})}var u2=5*60*1e3;function f2(e){e===void 0&&(e=u2);var t=100,r=100;return function(n){var a=Math.pow(2,n)*t+r*Math.random();return a>e?!1:a}}var Jv=function(e,t,r,n){return r===void 0&&(r=u2),s2(e,t,f2(r),n)};/*!
 * The MIT License (MIT)
 *
 * Copyright (c) 2016 Christian Speckner <cnspeckn@googlemail.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var mx=function(){function e(){this._queue=[],this._pending=!1}return e.prototype.isLocked=function(){return this._pending},e.prototype.acquire=function(){var t=this,r=new Promise(function(n){return t._queue.push(n)});return this._pending||this._dispatchNext(),r},e.prototype.runExclusive=function(t){return this.acquire().then(function(r){var n;try{n=t()}catch(a){throw r(),a}return Promise.resolve(n).then(function(a){return r(),a},function(a){throw r(),a})})},e.prototype._dispatchNext=function(){this._queue.length>0?(this._pending=!0,this._queue.shift()(this._dispatchNext.bind(this))):this._pending=!1},e}();const yx=mx;var Gc={};Object.defineProperty(Gc,"__esModule",{value:!0});Gc.Observable=void 0;function Zv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Yv(e,t,r){return t&&Vm(e.prototype,t),r&&Vm(e,r),e}var Xv=function(){return typeof Symbol=="function"},Qv=function(e){return Xv()&&Boolean(Symbol[e])},ep=function(e){return Qv(e)?Symbol[e]:"@@"+e};Xv()&&!Qv("observable")&&(Symbol.observable=Symbol("observable"));var gx=ep("iterator"),f0=ep("observable"),c2=ep("species");function Gf(e,t){var r=e[t];if(r!=null){if(typeof r!="function")throw new TypeError(r+" is not a function");return r}}function Os(e){var t=e.constructor;return t!==void 0&&(t=t[c2],t===null&&(t=void 0)),t!==void 0?t:Wc}function bx(e){return e instanceof Wc}function Jo(e){Jo.log?Jo.log(e):setTimeout(function(){throw e})}function df(e){Promise.resolve().then(function(){try{e()}catch(t){Jo(t)}})}function l2(e){var t=e._cleanup;if(t!==void 0&&(e._cleanup=void 0,!!t))try{if(typeof t=="function")t();else{var r=Gf(t,"unsubscribe");r&&r.call(t)}}catch(n){Jo(n)}}function c0(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function wx(e){var t=e._queue;if(!!t){e._queue=void 0,e._state="ready";for(var r=0;r<t.length&&(h2(e,t[r].type,t[r].value),e._state!=="closed");++r);}}function h2(e,t,r){e._state="running";var n=e._observer;try{var a=Gf(n,t);switch(t){case"next":a&&a.call(n,r);break;case"error":if(c0(e),a)a.call(n,r);else throw r;break;case"complete":c0(e),a&&a.call(n);break}}catch(i){Jo(i)}e._state==="closed"?l2(e):e._state==="running"&&(e._state="ready")}function Ql(e,t,r){if(e._state!=="closed"){if(e._state==="buffering"){e._queue.push({type:t,value:r});return}if(e._state!=="ready"){e._state="buffering",e._queue=[{type:t,value:r}],df(function(){return wx(e)});return}h2(e,t,r)}}var _x=function(){function e(t,r){Zv(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var n=new Sx(this);try{this._cleanup=r.call(void 0,n)}catch(a){n.error(a)}this._state==="initializing"&&(this._state="ready")}return Yv(e,[{key:"unsubscribe",value:function(){this._state!=="closed"&&(c0(this),l2(this))}},{key:"closed",get:function(){return this._state==="closed"}}]),e}(),Sx=function(){function e(t){Zv(this,e),this._subscription=t}return Yv(e,[{key:"next",value:function(r){Ql(this._subscription,"next",r)}},{key:"error",value:function(r){Ql(this._subscription,"error",r)}},{key:"complete",value:function(){Ql(this._subscription,"complete")}},{key:"closed",get:function(){return this._subscription._state==="closed"}}]),e}(),Wc=function(){function e(t){if(Zv(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if(typeof t!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=t}return Yv(e,[{key:"subscribe",value:function(r){return(typeof r!="object"||r===null)&&(r={next:r,error:arguments[1],complete:arguments[2]}),new _x(r,this._subscriber)}},{key:"forEach",value:function(r){var n=this;return new Promise(function(a,i){if(typeof r!="function"){i(new TypeError(r+" is not a function"));return}function f(){l.unsubscribe(),a()}var l=n.subscribe({next:function(v){try{r(v,f)}catch(h){i(h),l.unsubscribe()}},error:i,complete:a})})}},{key:"map",value:function(r){var n=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var a=Os(this);return new a(function(i){return n.subscribe({next:function(f){try{f=r(f)}catch(l){return i.error(l)}i.next(f)},error:function(f){i.error(f)},complete:function(){i.complete()}})})}},{key:"filter",value:function(r){var n=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var a=Os(this);return new a(function(i){return n.subscribe({next:function(f){try{if(!r(f))return}catch(l){return i.error(l)}i.next(f)},error:function(f){i.error(f)},complete:function(){i.complete()}})})}},{key:"reduce",value:function(r){var n=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var a=Os(this),i=arguments.length>1,f=!1,l=arguments[1],v=l;return new a(function(h){return n.subscribe({next:function(g){var _=!f;if(f=!0,!_||i)try{v=r(v,g)}catch(M){return h.error(M)}else v=g},error:function(g){h.error(g)},complete:function(){if(!f&&!i)return h.error(new TypeError("Cannot reduce an empty sequence"));h.next(v),h.complete()}})})}},{key:"concat",value:function(){for(var r=this,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var f=Os(this);return new f(function(l){var v,h=0;function g(_){v=_.subscribe({next:function(M){l.next(M)},error:function(M){l.error(M)},complete:function(){h===a.length?(v=void 0,l.complete()):g(f.from(a[h++]))}})}return g(r),function(){v&&(v.unsubscribe(),v=void 0)}})}},{key:"flatMap",value:function(r){var n=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var a=Os(this);return new a(function(i){var f=[],l=n.subscribe({next:function(h){if(r)try{h=r(h)}catch(_){return i.error(_)}var g=a.from(h).subscribe({next:function(_){i.next(_)},error:function(_){i.error(_)},complete:function(){var _=f.indexOf(g);_>=0&&f.splice(_,1),v()}});f.push(g)},error:function(h){i.error(h)},complete:function(){v()}});function v(){l.closed&&f.length===0&&i.complete()}return function(){f.forEach(function(h){return h.unsubscribe()}),l.unsubscribe()}})}},{key:f0,value:function(){return this}}],[{key:"from",value:function(r){var n=typeof this=="function"?this:e;if(r==null)throw new TypeError(r+" is not an object");var a=Gf(r,f0);if(a){var i=a.call(r);if(Object(i)!==i)throw new TypeError(i+" is not an object");return bx(i)&&i.constructor===n?i:new n(function(f){return i.subscribe(f)})}if(Qv("iterator")&&(a=Gf(r,gx),a))return new n(function(f){df(function(){if(!f.closed){var l=!0,v=!1,h=void 0;try{for(var g=a.call(r)[Symbol.iterator](),_;!(l=(_=g.next()).done);l=!0){var M=_.value;if(f.next(M),f.closed)return}}catch(E){v=!0,h=E}finally{try{!l&&g.return!=null&&g.return()}finally{if(v)throw h}}f.complete()}})});if(Array.isArray(r))return new n(function(f){df(function(){if(!f.closed){for(var l=0;l<r.length;++l)if(f.next(r[l]),f.closed)return;f.complete()}})});throw new TypeError(r+" is not observable")}},{key:"of",value:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=typeof this=="function"?this:e;return new i(function(f){df(function(){if(!f.closed){for(var l=0;l<n.length;++l)if(f.next(n[l]),f.closed)return;f.complete()}})})}},{key:c2,get:function(){return this}}]),e}();Gc.Observable=Wc;Xv()&&Object.defineProperty(Wc,Symbol("extensions"),{value:{symbol:f0,hostReportError:Jo},configurable:!0});var Mx=Gc.Observable,xx=Mx;const Pr=xx;var Ex=function(){function e(){}return e.prototype.networkMonitor=function(t){if(Kr().isNode)return Pr.from([{online:!0}]);var r=n2()?self:window;return new Pr(function(n){n.next({online:r.navigator.onLine});var a=function(){return n.next({online:!0})},i=function(){return n.next({online:!1})};return r.addEventListener("online",a),r.addEventListener("offline",i),e._observers.push(n),function(){r.removeEventListener("online",a),r.removeEventListener("offline",i),e._observers=e._observers.filter(function(f){return f!==n})}})},e._observerOverride=function(t){var r,n,a=function(v){if(v.closed)return e._observers=e._observers.filter(function(h){return h!==v}),"continue";v.next(t)};try{for(var i=Gw(e._observers),f=i.next();!f.done;f=i.next()){var l=f.value;a(l)}}catch(v){r={error:v}}finally{try{f&&!f.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e._observers=[],e}();const d2=Ex;var Ax=1e3*60*5,hn={clockOffset:0,getDateWithClockOffset:function(){return hn.clockOffset?new Date(new Date().getTime()+hn.clockOffset):new Date},getClockOffset:function(){return hn.clockOffset},getHeaderStringFromDate:function(e){return e===void 0&&(e=hn.getDateWithClockOffset()),e.toISOString().replace(/[:\-]|\.\d{3}/g,"")},getDateFromHeaderString:function(e){var t=Kw(e.match(/^(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2}).+/),7),r=t[1],n=t[2],a=t[3],i=t[4],f=t[5],l=t[6];return new Date(Date.UTC(Number(r),Number(n)-1,Number(a),Number(i),Number(f),Number(l)))},isClockSkewed:function(e){return Math.abs(e.getTime()-hn.getDateWithClockOffset().getTime())>=Ax},isClockSkewError:function(e){if(!e.response||!e.response.headers)return!1;var t=e.response.headers;return Boolean(["BadRequestException","InvalidSignatureException"].includes(t["x-amzn-errortype"])&&(t.date||t.Date))},setClockOffset:function(e){hn.clockOffset=e}};function Ix(e){return e.split("").map(function(t){return t.charCodeAt(0).toString(16).padStart(2,"0")}).join("")}function Tx(e){return e.match(/.{2}/g).map(function(t){return String.fromCharCode(parseInt(t,16))}).join("")}var Va=function(){function e(){this._state=bi.Open,this.jobs=new Set}return e.prototype.add=function(t,r){var n,a;typeof t=="string"?(n=void 0,a=t):(n=t,a=r);var i=this.closedFailure(a);if(i)return i;if(n===void 0)return this.addHook(a);if(typeof n=="function")return this.addFunction(n,a);if(n instanceof e)return this.addManager(n,a);throw new Error("If `job` is provided, it must be an Observable, Function, or BackgroundProcessManager.")},e.prototype.addCleaner=function(t,r){var n=this,a=this.addHook(r),i=a.resolve,f=a.onTerminate,l=function(){return tr(n,void 0,void 0,function(){return Yt(this,function(v){switch(v.label){case 0:return[4,t()];case 1:return v.sent(),i(),[2]}})})};return f.then(l),l},e.prototype.addFunction=function(t,r){var n,a=new Promise(function(f){n=f}),i=t(a);return typeof(i==null?void 0:i.then)=="function"&&this.registerPromise(i,n,r),i},e.prototype.addManager=function(t,r){var n=this;this.addCleaner(function(){return tr(n,void 0,void 0,function(){return Yt(this,function(a){switch(a.label){case 0:return[4,t.close()];case 1:return[2,a.sent()]}})})},r)},e.prototype.addHook=function(t){var r,n,a=new Promise(function(l,v){r=l,n=v}),i,f=new Promise(function(l){i=l});return this.registerPromise(a,i,t),{resolve:r,reject:n,onTerminate:f}},e.prototype.registerPromise=function(t,r,n){var a=this,i={promise:t,terminate:r,description:n};this.jobs.add(i),t.then(function(){a.jobs.delete(i)}).catch(function(){a.jobs.delete(i)})},Object.defineProperty(e.prototype,"length",{get:function(){return this.jobs.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pending",{get:function(){return Array.from(this.jobs).map(function(t){return t.description})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return this._state===bi.Open},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isClosing",{get:function(){return this._state===bi.Closing},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isClosed",{get:function(){return this._state===bi.Closed},enumerable:!0,configurable:!0}),e.prototype.closedFailure=function(t){if(!this.isOpen)return Promise.reject(new Cx(["The manager is "+this.state+".",'You tried to add "'+t+'".',`Pending jobs: [
`+this.pending.map(function(r){return"    "+r}).join(`,
`)+`
]`].join(`
`)))},e.prototype.close=function(){return tr(this,void 0,void 0,function(){var t,r,n,a,i;return Yt(this,function(f){switch(f.label){case 0:if(!this.isOpen)return[3,2];this._state=bi.Closing;try{for(t=Gw(Array.from(this.jobs)),r=t.next();!r.done;r=t.next()){n=r.value;try{n.terminate()}catch(l){console.warn("Failed to send termination signal to job. Error: "+l.message,n)}}}catch(l){a={error:l}}finally{try{r&&!r.done&&(i=t.return)&&i.call(t)}finally{if(a)throw a.error}}return this._closingPromise=Promise.allSettled(Array.from(this.jobs).map(function(l){return l.promise})),[4,this._closingPromise];case 1:f.sent(),this._state=bi.Closed,f.label=2;case 2:return[2,this._closingPromise]}})})},e.prototype.open=function(){return tr(this,void 0,void 0,function(){return Yt(this,function(t){switch(t.label){case 0:return this.isClosing?[4,this.close()]:[3,2];case 1:t.sent(),t.label=2;case 2:return this._state=bi.Open,[2]}})})},e}(),Cx=function(e){Hw(t,e);function t(r){return e.call(this,"BackgroundManagerNotOpenError: "+r)||this}return t}(Error),bi;(function(e){e.Open="Open",e.Closing="Closing",e.Closed="Closed"})(bi||(bi={}));var v2=new wt("Signer"),qu="AWS4-HMAC-SHA256",Ox="iotdevicegateway",$s=function(e,t){var r=new Ci.Sha256(e);return r.update(t),r.digestSync()},p2=function(e){var t=e||"",r=new Ci.Sha256;return r.update(t),Xi(r.digestSync())},Px=function(e){return e.replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})},kx=function(e){return!e||e.length===0?"":e.split("&").map(function(t){var r=t.split("=");if(r.length===1)return t;var n=Px(r[1]);return r[0]+"="+n}).sort(function(t,r){var n=t.split("=")[0],a=r.split("=")[0];return n===a?t<r?-1:1:n<a?-1:1}).join("&")},Rx=function(e){return!e||Object.keys(e).length===0?"":Object.keys(e).map(function(t){return{key:t.toLowerCase(),value:e[t]?e[t].trim().replace(/\s+/g," "):""}}).sort(function(t,r){return t.key<r.key?-1:1}).map(function(t){return t.key+":"+t.value}).join(`
`)+`
`},m2=function(e){return Object.keys(e).map(function(t){return t.toLowerCase()}).sort().join(";")},zm=function(e){var t=Xt.exports.parse(e.url);return[e.method||"/",encodeURIComponent(t.pathname).replace(/%2F/gi,"/"),kx(t.query),Rx(e.headers),m2(e.headers),p2(e.data)].join(`
`)},Km=function(e){var t=Xt.exports.parse(e.url),r=t.host,n=r.match(/([^\.]+)\.(?:([^\.]*)\.)?amazonaws\.com$/),a=(n||[]).slice(1,3);return a[1]==="es"&&(a=a.reverse()),{service:e.service||a[0],region:e.region||a[1]}},Hm=function(e,t,r){return[e,t,r,"aws4_request"].join("/")},Gm=function(e,t,r,n){return[e,r,n,p2(t)].join(`
`)},Wm=function(e,t,r){v2.debug(r);var n="AWS4"+e,a=$s(n,t),i=$s(a,r.region),f=$s(i,r.service),l=$s(f,"aws4_request");return l},Jm=function(e,t){return Xi($s(e,t))},Nx=function(e,t,r,n,a){return[e+" Credential="+t+"/"+r,"SignedHeaders="+n,"Signature="+a].join(", ")},y2=function(){function e(){}return e.sign=function(t,r,n){if(n===void 0&&(n=null),t.headers=t.headers||{},t.body&&!t.data)throw new Error('The attribute "body" was found on the request object. Please use the attribute "data" instead.');var a=hn.getDateWithClockOffset(),i=a.toISOString().replace(/[:\-]|\.\d{3}/g,""),f=i.substr(0,8),l=Xt.exports.parse(t.url);t.headers.host=l.host,t.headers["x-amz-date"]=i,r.session_token&&(t.headers["X-Amz-Security-Token"]=r.session_token);var v=zm(t);v2.debug(v);var h=n||Km(t),g=Hm(f,h.region,h.service),_=Gm(qu,v,i,g),M=Wm(r.secret_key,f,h),E=Jm(M,_),A=Nx(qu,r.access_key,g,m2(t.headers),E);return t.headers.Authorization=A,t},e.signUrl=function(t,r,n,a){var i=typeof t=="object"?t.url:t,f=typeof t=="object"?t.method:"GET",l=typeof t=="object"?t.body:void 0,v=hn.getDateWithClockOffset().toISOString().replace(/[:\-]|\.\d{3}/g,""),h=v.substr(0,8),g=Xt.exports.parse(i,!0,!0);g.search;var _=b6(g,["search"]),M=_.host,E={host:M},A=n||Km({url:Xt.exports.format(_)}),I=A.region,O=A.service,T=Hm(h,I,O),P=r.session_token&&O!==Ox,k=Mt(Mt(Mt({"X-Amz-Algorithm":qu,"X-Amz-Credential":[r.access_key,T].join("/"),"X-Amz-Date":v.substr(0,16)},P?{"X-Amz-Security-Token":""+r.session_token}:{}),a?{"X-Amz-Expires":""+a}:{}),{"X-Amz-SignedHeaders":Object.keys(E).join(",")}),R=zm({method:f,url:Xt.exports.format(Mt(Mt({},_),{query:Mt(Mt({},_.query),k)})),headers:E,data:l}),D=Gm(qu,R,v,T),V=Wm(r.secret_key,h,{region:I,service:O}),q=Jm(V,D),$=Mt({"X-Amz-Signature":q},r.session_token&&{"X-Amz-Security-Token":r.session_token}),F=Xt.exports.format({protocol:_.protocol,slashes:!0,hostname:_.hostname,port:_.port,pathname:_.pathname,query:Mt(Mt(Mt({},_.query),k),$)});return F},e}(),Dx=new wt("Parser"),g2=function(e){var t={};if(e.aws_mobile_analytics_app_id){var r={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};t.Analytics=r}(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(t.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:e.aws_mandatory_sign_in==="enable",signUpVerificationMethod:e.aws_cognito_sign_up_verification_method||"code"});var n;return e.aws_user_files_s3_bucket?n={AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:n=e?e.Storage||e:{},e.Logging&&(t.Logging=Mt(Mt({},e.Logging),{region:e.aws_project_region})),e.geo&&(t.Geo=Object.assign({},e.geo),e.geo.amazon_location_service&&(t.Geo={AmazonLocationService:e.geo.amazon_location_service})),t.Analytics=Object.assign({},t.Analytics,e.Analytics),t.Auth=Object.assign({},t.Auth,e.Auth),t.Storage=Object.assign({},n),t.Logging=Object.assign({},t.Logging,e.Logging),Dx.debug("parse config",e,"to amplifyconfig",t),t},l0=function(e,t){return l0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},l0(e,t)};function ys(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l0(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var pe=function(){return pe=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},pe.apply(this,arguments)};function Aa(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function ue(e,t,r,n){function a(i){return i instanceof r?i:new r(function(f){f(i)})}return new(r||(r=Promise))(function(i,f){function l(g){try{h(n.next(g))}catch(_){f(_)}}function v(g){try{h(n.throw(g))}catch(_){f(_)}}function h(g){g.done?i(g.value):a(g.value).then(l,v)}h((n=n.apply(e,t||[])).next())})}function se(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(h){return function(g){return v([h,g])}}function v(h){if(n)throw new TypeError("Generator is already executing.");for(;f&&(f=0,h[0]&&(r=0)),r;)try{if(n=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){r.label=h[1];break}if(h[0]===6&&r.label<i[1]){r.label=i[1],i=h;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(h);break}i[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],a=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function He(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Le(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],f;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){f={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(f)throw f.error}}return i}function Wt(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Le(arguments[t]));return e}function ti(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof He=="function"?He(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(f){return new Promise(function(l,v){f=e[i](f),a(l,v,f.done,f.value)})}}function a(i,f,l,v){Promise.resolve(v).then(function(h){i({value:h,done:l})},f)}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Zo=function(){return Zo=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Zo.apply(this,arguments)};function Bx(e,t,r,n){function a(i){return i instanceof r?i:new r(function(f){f(i)})}return new(r||(r=Promise))(function(i,f){function l(g){try{h(n.next(g))}catch(_){f(_)}}function v(g){try{h(n.throw(g))}catch(_){f(_)}}function h(g){g.done?i(g.value):a(g.value).then(l,v)}h((n=n.apply(e,t||[])).next())})}function Ux(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(h){return function(g){return v([h,g])}}function v(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){r.label=h[1];break}if(h[0]===6&&r.label<i[1]){r.label=i[1],i=h;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(h);break}i[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],a=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var Fx=function(e){var t;return Zo(Zo({},e),{tls:(t=e.tls)!==null&&t!==void 0?t:!0,endpoint:e.endpoint?Lx(e):function(){return qx(e)},isCustomEndpoint:!!e.endpoint})},Lx=function(e){var t=e.endpoint,r=e.urlParser;if(typeof t=="string"){var n=Promise.resolve(r(t));return function(){return n}}else if(typeof t=="object"){var a=Promise.resolve(t);return function(){return a}}return t},qx=function(e){return Bx(void 0,void 0,void 0,function(){var t,r,n,a,i,f;return Ux(this,function(l){switch(l.label){case 0:return t=e.tls,r=t===void 0?!0:t,[4,e.region()];case 1:if(n=l.sent(),a=new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/),!a.test(n))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(n)];case 2:if(i=((f=l.sent())!==null&&f!==void 0?f:{}).hostname,!i)throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((r?"https:":"http:")+"//"+i)]}})})},jx="AWS_REGION",$x="region",Vx={environmentVariableSelector:function(e){return e[jx]},configFileSelector:function(e){return e[$x]},default:function(){throw new Error("Region is missing")}},zx={preferredFile:"credentials"},Kx=function(e){if(!e.region)throw new Error("Region is missing");return Zo(Zo({},e),{region:Hx(e.region)})},Hx=function(e){if(typeof e=="string"){var t=Promise.resolve(e);return function(){return t}}return e};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var h0=function(){return h0=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},h0.apply(this,arguments)};function Gx(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],f;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){f={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(f)throw f.error}}return i}function Wx(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Gx(arguments[t]));return e}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var d0=function(e,t){return d0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])},d0(e,t)};function Jx(e,t){d0(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Zx(e,t,r,n){function a(i){return i instanceof r?i:new r(function(f){f(i)})}return new(r||(r=Promise))(function(i,f){function l(g){try{h(n.next(g))}catch(_){f(_)}}function v(g){try{h(n.throw(g))}catch(_){f(_)}}function h(g){g.done?i(g.value):a(g.value).then(l,v)}h((n=n.apply(e,t||[])).next())})}function Yx(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(h){return function(g){return v([h,g])}}function v(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){r.label=h[1];break}if(h[0]===6&&r.label<i[1]){r.label=i[1],i=h;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(h);break}i[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],a=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Xx(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Qt=function(e){Jx(t,e);function t(r,n){n===void 0&&(n=!0);var a=e.call(this,r)||this;return a.tryNextLink=n,a}return t}(Error);function b2(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){var r,n,a=Promise.reject(new Qt("No providers in chain")),i=function(h){a=a.catch(function(g){if(g!=null&&g.tryNextLink)return h();throw g})};try{for(var f=Xx(e),l=f.next();!l.done;l=f.next()){var v=l.value;i(v)}}catch(h){r={error:h}}finally{try{l&&!l.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}return a}}var Qx=function(e){return function(){return Promise.resolve(e)}},w2=function(e,t,r){var n,a;if(t===void 0)return function(){return a||(n=e(),a=!0),n};var i=!1;return function(){return Zx(void 0,void 0,void 0,function(){var f;return Yx(this,function(l){switch(l.label){case 0:return a||(n=e(),a=!0),i?[2,n]:[4,n];case 1:return f=l.sent(),r&&!r(f)?(i=!0,[2,f]):t(f)?[2,n=e()]:[2,f]}})})}},eE="AWS_ACCESS_KEY_ID",tE="AWS_SECRET_ACCESS_KEY",rE="AWS_SESSION_TOKEN",nE="AWS_CREDENTIAL_EXPIRATION";function iE(){return function(){var e={}[eE],t={}[tE],r={}[nE];return e&&t?Promise.resolve({accessKeyId:e,secretAccessKey:t,sessionToken:{}[rE],expiration:r?new Date(r):void 0}):Promise.reject(new Qt("Unable to find environment variable credentials."))}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var en=function(){return en=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},en.apply(this,arguments)};function Qi(e,t,r,n){function a(i){return i instanceof r?i:new r(function(f){f(i)})}return new(r||(r=Promise))(function(i,f){function l(g){try{h(n.next(g))}catch(_){f(_)}}function v(g){try{h(n.throw(g))}catch(_){f(_)}}function h(g){g.done?i(g.value):a(g.value).then(l,v)}h((n=n.apply(e,t||[])).next())})}function ea(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(h){return function(g){return v([h,g])}}function v(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){r.label=h[1];break}if(h[0]===6&&r.label<i[1]){r.label=i[1],i=h;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(h);break}i[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],a=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var ru={},_2={exports:{}},tp={};(function(e){e.fetch=a(Ve.fetch)&&a(Ve.ReadableStream),e.writableStream=a(Ve.WritableStream),e.abortController=a(Ve.AbortController);var t;function r(){if(t!==void 0)return t;if(Ve.XMLHttpRequest){t=new Ve.XMLHttpRequest;try{t.open("GET",Ve.XDomainRequest?"/":"https://example.com")}catch{t=null}}else t=null;return t}function n(i){var f=r();if(!f)return!1;try{return f.responseType=i,f.responseType===i}catch{}return!1}e.arraybuffer=e.fetch||n("arraybuffer"),e.msstream=!e.fetch&&n("ms-stream"),e.mozchunkedarraybuffer=!e.fetch&&n("moz-chunked-arraybuffer"),e.overrideMimeType=e.fetch||(r()?a(r().overrideMimeType):!1);function a(i){return typeof i=="function"}t=null})(tp);var at={exports:{}};typeof Object.create=="function"?at.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:at.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}};var Jc={},Yo={exports:{}},gu={exports:{}},Bo=typeof Reflect=="object"?Reflect:null,Zm=Bo&&typeof Bo.apply=="function"?Bo.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},vf;Bo&&typeof Bo.ownKeys=="function"?vf=Bo.ownKeys:Object.getOwnPropertySymbols?vf=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:vf=function(t){return Object.getOwnPropertyNames(t)};function aE(e){console&&console.warn&&console.warn(e)}var S2=Number.isNaN||function(t){return t!==t};function Et(){Et.init.call(this)}gu.exports=Et;gu.exports.once=fE;Et.EventEmitter=Et;Et.prototype._events=void 0;Et.prototype._eventsCount=0;Et.prototype._maxListeners=void 0;var Ym=10;function Zc(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Et,"defaultMaxListeners",{enumerable:!0,get:function(){return Ym},set:function(e){if(typeof e!="number"||e<0||S2(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Ym=e}});Et.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Et.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||S2(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function M2(e){return e._maxListeners===void 0?Et.defaultMaxListeners:e._maxListeners}Et.prototype.getMaxListeners=function(){return M2(this)};Et.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var a=t==="error",i=this._events;if(i!==void 0)a=a&&i.error===void 0;else if(!a)return!1;if(a){var f;if(r.length>0&&(f=r[0]),f instanceof Error)throw f;var l=new Error("Unhandled error."+(f?" ("+f.message+")":""));throw l.context=f,l}var v=i[t];if(v===void 0)return!1;if(typeof v=="function")Zm(v,this,r);else for(var h=v.length,g=T2(v,h),n=0;n<h;++n)Zm(g[n],this,r);return!0};function x2(e,t,r,n){var a,i,f;if(Zc(r),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),f=i[t]),f===void 0)f=i[t]=r,++e._eventsCount;else if(typeof f=="function"?f=i[t]=n?[r,f]:[f,r]:n?f.unshift(r):f.push(r),a=M2(e),a>0&&f.length>a&&!f.warned){f.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+f.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=f.length,aE(l)}return e}Et.prototype.addListener=function(t,r){return x2(this,t,r,!1)};Et.prototype.on=Et.prototype.addListener;Et.prototype.prependListener=function(t,r){return x2(this,t,r,!0)};function oE(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function E2(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},a=oE.bind(n);return a.listener=r,n.wrapFn=a,a}Et.prototype.once=function(t,r){return Zc(r),this.on(t,E2(this,t,r)),this};Et.prototype.prependOnceListener=function(t,r){return Zc(r),this.prependListener(t,E2(this,t,r)),this};Et.prototype.removeListener=function(t,r){var n,a,i,f,l;if(Zc(r),a=this._events,a===void 0)return this;if(n=a[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete a[t],a.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(i=-1,f=n.length-1;f>=0;f--)if(n[f]===r||n[f].listener===r){l=n[f].listener,i=f;break}if(i<0)return this;i===0?n.shift():sE(n,i),n.length===1&&(a[t]=n[0]),a.removeListener!==void 0&&this.emit("removeListener",t,l||r)}return this};Et.prototype.off=Et.prototype.removeListener;Et.prototype.removeAllListeners=function(t){var r,n,a;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var i=Object.keys(n),f;for(a=0;a<i.length;++a)f=i[a],f!=="removeListener"&&this.removeAllListeners(f);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(a=r.length-1;a>=0;a--)this.removeListener(t,r[a]);return this};function A2(e,t,r){var n=e._events;if(n===void 0)return[];var a=n[t];return a===void 0?[]:typeof a=="function"?r?[a.listener||a]:[a]:r?uE(a):T2(a,a.length)}Et.prototype.listeners=function(t){return A2(this,t,!0)};Et.prototype.rawListeners=function(t){return A2(this,t,!1)};Et.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):I2.call(e,t)};Et.prototype.listenerCount=I2;function I2(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Et.prototype.eventNames=function(){return this._eventsCount>0?vf(this._events):[]};function T2(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function sE(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function uE(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function fE(e,t){return new Promise(function(r,n){function a(f){e.removeListener(t,i),n(f)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",a),r([].slice.call(arguments))}C2(e,t,i,{once:!0}),t!=="error"&&cE(e,a,{once:!0})})}function cE(e,t,r){typeof e.on=="function"&&C2(e,"error",t,r)}function C2(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function a(i){n.once&&e.removeEventListener(t,a),r(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var O2=gu.exports.EventEmitter,rp={},P2={},k2=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var a=42;t[r]=a;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var i=Object.getOwnPropertySymbols(t);if(i.length!==1||i[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var f=Object.getOwnPropertyDescriptor(t,r);if(f.value!==a||f.enumerable!==!0)return!1}return!0},lE=k2,Yc=function(){return lE()&&!!Symbol.toStringTag},Xm=typeof Symbol<"u"&&Symbol,hE=k2,dE=function(){return typeof Xm!="function"||typeof Symbol!="function"||typeof Xm("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hE()},vE="Function.prototype.bind called on incompatible ",eh=Array.prototype.slice,pE=Object.prototype.toString,mE="[object Function]",yE=function(t){var r=this;if(typeof r!="function"||pE.call(r)!==mE)throw new TypeError(vE+r);for(var n=eh.call(arguments,1),a,i=function(){if(this instanceof a){var g=r.apply(this,n.concat(eh.call(arguments)));return Object(g)===g?g:this}else return r.apply(t,n.concat(eh.call(arguments)))},f=Math.max(0,r.length-n.length),l=[],v=0;v<f;v++)l.push("$"+v);if(a=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var h=function(){};h.prototype=r.prototype,a.prototype=new h,h.prototype=null}return a},gE=yE,np=Function.prototype.bind||gE,bE=np,wE=bE.call(Function.call,Object.prototype.hasOwnProperty),lt,Xo=SyntaxError,R2=Function,Uo=TypeError,th=function(e){try{return R2('"use strict"; return ('+e+").constructor;")()}catch{}},Ba=Object.getOwnPropertyDescriptor;if(Ba)try{Ba({},"")}catch{Ba=null}var rh=function(){throw new Uo},_E=Ba?function(){try{return arguments.callee,rh}catch{try{return Ba(arguments,"callee").get}catch{return rh}}}():rh,lo=dE(),Zn=Object.getPrototypeOf||function(e){return e.__proto__},So={},SE=typeof Uint8Array>"u"?lt:Zn(Uint8Array),Ua={"%AggregateError%":typeof AggregateError>"u"?lt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?lt:ArrayBuffer,"%ArrayIteratorPrototype%":lo?Zn([][Symbol.iterator]()):lt,"%AsyncFromSyncIteratorPrototype%":lt,"%AsyncFunction%":So,"%AsyncGenerator%":So,"%AsyncGeneratorFunction%":So,"%AsyncIteratorPrototype%":So,"%Atomics%":typeof Atomics>"u"?lt:Atomics,"%BigInt%":typeof BigInt>"u"?lt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?lt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?lt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?lt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?lt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?lt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?lt:FinalizationRegistry,"%Function%":R2,"%GeneratorFunction%":So,"%Int8Array%":typeof Int8Array>"u"?lt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?lt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?lt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":lo?Zn(Zn([][Symbol.iterator]())):lt,"%JSON%":typeof JSON=="object"?JSON:lt,"%Map%":typeof Map>"u"?lt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!lo?lt:Zn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?lt:Promise,"%Proxy%":typeof Proxy>"u"?lt:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?lt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?lt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!lo?lt:Zn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?lt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":lo?Zn(""[Symbol.iterator]()):lt,"%Symbol%":lo?Symbol:lt,"%SyntaxError%":Xo,"%ThrowTypeError%":_E,"%TypedArray%":SE,"%TypeError%":Uo,"%Uint8Array%":typeof Uint8Array>"u"?lt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?lt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?lt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?lt:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?lt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?lt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?lt:WeakSet};try{null.error}catch(e){var ME=Zn(Zn(e));Ua["%Error.prototype%"]=ME}var xE=function e(t){var r;if(t==="%AsyncFunction%")r=th("async function () {}");else if(t==="%GeneratorFunction%")r=th("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=th("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var a=e("%AsyncGenerator%");a&&(r=Zn(a.prototype))}return Ua[t]=r,r},Qm={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bu=np,Wf=wE,EE=bu.call(Function.call,Array.prototype.concat),AE=bu.call(Function.apply,Array.prototype.splice),ey=bu.call(Function.call,String.prototype.replace),Jf=bu.call(Function.call,String.prototype.slice),IE=bu.call(Function.call,RegExp.prototype.exec),TE=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,CE=/\\(\\)?/g,OE=function(t){var r=Jf(t,0,1),n=Jf(t,-1);if(r==="%"&&n!=="%")throw new Xo("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Xo("invalid intrinsic syntax, expected opening `%`");var a=[];return ey(t,TE,function(i,f,l,v){a[a.length]=l?ey(v,CE,"$1"):f||i}),a},PE=function(t,r){var n=t,a;if(Wf(Qm,n)&&(a=Qm[n],n="%"+a[0]+"%"),Wf(Ua,n)){var i=Ua[n];if(i===So&&(i=xE(n)),typeof i>"u"&&!r)throw new Uo("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:a,name:n,value:i}}throw new Xo("intrinsic "+t+" does not exist!")},ip=function(t,r){if(typeof t!="string"||t.length===0)throw new Uo("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Uo('"allowMissing" argument must be a boolean');if(IE(/^%?[^%]*%?$/,t)===null)throw new Xo("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=OE(t),a=n.length>0?n[0]:"",i=PE("%"+a+"%",r),f=i.name,l=i.value,v=!1,h=i.alias;h&&(a=h[0],AE(n,EE([0,1],h)));for(var g=1,_=!0;g<n.length;g+=1){var M=n[g],E=Jf(M,0,1),A=Jf(M,-1);if((E==='"'||E==="'"||E==="`"||A==='"'||A==="'"||A==="`")&&E!==A)throw new Xo("property names with quotes must have matching quotes");if((M==="constructor"||!_)&&(v=!0),a+="."+M,f="%"+a+"%",Wf(Ua,f))l=Ua[f];else if(l!=null){if(!(M in l)){if(!r)throw new Uo("base intrinsic for "+t+" exists, but the property is not available.");return}if(Ba&&g+1>=n.length){var I=Ba(l,M);_=!!I,_&&"get"in I&&!("originalValue"in I.get)?l=I.get:l=l[M]}else _=Wf(l,M),l=l[M];_&&!v&&(Ua[f]=l)}}return l},N2={exports:{}};(function(e){var t=np,r=ip,n=r("%Function.prototype.apply%"),a=r("%Function.prototype.call%"),i=r("%Reflect.apply%",!0)||t.call(a,n),f=r("%Object.getOwnPropertyDescriptor%",!0),l=r("%Object.defineProperty%",!0),v=r("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}e.exports=function(_){var M=i(t,a,arguments);if(f&&l){var E=f(M,"length");E.configurable&&l(M,"length",{value:1+v(0,_.length-(arguments.length-1))})}return M};var h=function(){return i(t,n,arguments)};l?l(e.exports,"apply",{value:h}):e.exports.apply=h})(N2);var D2=ip,B2=N2.exports,kE=B2(D2("String.prototype.indexOf")),ap=function(t,r){var n=D2(t,!!r);return typeof n=="function"&&kE(t,".prototype.")>-1?B2(n):n},RE=Yc(),NE=ap,v0=NE("Object.prototype.toString"),Xc=function(t){return RE&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:v0(t)==="[object Arguments]"},U2=function(t){return Xc(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&v0(t)!=="[object Array]"&&v0(t.callee)==="[object Function]"},DE=function(){return Xc(arguments)}();Xc.isLegacyArguments=U2;var BE=DE?Xc:U2,UE=Object.prototype.toString,FE=Function.prototype.toString,LE=/^\s*(?:function)?\*/,F2=Yc(),nh=Object.getPrototypeOf,qE=function(){if(!F2)return!1;try{return Function("return function*() {}")()}catch{}},ih,jE=function(t){if(typeof t!="function")return!1;if(LE.test(FE.call(t)))return!0;if(!F2){var r=UE.call(t);return r==="[object GeneratorFunction]"}if(!nh)return!1;if(typeof ih>"u"){var n=qE();ih=n?nh(n):!1}return nh(t)===ih},L2=Function.prototype.toString,Io=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,p0,pf;if(typeof Io=="function"&&typeof Object.defineProperty=="function")try{p0=Object.defineProperty({},"length",{get:function(){throw pf}}),pf={},Io(function(){throw 42},null,p0)}catch(e){e!==pf&&(Io=null)}else Io=null;var $E=/^\s*class\b/,m0=function(t){try{var r=L2.call(t);return $E.test(r)}catch{return!1}},ah=function(t){try{return m0(t)?!1:(L2.call(t),!0)}catch{return!1}},mf=Object.prototype.toString,VE="[object Object]",zE="[object Function]",KE="[object GeneratorFunction]",HE="[object HTMLAllCollection]",GE="[object HTML document.all class]",WE="[object HTMLCollection]",JE=typeof Symbol=="function"&&!!Symbol.toStringTag,ZE=!(0 in[,]),y0=function(){return!1};if(typeof document=="object"){var YE=document.all;mf.call(YE)===mf.call(document.all)&&(y0=function(t){if((ZE||!t)&&(typeof t>"u"||typeof t=="object"))try{var r=mf.call(t);return(r===HE||r===GE||r===WE||r===VE)&&t("")==null}catch{}return!1})}var XE=Io?function(t){if(y0(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{Io(t,null,p0)}catch(r){if(r!==pf)return!1}return!m0(t)&&ah(t)}:function(t){if(y0(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(JE)return ah(t);if(m0(t))return!1;var r=mf.call(t);return r!==zE&&r!==KE&&!/^\[object HTML/.test(r)?!1:ah(t)},QE=XE,e5=Object.prototype.toString,q2=Object.prototype.hasOwnProperty,t5=function(t,r,n){for(var a=0,i=t.length;a<i;a++)q2.call(t,a)&&(n==null?r(t[a],a,t):r.call(n,t[a],a,t))},r5=function(t,r,n){for(var a=0,i=t.length;a<i;a++)n==null?r(t.charAt(a),a,t):r.call(n,t.charAt(a),a,t)},n5=function(t,r,n){for(var a in t)q2.call(t,a)&&(n==null?r(t[a],a,t):r.call(n,t[a],a,t))},i5=function(t,r,n){if(!QE(r))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=n),e5.call(t)==="[object Array]"?t5(t,r,a):typeof t=="string"?r5(t,r,a):n5(t,r,a)},j2=i5,oh=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],a5=typeof globalThis>"u"?Ve:globalThis,$2=function(){for(var t=[],r=0;r<oh.length;r++)typeof a5[oh[r]]=="function"&&(t[t.length]=oh[r]);return t},o5=ip,yf=o5("%Object.getOwnPropertyDescriptor%",!0);if(yf)try{yf([],"length")}catch{yf=null}var V2=yf,z2=j2,s5=$2,op=ap,u5=op("Object.prototype.toString"),K2=Yc(),gf=V2,f5=typeof globalThis>"u"?Ve:globalThis,H2=s5(),c5=op("Array.prototype.indexOf",!0)||function(t,r){for(var n=0;n<t.length;n+=1)if(t[n]===r)return n;return-1},l5=op("String.prototype.slice"),G2={},sh=Object.getPrototypeOf;K2&&gf&&sh&&z2(H2,function(e){var t=new f5[e];if(Symbol.toStringTag in t){var r=sh(t),n=gf(r,Symbol.toStringTag);if(!n){var a=sh(r);n=gf(a,Symbol.toStringTag)}G2[e]=n.get}});var h5=function(t){var r=!1;return z2(G2,function(n,a){if(!r)try{r=n.call(t)===a}catch{}}),r},W2=function(t){if(!t||typeof t!="object")return!1;if(!K2||!(Symbol.toStringTag in t)){var r=l5(u5(t),8,-1);return c5(H2,r)>-1}return gf?h5(t):!1},J2=j2,d5=$2,Z2=ap,uh=V2,v5=Z2("Object.prototype.toString"),Y2=Yc(),ty=typeof globalThis>"u"?Ve:globalThis,p5=d5(),m5=Z2("String.prototype.slice"),X2={},fh=Object.getPrototypeOf;Y2&&uh&&fh&&J2(p5,function(e){if(typeof ty[e]=="function"){var t=new ty[e];if(Symbol.toStringTag in t){var r=fh(t),n=uh(r,Symbol.toStringTag);if(!n){var a=fh(r);n=uh(a,Symbol.toStringTag)}X2[e]=n.get}}});var y5=function(t){var r=!1;return J2(X2,function(n,a){if(!r)try{var i=n.call(t);i===a&&(r=i)}catch{}}),r},g5=W2,b5=function(t){return g5(t)?!Y2||!(Symbol.toStringTag in t)?m5(v5(t),8,-1):y5(t):!1};(function(e){var t=BE,r=jE,n=b5,a=W2;function i(J){return J.call.bind(J)}var f=typeof BigInt<"u",l=typeof Symbol<"u",v=i(Object.prototype.toString),h=i(Number.prototype.valueOf),g=i(String.prototype.valueOf),_=i(Boolean.prototype.valueOf);if(f)var M=i(BigInt.prototype.valueOf);if(l)var E=i(Symbol.prototype.valueOf);function A(J,qe){if(typeof J!="object")return!1;try{return qe(J),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=a;function I(J){return typeof Promise<"u"&&J instanceof Promise||J!==null&&typeof J=="object"&&typeof J.then=="function"&&typeof J.catch=="function"}e.isPromise=I;function O(J){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(J):a(J)||C(J)}e.isArrayBufferView=O;function T(J){return n(J)==="Uint8Array"}e.isUint8Array=T;function P(J){return n(J)==="Uint8ClampedArray"}e.isUint8ClampedArray=P;function k(J){return n(J)==="Uint16Array"}e.isUint16Array=k;function R(J){return n(J)==="Uint32Array"}e.isUint32Array=R;function D(J){return n(J)==="Int8Array"}e.isInt8Array=D;function V(J){return n(J)==="Int16Array"}e.isInt16Array=V;function q(J){return n(J)==="Int32Array"}e.isInt32Array=q;function $(J){return n(J)==="Float32Array"}e.isFloat32Array=$;function F(J){return n(J)==="Float64Array"}e.isFloat64Array=F;function z(J){return n(J)==="BigInt64Array"}e.isBigInt64Array=z;function b(J){return n(J)==="BigUint64Array"}e.isBigUint64Array=b;function o(J){return v(J)==="[object Map]"}o.working=typeof Map<"u"&&o(new Map);function u(J){return typeof Map>"u"?!1:o.working?o(J):J instanceof Map}e.isMap=u;function c(J){return v(J)==="[object Set]"}c.working=typeof Set<"u"&&c(new Set);function d(J){return typeof Set>"u"?!1:c.working?c(J):J instanceof Set}e.isSet=d;function p(J){return v(J)==="[object WeakMap]"}p.working=typeof WeakMap<"u"&&p(new WeakMap);function w(J){return typeof WeakMap>"u"?!1:p.working?p(J):J instanceof WeakMap}e.isWeakMap=w;function S(J){return v(J)==="[object WeakSet]"}S.working=typeof WeakSet<"u"&&S(new WeakSet);function m(J){return S(J)}e.isWeakSet=m;function s(J){return v(J)==="[object ArrayBuffer]"}s.working=typeof ArrayBuffer<"u"&&s(new ArrayBuffer);function y(J){return typeof ArrayBuffer>"u"?!1:s.working?s(J):J instanceof ArrayBuffer}e.isArrayBuffer=y;function x(J){return v(J)==="[object DataView]"}x.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&x(new DataView(new ArrayBuffer(1),0,1));function C(J){return typeof DataView>"u"?!1:x.working?x(J):J instanceof DataView}e.isDataView=C;var N=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function j(J){return v(J)==="[object SharedArrayBuffer]"}function B(J){return typeof N>"u"?!1:(typeof j.working>"u"&&(j.working=j(new N)),j.working?j(J):J instanceof N)}e.isSharedArrayBuffer=B;function L(J){return v(J)==="[object AsyncFunction]"}e.isAsyncFunction=L;function Y(J){return v(J)==="[object Map Iterator]"}e.isMapIterator=Y;function G(J){return v(J)==="[object Set Iterator]"}e.isSetIterator=G;function Z(J){return v(J)==="[object Generator]"}e.isGeneratorObject=Z;function K(J){return v(J)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=K;function U(J){return A(J,h)}e.isNumberObject=U;function W(J){return A(J,g)}e.isStringObject=W;function Te(J){return A(J,_)}e.isBooleanObject=Te;function ee(J){return f&&A(J,M)}e.isBigIntObject=ee;function re(J){return l&&A(J,E)}e.isSymbolObject=re;function De(J){return U(J)||W(J)||Te(J)||ee(J)||re(J)}e.isBoxedPrimitive=De;function ie(J){return typeof Uint8Array<"u"&&(y(J)||B(J))}e.isAnyArrayBuffer=ie,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(J){Object.defineProperty(e,J,{enumerable:!1,value:function(){throw new Error(J+" is not supported in userland")}})})})(P2);var w5=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"};(function(e){var t=Object.getOwnPropertyDescriptors||function(C){for(var N=Object.keys(C),j={},B=0;B<N.length;B++)j[N[B]]=Object.getOwnPropertyDescriptor(C,N[B]);return j},r=/%[sdj%]/g;e.format=function(x){if(!D(x)){for(var C=[],N=0;N<arguments.length;N++)C.push(f(arguments[N]));return C.join(" ")}for(var N=1,j=arguments,B=j.length,L=String(x).replace(r,function(G){if(G==="%%")return"%";if(N>=B)return G;switch(G){case"%s":return String(j[N++]);case"%d":return Number(j[N++]);case"%j":try{return JSON.stringify(j[N++])}catch{return"[Circular]"}default:return G}}),Y=j[N];N<B;Y=j[++N])P(Y)||!F(Y)?L+=" "+Y:L+=" "+f(Y);return L},e.deprecate=function(x,C){if(typeof ze.exports<"u"&&ze.exports.noDeprecation===!0)return x;if(typeof ze.exports>"u")return function(){return e.deprecate(x,C).apply(this,arguments)};var N=!1;function j(){if(!N){if(ze.exports.throwDeprecation)throw new Error(C);ze.exports.traceDeprecation?console.trace(C):console.error(C),N=!0}return x.apply(this,arguments)}return j};var n={},a=/^$/;if({}.NODE_DEBUG){var i={}.NODE_DEBUG;i=i.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+i+"$","i")}e.debuglog=function(x){if(x=x.toUpperCase(),!n[x])if(a.test(x)){var C=ze.exports.pid;n[x]=function(){var N=e.format.apply(e,arguments);console.error("%s %d: %s",x,C,N)}}else n[x]=function(){};return n[x]};function f(x,C){var N={seen:[],stylize:v};return arguments.length>=3&&(N.depth=arguments[2]),arguments.length>=4&&(N.colors=arguments[3]),T(C)?N.showHidden=C:C&&e._extend(N,C),q(N.showHidden)&&(N.showHidden=!1),q(N.depth)&&(N.depth=2),q(N.colors)&&(N.colors=!1),q(N.customInspect)&&(N.customInspect=!0),N.colors&&(N.stylize=l),g(N,x,N.depth)}e.inspect=f,f.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},f.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function l(x,C){var N=f.styles[C];return N?"\x1B["+f.colors[N][0]+"m"+x+"\x1B["+f.colors[N][1]+"m":x}function v(x,C){return x}function h(x){var C={};return x.forEach(function(N,j){C[N]=!0}),C}function g(x,C,N){if(x.customInspect&&C&&o(C.inspect)&&C.inspect!==e.inspect&&!(C.constructor&&C.constructor.prototype===C)){var j=C.inspect(N,x);return D(j)||(j=g(x,j,N)),j}var B=_(x,C);if(B)return B;var L=Object.keys(C),Y=h(L);if(x.showHidden&&(L=Object.getOwnPropertyNames(C)),b(C)&&(L.indexOf("message")>=0||L.indexOf("description")>=0))return M(C);if(L.length===0){if(o(C)){var G=C.name?": "+C.name:"";return x.stylize("[Function"+G+"]","special")}if($(C))return x.stylize(RegExp.prototype.toString.call(C),"regexp");if(z(C))return x.stylize(Date.prototype.toString.call(C),"date");if(b(C))return M(C)}var Z="",K=!1,U=["{","}"];if(O(C)&&(K=!0,U=["[","]"]),o(C)){var W=C.name?": "+C.name:"";Z=" [Function"+W+"]"}if($(C)&&(Z=" "+RegExp.prototype.toString.call(C)),z(C)&&(Z=" "+Date.prototype.toUTCString.call(C)),b(C)&&(Z=" "+M(C)),L.length===0&&(!K||C.length==0))return U[0]+Z+U[1];if(N<0)return $(C)?x.stylize(RegExp.prototype.toString.call(C),"regexp"):x.stylize("[Object]","special");x.seen.push(C);var Te;return K?Te=E(x,C,N,Y,L):Te=L.map(function(ee){return A(x,C,N,Y,ee,K)}),x.seen.pop(),I(Te,Z,U)}function _(x,C){if(q(C))return x.stylize("undefined","undefined");if(D(C)){var N="'"+JSON.stringify(C).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return x.stylize(N,"string")}if(R(C))return x.stylize(""+C,"number");if(T(C))return x.stylize(""+C,"boolean");if(P(C))return x.stylize("null","null")}function M(x){return"["+Error.prototype.toString.call(x)+"]"}function E(x,C,N,j,B){for(var L=[],Y=0,G=C.length;Y<G;++Y)S(C,String(Y))?L.push(A(x,C,N,j,String(Y),!0)):L.push("");return B.forEach(function(Z){Z.match(/^\d+$/)||L.push(A(x,C,N,j,Z,!0))}),L}function A(x,C,N,j,B,L){var Y,G,Z;if(Z=Object.getOwnPropertyDescriptor(C,B)||{value:C[B]},Z.get?Z.set?G=x.stylize("[Getter/Setter]","special"):G=x.stylize("[Getter]","special"):Z.set&&(G=x.stylize("[Setter]","special")),S(j,B)||(Y="["+B+"]"),G||(x.seen.indexOf(Z.value)<0?(P(N)?G=g(x,Z.value,null):G=g(x,Z.value,N-1),G.indexOf(`
`)>-1&&(L?G=G.split(`
`).map(function(K){return"  "+K}).join(`
`).slice(2):G=`
`+G.split(`
`).map(function(K){return"   "+K}).join(`
`))):G=x.stylize("[Circular]","special")),q(Y)){if(L&&B.match(/^\d+$/))return G;Y=JSON.stringify(""+B),Y.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Y=Y.slice(1,-1),Y=x.stylize(Y,"name")):(Y=Y.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Y=x.stylize(Y,"string"))}return Y+": "+G}function I(x,C,N){var j=x.reduce(function(B,L){return L.indexOf(`
`)>=0,B+L.replace(/\u001b\[\d\d?m/g,"").length+1},0);return j>60?N[0]+(C===""?"":C+`
 `)+" "+x.join(`,
  `)+" "+N[1]:N[0]+C+" "+x.join(", ")+" "+N[1]}e.types=P2;function O(x){return Array.isArray(x)}e.isArray=O;function T(x){return typeof x=="boolean"}e.isBoolean=T;function P(x){return x===null}e.isNull=P;function k(x){return x==null}e.isNullOrUndefined=k;function R(x){return typeof x=="number"}e.isNumber=R;function D(x){return typeof x=="string"}e.isString=D;function V(x){return typeof x=="symbol"}e.isSymbol=V;function q(x){return x===void 0}e.isUndefined=q;function $(x){return F(x)&&c(x)==="[object RegExp]"}e.isRegExp=$,e.types.isRegExp=$;function F(x){return typeof x=="object"&&x!==null}e.isObject=F;function z(x){return F(x)&&c(x)==="[object Date]"}e.isDate=z,e.types.isDate=z;function b(x){return F(x)&&(c(x)==="[object Error]"||x instanceof Error)}e.isError=b,e.types.isNativeError=b;function o(x){return typeof x=="function"}e.isFunction=o;function u(x){return x===null||typeof x=="boolean"||typeof x=="number"||typeof x=="string"||typeof x=="symbol"||typeof x>"u"}e.isPrimitive=u,e.isBuffer=w5;function c(x){return Object.prototype.toString.call(x)}function d(x){return x<10?"0"+x.toString(10):x.toString(10)}var p=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function w(){var x=new Date,C=[d(x.getHours()),d(x.getMinutes()),d(x.getSeconds())].join(":");return[x.getDate(),p[x.getMonth()],C].join(" ")}e.log=function(){console.log("%s - %s",w(),e.format.apply(e,arguments))},e.inherits=at.exports,e._extend=function(x,C){if(!C||!F(C))return x;for(var N=Object.keys(C),j=N.length;j--;)x[N[j]]=C[N[j]];return x};function S(x,C){return Object.prototype.hasOwnProperty.call(x,C)}var m=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(C){if(typeof C!="function")throw new TypeError('The "original" argument must be of type Function');if(m&&C[m]){var N=C[m];if(typeof N!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(N,m,{value:N,enumerable:!1,writable:!1,configurable:!0}),N}function N(){for(var j,B,L=new Promise(function(Z,K){j=Z,B=K}),Y=[],G=0;G<arguments.length;G++)Y.push(arguments[G]);Y.push(function(Z,K){Z?B(Z):j(K)});try{C.apply(this,Y)}catch(Z){B(Z)}return L}return Object.setPrototypeOf(N,Object.getPrototypeOf(C)),m&&Object.defineProperty(N,m,{value:N,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(N,t(C))},e.promisify.custom=m;function s(x,C){if(!x){var N=new Error("Promise was rejected with a falsy value");N.reason=x,x=N}return C(x)}function y(x){if(typeof x!="function")throw new TypeError('The "original" argument must be of type Function');function C(){for(var N=[],j=0;j<arguments.length;j++)N.push(arguments[j]);var B=N.pop();if(typeof B!="function")throw new TypeError("The last argument must be of type Function");var L=this,Y=function(){return B.apply(L,arguments)};x.apply(this,N).then(function(G){ze.exports.nextTick(Y.bind(null,null,G))},function(G){ze.exports.nextTick(s.bind(null,G,Y))})}return Object.setPrototypeOf(C,Object.getPrototypeOf(x)),Object.defineProperties(C,t(x)),C}e.callbackify=y})(rp);var ch,ry;function _5(){if(ry)return ch;ry=1;function e(A,I){var O=Object.keys(A);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(A);I&&(T=T.filter(function(P){return Object.getOwnPropertyDescriptor(A,P).enumerable})),O.push.apply(O,T)}return O}function t(A){for(var I=1;I<arguments.length;I++){var O=arguments[I]!=null?arguments[I]:{};I%2?e(Object(O),!0).forEach(function(T){r(A,T,O[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(O)):e(Object(O)).forEach(function(T){Object.defineProperty(A,T,Object.getOwnPropertyDescriptor(O,T))})}return A}function r(A,I,O){return I=f(I),I in A?Object.defineProperty(A,I,{value:O,enumerable:!0,configurable:!0,writable:!0}):A[I]=O,A}function n(A,I){if(!(A instanceof I))throw new TypeError("Cannot call a class as a function")}function a(A,I){for(var O=0;O<I.length;O++){var T=I[O];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(A,f(T.key),T)}}function i(A,I,O){return I&&a(A.prototype,I),O&&a(A,O),Object.defineProperty(A,"prototype",{writable:!1}),A}function f(A){var I=l(A,"string");return typeof I=="symbol"?I:String(I)}function l(A,I){if(typeof A!="object"||A===null)return A;var O=A[Symbol.toPrimitive];if(O!==void 0){var T=O.call(A,I||"default");if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(A)}var v=Ue,h=v.Buffer,g=rp,_=g.inspect,M=_&&_.custom||"inspect";function E(A,I,O){h.prototype.copy.call(A,I,O)}return ch=function(){function A(){n(this,A),this.head=null,this.tail=null,this.length=0}return i(A,[{key:"push",value:function(O){var T={data:O,next:null};this.length>0?this.tail.next=T:this.head=T,this.tail=T,++this.length}},{key:"unshift",value:function(O){var T={data:O,next:this.head};this.length===0&&(this.tail=T),this.head=T,++this.length}},{key:"shift",value:function(){if(this.length!==0){var O=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,O}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(O){if(this.length===0)return"";for(var T=this.head,P=""+T.data;T=T.next;)P+=O+T.data;return P}},{key:"concat",value:function(O){if(this.length===0)return h.alloc(0);for(var T=h.allocUnsafe(O>>>0),P=this.head,k=0;P;)E(P.data,T,k),k+=P.data.length,P=P.next;return T}},{key:"consume",value:function(O,T){var P;return O<this.head.data.length?(P=this.head.data.slice(0,O),this.head.data=this.head.data.slice(O)):O===this.head.data.length?P=this.shift():P=T?this._getString(O):this._getBuffer(O),P}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(O){var T=this.head,P=1,k=T.data;for(O-=k.length;T=T.next;){var R=T.data,D=O>R.length?R.length:O;if(D===R.length?k+=R:k+=R.slice(0,O),O-=D,O===0){D===R.length?(++P,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=R.slice(D));break}++P}return this.length-=P,k}},{key:"_getBuffer",value:function(O){var T=h.allocUnsafe(O),P=this.head,k=1;for(P.data.copy(T),O-=P.data.length;P=P.next;){var R=P.data,D=O>R.length?R.length:O;if(R.copy(T,T.length-O,0,D),O-=D,O===0){D===R.length?(++k,P.next?this.head=P.next:this.head=this.tail=null):(this.head=P,P.data=R.slice(D));break}++k}return this.length-=k,T}},{key:M,value:function(O,T){return _(this,t(t({},T),{},{depth:0,customInspect:!1}))}}]),A}(),ch}function S5(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return n||a?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ze.exports.nextTick(g0,this,e)):ze.exports.nextTick(g0,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(i){!t&&i?r._writableState?r._writableState.errorEmitted?ze.exports.nextTick(bf,r):(r._writableState.errorEmitted=!0,ze.exports.nextTick(ny,r,i)):ze.exports.nextTick(ny,r,i):t?(ze.exports.nextTick(bf,r),t(i)):ze.exports.nextTick(bf,r)}),this)}function ny(e,t){g0(e,t),bf(e)}function bf(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function M5(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function g0(e,t){e.emit("error",t)}function x5(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}var Q2={destroy:S5,undestroy:M5,errorOrDestroy:x5},ao={};function E5(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var e3={};function _n(e,t,r){r||(r=Error);function n(i,f,l){return typeof t=="string"?t:t(i,f,l)}var a=function(i){E5(f,i);function f(l,v,h){return i.call(this,n(l,v,h))||this}return f}(r);a.prototype.name=r.name,a.prototype.code=e,e3[e]=a}function iy(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(n){return String(n)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:r===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function A5(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function I5(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function T5(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}_n("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);_n("ERR_INVALID_ARG_TYPE",function(e,t,r){var n;typeof t=="string"&&A5(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";var a;if(I5(e," argument"))a="The ".concat(e," ").concat(n," ").concat(iy(t,"type"));else{var i=T5(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(i," ").concat(n," ").concat(iy(t,"type"))}return a+=". Received type ".concat(typeof r),a},TypeError);_n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");_n("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});_n("ERR_STREAM_PREMATURE_CLOSE","Premature close");_n("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});_n("ERR_MULTIPLE_CALLBACK","Callback called multiple times");_n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");_n("ERR_STREAM_WRITE_AFTER_END","write after end");_n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);_n("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);_n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");ao.codes=e3;var C5=ao.codes.ERR_INVALID_OPT_VALUE;function O5(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function P5(e,t,r,n){var a=O5(t,n,r);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var i=n?r:"highWaterMark";throw new C5(i,a)}return Math.floor(a)}return e.objectMode?16:16*1024}var t3={getHighWaterMark:P5},k5=R5;function R5(e,t){if(lh("noDeprecation"))return e;var r=!1;function n(){if(!r){if(lh("throwDeprecation"))throw new Error(t);lh("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}return n}function lh(e){try{if(!Ve.localStorage)return!1}catch{return!1}var t=Ve.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}var hh,ay;function sp(){if(ay)return hh;ay=1,hh=$;function e(B){var L=this;this.next=null,this.entry=null,this.finish=function(){j(L,B)}}var t;$.WritableState=V;var r={deprecate:k5},n=O2,a=Ue.Buffer,i=(typeof Ve<"u"?Ve:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function f(B){return a.from(B)}function l(B){return a.isBuffer(B)||B instanceof i}var v=Q2,h=t3,g=h.getHighWaterMark,_=ao.codes,M=_.ERR_INVALID_ARG_TYPE,E=_.ERR_METHOD_NOT_IMPLEMENTED,A=_.ERR_MULTIPLE_CALLBACK,I=_.ERR_STREAM_CANNOT_PIPE,O=_.ERR_STREAM_DESTROYED,T=_.ERR_STREAM_NULL_VALUES,P=_.ERR_STREAM_WRITE_AFTER_END,k=_.ERR_UNKNOWN_ENCODING,R=v.errorOrDestroy;at.exports($,n);function D(){}function V(B,L,Y){t=t||za(),B=B||{},typeof Y!="boolean"&&(Y=L instanceof t),this.objectMode=!!B.objectMode,Y&&(this.objectMode=this.objectMode||!!B.writableObjectMode),this.highWaterMark=g(this,B,"writableHighWaterMark",Y),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var G=B.decodeStrings===!1;this.decodeStrings=!G,this.defaultEncoding=B.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Z){p(L,Z)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=B.emitClose!==!1,this.autoDestroy=!!B.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}V.prototype.getBuffer=function(){for(var L=this.bufferedRequest,Y=[];L;)Y.push(L),L=L.next;return Y},function(){try{Object.defineProperty(V.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var q;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(q=Function.prototype[Symbol.hasInstance],Object.defineProperty($,Symbol.hasInstance,{value:function(L){return q.call(this,L)?!0:this!==$?!1:L&&L._writableState instanceof V}})):q=function(L){return L instanceof this};function $(B){t=t||za();var L=this instanceof t;if(!L&&!q.call($,this))return new $(B);this._writableState=new V(B,this,L),this.writable=!0,B&&(typeof B.write=="function"&&(this._write=B.write),typeof B.writev=="function"&&(this._writev=B.writev),typeof B.destroy=="function"&&(this._destroy=B.destroy),typeof B.final=="function"&&(this._final=B.final)),n.call(this)}$.prototype.pipe=function(){R(this,new I)};function F(B,L){var Y=new P;R(B,Y),ze.exports.nextTick(L,Y)}function z(B,L,Y,G){var Z;return Y===null?Z=new T:typeof Y!="string"&&!L.objectMode&&(Z=new M("chunk",["string","Buffer"],Y)),Z?(R(B,Z),ze.exports.nextTick(G,Z),!1):!0}$.prototype.write=function(B,L,Y){var G=this._writableState,Z=!1,K=!G.objectMode&&l(B);return K&&!a.isBuffer(B)&&(B=f(B)),typeof L=="function"&&(Y=L,L=null),K?L="buffer":L||(L=G.defaultEncoding),typeof Y!="function"&&(Y=D),G.ending?F(this,Y):(K||z(this,G,B,Y))&&(G.pendingcb++,Z=o(this,G,K,B,L,Y)),Z},$.prototype.cork=function(){this._writableState.corked++},$.prototype.uncork=function(){var B=this._writableState;B.corked&&(B.corked--,!B.writing&&!B.corked&&!B.bufferProcessing&&B.bufferedRequest&&m(this,B))},$.prototype.setDefaultEncoding=function(L){if(typeof L=="string"&&(L=L.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((L+"").toLowerCase())>-1))throw new k(L);return this._writableState.defaultEncoding=L,this},Object.defineProperty($.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function b(B,L,Y){return!B.objectMode&&B.decodeStrings!==!1&&typeof L=="string"&&(L=a.from(L,Y)),L}Object.defineProperty($.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function o(B,L,Y,G,Z,K){if(!Y){var U=b(L,G,Z);G!==U&&(Y=!0,Z="buffer",G=U)}var W=L.objectMode?1:G.length;L.length+=W;var Te=L.length<L.highWaterMark;if(Te||(L.needDrain=!0),L.writing||L.corked){var ee=L.lastBufferedRequest;L.lastBufferedRequest={chunk:G,encoding:Z,isBuf:Y,callback:K,next:null},ee?ee.next=L.lastBufferedRequest:L.bufferedRequest=L.lastBufferedRequest,L.bufferedRequestCount+=1}else u(B,L,!1,W,G,Z,K);return Te}function u(B,L,Y,G,Z,K,U){L.writelen=G,L.writecb=U,L.writing=!0,L.sync=!0,L.destroyed?L.onwrite(new O("write")):Y?B._writev(Z,L.onwrite):B._write(Z,K,L.onwrite),L.sync=!1}function c(B,L,Y,G,Z){--L.pendingcb,Y?(ze.exports.nextTick(Z,G),ze.exports.nextTick(C,B,L),B._writableState.errorEmitted=!0,R(B,G)):(Z(G),B._writableState.errorEmitted=!0,R(B,G),C(B,L))}function d(B){B.writing=!1,B.writecb=null,B.length-=B.writelen,B.writelen=0}function p(B,L){var Y=B._writableState,G=Y.sync,Z=Y.writecb;if(typeof Z!="function")throw new A;if(d(Y),L)c(B,Y,G,L,Z);else{var K=s(Y)||B.destroyed;!K&&!Y.corked&&!Y.bufferProcessing&&Y.bufferedRequest&&m(B,Y),G?ze.exports.nextTick(w,B,Y,K,Z):w(B,Y,K,Z)}}function w(B,L,Y,G){Y||S(B,L),L.pendingcb--,G(),C(B,L)}function S(B,L){L.length===0&&L.needDrain&&(L.needDrain=!1,B.emit("drain"))}function m(B,L){L.bufferProcessing=!0;var Y=L.bufferedRequest;if(B._writev&&Y&&Y.next){var G=L.bufferedRequestCount,Z=new Array(G),K=L.corkedRequestsFree;K.entry=Y;for(var U=0,W=!0;Y;)Z[U]=Y,Y.isBuf||(W=!1),Y=Y.next,U+=1;Z.allBuffers=W,u(B,L,!0,L.length,Z,"",K.finish),L.pendingcb++,L.lastBufferedRequest=null,K.next?(L.corkedRequestsFree=K.next,K.next=null):L.corkedRequestsFree=new e(L),L.bufferedRequestCount=0}else{for(;Y;){var Te=Y.chunk,ee=Y.encoding,re=Y.callback,De=L.objectMode?1:Te.length;if(u(B,L,!1,De,Te,ee,re),Y=Y.next,L.bufferedRequestCount--,L.writing)break}Y===null&&(L.lastBufferedRequest=null)}L.bufferedRequest=Y,L.bufferProcessing=!1}$.prototype._write=function(B,L,Y){Y(new E("_write()"))},$.prototype._writev=null,$.prototype.end=function(B,L,Y){var G=this._writableState;return typeof B=="function"?(Y=B,B=null,L=null):typeof L=="function"&&(Y=L,L=null),B!=null&&this.write(B,L),G.corked&&(G.corked=1,this.uncork()),G.ending||N(this,G,Y),this},Object.defineProperty($.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function s(B){return B.ending&&B.length===0&&B.bufferedRequest===null&&!B.finished&&!B.writing}function y(B,L){B._final(function(Y){L.pendingcb--,Y&&R(B,Y),L.prefinished=!0,B.emit("prefinish"),C(B,L)})}function x(B,L){!L.prefinished&&!L.finalCalled&&(typeof B._final=="function"&&!L.destroyed?(L.pendingcb++,L.finalCalled=!0,ze.exports.nextTick(y,B,L)):(L.prefinished=!0,B.emit("prefinish")))}function C(B,L){var Y=s(L);if(Y&&(x(B,L),L.pendingcb===0&&(L.finished=!0,B.emit("finish"),L.autoDestroy))){var G=B._readableState;(!G||G.autoDestroy&&G.endEmitted)&&B.destroy()}return Y}function N(B,L,Y){L.ending=!0,C(B,L),Y&&(L.finished?ze.exports.nextTick(Y):B.once("finish",Y)),L.ended=!0,B.writable=!1}function j(B,L,Y){var G=B.entry;for(B.entry=null;G;){var Z=G.callback;L.pendingcb--,Z(Y),G=G.next}L.corkedRequestsFree.next=B}return Object.defineProperty($.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(L){!this._writableState||(this._writableState.destroyed=L)}}),$.prototype.destroy=v.destroy,$.prototype._undestroy=v.undestroy,$.prototype._destroy=function(B,L){L(B)},hh}var dh,oy;function za(){if(oy)return dh;oy=1;var e=Object.keys||function(h){var g=[];for(var _ in h)g.push(_);return g};dh=f;var t=fp(),r=sp();at.exports(f,t);for(var n=e(r.prototype),a=0;a<n.length;a++){var i=n[a];f.prototype[i]||(f.prototype[i]=r.prototype[i])}function f(h){if(!(this instanceof f))return new f(h);t.call(this,h),r.call(this,h),this.allowHalfOpen=!0,h&&(h.readable===!1&&(this.readable=!1),h.writable===!1&&(this.writable=!1),h.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||ze.exports.nextTick(v,this)}function v(h){h.end()}return Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=g,this._writableState.destroyed=g)}}),dh}var Zf={},b0={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=Ue,n=r.Buffer;function a(f,l){for(var v in f)l[v]=f[v]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=i);function i(f,l,v){return n(f,l,v)}i.prototype=Object.create(n.prototype),a(n,i),i.from=function(f,l,v){if(typeof f=="number")throw new TypeError("Argument must not be a number");return n(f,l,v)},i.alloc=function(f,l,v){if(typeof f!="number")throw new TypeError("Argument must be a number");var h=n(f);return l!==void 0?typeof v=="string"?h.fill(l,v):h.fill(l):h.fill(0),h},i.allocUnsafe=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return n(f)},i.allocUnsafeSlow=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(f)}})(b0,b0.exports);var up=b0.exports.Buffer,sy=up.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function N5(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function D5(e){var t=N5(e);if(typeof t!="string"&&(up.isEncoding===sy||!sy(e)))throw new Error("Unknown encoding: "+e);return t||e}Zf.StringDecoder=wu;function wu(e){this.encoding=D5(e);var t;switch(this.encoding){case"utf16le":this.text=j5,this.end=$5,t=4;break;case"utf8":this.fillLast=F5,t=4;break;case"base64":this.text=V5,this.end=z5,t=3;break;default:this.write=K5,this.end=H5;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=up.allocUnsafe(t)}wu.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};wu.prototype.end=q5;wu.prototype.text=L5;wu.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function vh(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function B5(e,t,r){var n=t.length-1;if(n<r)return 0;var a=vh(t[n]);return a>=0?(a>0&&(e.lastNeed=a-1),a):--n<r||a===-2?0:(a=vh(t[n]),a>=0?(a>0&&(e.lastNeed=a-2),a):--n<r||a===-2?0:(a=vh(t[n]),a>=0?(a>0&&(a===2?a=0:e.lastNeed=a-3),a):0))}function U5(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function F5(e){var t=this.lastTotal-this.lastNeed,r=U5(this,e);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function L5(e,t){var r=B5(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function q5(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function j5(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function $5(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function V5(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function z5(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function K5(e){return e.toString(this.encoding)}function H5(e){return e&&e.length?this.write(e):""}var uy=ao.codes.ERR_STREAM_PREMATURE_CLOSE;function G5(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];e.apply(this,n)}}}function W5(){}function J5(e){return e.setHeader&&typeof e.abort=="function"}function r3(e,t,r){if(typeof t=="function")return r3(e,null,t);t||(t={}),r=G5(r||W5);var n=t.readable||t.readable!==!1&&e.readable,a=t.writable||t.writable!==!1&&e.writable,i=function(){e.writable||l()},f=e._writableState&&e._writableState.finished,l=function(){a=!1,f=!0,n||r.call(e)},v=e._readableState&&e._readableState.endEmitted,h=function(){n=!1,v=!0,a||r.call(e)},g=function(A){r.call(e,A)},_=function(){var A;if(n&&!v)return(!e._readableState||!e._readableState.ended)&&(A=new uy),r.call(e,A);if(a&&!f)return(!e._writableState||!e._writableState.ended)&&(A=new uy),r.call(e,A)},M=function(){e.req.on("finish",l)};return J5(e)?(e.on("complete",l),e.on("abort",_),e.req?M():e.on("request",M)):a&&!e._writableState&&(e.on("end",i),e.on("close",i)),e.on("end",h),e.on("finish",l),t.error!==!1&&e.on("error",g),e.on("close",_),function(){e.removeListener("complete",l),e.removeListener("abort",_),e.removeListener("request",M),e.req&&e.req.removeListener("finish",l),e.removeListener("end",i),e.removeListener("close",i),e.removeListener("finish",l),e.removeListener("end",h),e.removeListener("error",g),e.removeListener("close",_)}}var Qc=r3,ph,fy;function Z5(){if(fy)return ph;fy=1;var e;function t(k,R,D){return R=r(R),R in k?Object.defineProperty(k,R,{value:D,enumerable:!0,configurable:!0,writable:!0}):k[R]=D,k}function r(k){var R=n(k,"string");return typeof R=="symbol"?R:String(R)}function n(k,R){if(typeof k!="object"||k===null)return k;var D=k[Symbol.toPrimitive];if(D!==void 0){var V=D.call(k,R||"default");if(typeof V!="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(k)}var a=Qc,i=Symbol("lastResolve"),f=Symbol("lastReject"),l=Symbol("error"),v=Symbol("ended"),h=Symbol("lastPromise"),g=Symbol("handlePromise"),_=Symbol("stream");function M(k,R){return{value:k,done:R}}function E(k){var R=k[i];if(R!==null){var D=k[_].read();D!==null&&(k[h]=null,k[i]=null,k[f]=null,R(M(D,!1)))}}function A(k){ze.exports.nextTick(E,k)}function I(k,R){return function(D,V){k.then(function(){if(R[v]){D(M(void 0,!0));return}R[g](D,V)},V)}}var O=Object.getPrototypeOf(function(){}),T=Object.setPrototypeOf((e={get stream(){return this[_]},next:function(){var R=this,D=this[l];if(D!==null)return Promise.reject(D);if(this[v])return Promise.resolve(M(void 0,!0));if(this[_].destroyed)return new Promise(function(F,z){ze.exports.nextTick(function(){R[l]?z(R[l]):F(M(void 0,!0))})});var V=this[h],q;if(V)q=new Promise(I(V,this));else{var $=this[_].read();if($!==null)return Promise.resolve(M($,!1));q=new Promise(this[g])}return this[h]=q,q}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var R=this;return new Promise(function(D,V){R[_].destroy(null,function(q){if(q){V(q);return}D(M(void 0,!0))})})}),e),O),P=function(R){var D,V=Object.create(T,(D={},t(D,_,{value:R,writable:!0}),t(D,i,{value:null,writable:!0}),t(D,f,{value:null,writable:!0}),t(D,l,{value:null,writable:!0}),t(D,v,{value:R._readableState.endEmitted,writable:!0}),t(D,g,{value:function($,F){var z=V[_].read();z?(V[h]=null,V[i]=null,V[f]=null,$(M(z,!1))):(V[i]=$,V[f]=F)},writable:!0}),D));return V[h]=null,a(R,function(q){if(q&&q.code!=="ERR_STREAM_PREMATURE_CLOSE"){var $=V[f];$!==null&&(V[h]=null,V[i]=null,V[f]=null,$(q)),V[l]=q;return}var F=V[i];F!==null&&(V[h]=null,V[i]=null,V[f]=null,F(M(void 0,!0))),V[v]=!0}),R.on("readable",A.bind(null,V)),V};return ph=P,ph}var mh,cy;function Y5(){return cy||(cy=1,mh=function(){throw new Error("Readable.from is not available in the browser")}),mh}var yh,ly;function fp(){if(ly)return yh;ly=1,yh=F;var e;F.ReadableState=$,gu.exports.EventEmitter;var t=function(U,W){return U.listeners(W).length},r=O2,n=Ue.Buffer,a=(typeof Ve<"u"?Ve:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function i(K){return n.from(K)}function f(K){return n.isBuffer(K)||K instanceof a}var l=rp,v;l&&l.debuglog?v=l.debuglog("stream"):v=function(){};var h=_5(),g=Q2,_=t3,M=_.getHighWaterMark,E=ao.codes,A=E.ERR_INVALID_ARG_TYPE,I=E.ERR_STREAM_PUSH_AFTER_EOF,O=E.ERR_METHOD_NOT_IMPLEMENTED,T=E.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,P,k,R;at.exports(F,r);var D=g.errorOrDestroy,V=["error","close","destroy","pause","resume"];function q(K,U,W){if(typeof K.prependListener=="function")return K.prependListener(U,W);!K._events||!K._events[U]?K.on(U,W):Array.isArray(K._events[U])?K._events[U].unshift(W):K._events[U]=[W,K._events[U]]}function $(K,U,W){e=e||za(),K=K||{},typeof W!="boolean"&&(W=U instanceof e),this.objectMode=!!K.objectMode,W&&(this.objectMode=this.objectMode||!!K.readableObjectMode),this.highWaterMark=M(this,K,"readableHighWaterMark",W),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=K.emitClose!==!1,this.autoDestroy=!!K.autoDestroy,this.destroyed=!1,this.defaultEncoding=K.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,K.encoding&&(P||(P=Zf.StringDecoder),this.decoder=new P(K.encoding),this.encoding=K.encoding)}function F(K){if(e=e||za(),!(this instanceof F))return new F(K);var U=this instanceof e;this._readableState=new $(K,this,U),this.readable=!0,K&&(typeof K.read=="function"&&(this._read=K.read),typeof K.destroy=="function"&&(this._destroy=K.destroy)),r.call(this)}Object.defineProperty(F.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(U){!this._readableState||(this._readableState.destroyed=U)}}),F.prototype.destroy=g.destroy,F.prototype._undestroy=g.undestroy,F.prototype._destroy=function(K,U){U(K)},F.prototype.push=function(K,U){var W=this._readableState,Te;return W.objectMode?Te=!0:typeof K=="string"&&(U=U||W.defaultEncoding,U!==W.encoding&&(K=n.from(K,U),U=""),Te=!0),z(this,K,U,!1,Te)},F.prototype.unshift=function(K){return z(this,K,null,!0,!1)};function z(K,U,W,Te,ee){v("readableAddChunk",U);var re=K._readableState;if(U===null)re.reading=!1,p(K,re);else{var De;if(ee||(De=o(re,U)),De)D(K,De);else if(re.objectMode||U&&U.length>0)if(typeof U!="string"&&!re.objectMode&&Object.getPrototypeOf(U)!==n.prototype&&(U=i(U)),Te)re.endEmitted?D(K,new T):b(K,re,U,!0);else if(re.ended)D(K,new I);else{if(re.destroyed)return!1;re.reading=!1,re.decoder&&!W?(U=re.decoder.write(U),re.objectMode||U.length!==0?b(K,re,U,!1):m(K,re)):b(K,re,U,!1)}else Te||(re.reading=!1,m(K,re))}return!re.ended&&(re.length<re.highWaterMark||re.length===0)}function b(K,U,W,Te){U.flowing&&U.length===0&&!U.sync?(U.awaitDrain=0,K.emit("data",W)):(U.length+=U.objectMode?1:W.length,Te?U.buffer.unshift(W):U.buffer.push(W),U.needReadable&&w(K)),m(K,U)}function o(K,U){var W;return!f(U)&&typeof U!="string"&&U!==void 0&&!K.objectMode&&(W=new A("chunk",["string","Buffer","Uint8Array"],U)),W}F.prototype.isPaused=function(){return this._readableState.flowing===!1},F.prototype.setEncoding=function(K){P||(P=Zf.StringDecoder);var U=new P(K);this._readableState.decoder=U,this._readableState.encoding=this._readableState.decoder.encoding;for(var W=this._readableState.buffer.head,Te="";W!==null;)Te+=U.write(W.data),W=W.next;return this._readableState.buffer.clear(),Te!==""&&this._readableState.buffer.push(Te),this._readableState.length=Te.length,this};var u=1073741824;function c(K){return K>=u?K=u:(K--,K|=K>>>1,K|=K>>>2,K|=K>>>4,K|=K>>>8,K|=K>>>16,K++),K}function d(K,U){return K<=0||U.length===0&&U.ended?0:U.objectMode?1:K!==K?U.flowing&&U.length?U.buffer.head.data.length:U.length:(K>U.highWaterMark&&(U.highWaterMark=c(K)),K<=U.length?K:U.ended?U.length:(U.needReadable=!0,0))}F.prototype.read=function(K){v("read",K),K=parseInt(K,10);var U=this._readableState,W=K;if(K!==0&&(U.emittedReadable=!1),K===0&&U.needReadable&&((U.highWaterMark!==0?U.length>=U.highWaterMark:U.length>0)||U.ended))return v("read: emitReadable",U.length,U.ended),U.length===0&&U.ended?Y(this):w(this),null;if(K=d(K,U),K===0&&U.ended)return U.length===0&&Y(this),null;var Te=U.needReadable;v("need readable",Te),(U.length===0||U.length-K<U.highWaterMark)&&(Te=!0,v("length less than watermark",Te)),U.ended||U.reading?(Te=!1,v("reading or ended",Te)):Te&&(v("do read"),U.reading=!0,U.sync=!0,U.length===0&&(U.needReadable=!0),this._read(U.highWaterMark),U.sync=!1,U.reading||(K=d(W,U)));var ee;return K>0?ee=L(K,U):ee=null,ee===null?(U.needReadable=U.length<=U.highWaterMark,K=0):(U.length-=K,U.awaitDrain=0),U.length===0&&(U.ended||(U.needReadable=!0),W!==K&&U.ended&&Y(this)),ee!==null&&this.emit("data",ee),ee};function p(K,U){if(v("onEofChunk"),!U.ended){if(U.decoder){var W=U.decoder.end();W&&W.length&&(U.buffer.push(W),U.length+=U.objectMode?1:W.length)}U.ended=!0,U.sync?w(K):(U.needReadable=!1,U.emittedReadable||(U.emittedReadable=!0,S(K)))}}function w(K){var U=K._readableState;v("emitReadable",U.needReadable,U.emittedReadable),U.needReadable=!1,U.emittedReadable||(v("emitReadable",U.flowing),U.emittedReadable=!0,ze.exports.nextTick(S,K))}function S(K){var U=K._readableState;v("emitReadable_",U.destroyed,U.length,U.ended),!U.destroyed&&(U.length||U.ended)&&(K.emit("readable"),U.emittedReadable=!1),U.needReadable=!U.flowing&&!U.ended&&U.length<=U.highWaterMark,B(K)}function m(K,U){U.readingMore||(U.readingMore=!0,ze.exports.nextTick(s,K,U))}function s(K,U){for(;!U.reading&&!U.ended&&(U.length<U.highWaterMark||U.flowing&&U.length===0);){var W=U.length;if(v("maybeReadMore read 0"),K.read(0),W===U.length)break}U.readingMore=!1}F.prototype._read=function(K){D(this,new O("_read()"))},F.prototype.pipe=function(K,U){var W=this,Te=this._readableState;switch(Te.pipesCount){case 0:Te.pipes=K;break;case 1:Te.pipes=[Te.pipes,K];break;default:Te.pipes.push(K);break}Te.pipesCount+=1,v("pipe count=%d opts=%j",Te.pipesCount,U);var ee=(!U||U.end!==!1)&&K!==ze.exports.stdout&&K!==ze.exports.stderr,re=ee?ie:Q;Te.endEmitted?ze.exports.nextTick(re):W.once("end",re),K.on("unpipe",De);function De(te,ce){v("onunpipe"),te===W&&ce&&ce.hasUnpiped===!1&&(ce.hasUnpiped=!0,ae())}function ie(){v("onend"),K.end()}var J=y(W);K.on("drain",J);var qe=!1;function ae(){v("cleanup"),K.removeListener("close",H),K.removeListener("finish",X),K.removeListener("drain",J),K.removeListener("error",Ge),K.removeListener("unpipe",De),W.removeListener("end",ie),W.removeListener("end",Q),W.removeListener("data",be),qe=!0,Te.awaitDrain&&(!K._writableState||K._writableState.needDrain)&&J()}W.on("data",be);function be(te){v("ondata");var ce=K.write(te);v("dest.write",ce),ce===!1&&((Te.pipesCount===1&&Te.pipes===K||Te.pipesCount>1&&Z(Te.pipes,K)!==-1)&&!qe&&(v("false write response, pause",Te.awaitDrain),Te.awaitDrain++),W.pause())}function Ge(te){v("onerror",te),Q(),K.removeListener("error",Ge),t(K,"error")===0&&D(K,te)}q(K,"error",Ge);function H(){K.removeListener("finish",X),Q()}K.once("close",H);function X(){v("onfinish"),K.removeListener("close",H),Q()}K.once("finish",X);function Q(){v("unpipe"),W.unpipe(K)}return K.emit("pipe",W),Te.flowing||(v("pipe resume"),W.resume()),K};function y(K){return function(){var W=K._readableState;v("pipeOnDrain",W.awaitDrain),W.awaitDrain&&W.awaitDrain--,W.awaitDrain===0&&t(K,"data")&&(W.flowing=!0,B(K))}}F.prototype.unpipe=function(K){var U=this._readableState,W={hasUnpiped:!1};if(U.pipesCount===0)return this;if(U.pipesCount===1)return K&&K!==U.pipes?this:(K||(K=U.pipes),U.pipes=null,U.pipesCount=0,U.flowing=!1,K&&K.emit("unpipe",this,W),this);if(!K){var Te=U.pipes,ee=U.pipesCount;U.pipes=null,U.pipesCount=0,U.flowing=!1;for(var re=0;re<ee;re++)Te[re].emit("unpipe",this,{hasUnpiped:!1});return this}var De=Z(U.pipes,K);return De===-1?this:(U.pipes.splice(De,1),U.pipesCount-=1,U.pipesCount===1&&(U.pipes=U.pipes[0]),K.emit("unpipe",this,W),this)},F.prototype.on=function(K,U){var W=r.prototype.on.call(this,K,U),Te=this._readableState;return K==="data"?(Te.readableListening=this.listenerCount("readable")>0,Te.flowing!==!1&&this.resume()):K==="readable"&&!Te.endEmitted&&!Te.readableListening&&(Te.readableListening=Te.needReadable=!0,Te.flowing=!1,Te.emittedReadable=!1,v("on readable",Te.length,Te.reading),Te.length?w(this):Te.reading||ze.exports.nextTick(C,this)),W},F.prototype.addListener=F.prototype.on,F.prototype.removeListener=function(K,U){var W=r.prototype.removeListener.call(this,K,U);return K==="readable"&&ze.exports.nextTick(x,this),W},F.prototype.removeAllListeners=function(K){var U=r.prototype.removeAllListeners.apply(this,arguments);return(K==="readable"||K===void 0)&&ze.exports.nextTick(x,this),U};function x(K){var U=K._readableState;U.readableListening=K.listenerCount("readable")>0,U.resumeScheduled&&!U.paused?U.flowing=!0:K.listenerCount("data")>0&&K.resume()}function C(K){v("readable nexttick read 0"),K.read(0)}F.prototype.resume=function(){var K=this._readableState;return K.flowing||(v("resume"),K.flowing=!K.readableListening,N(this,K)),K.paused=!1,this};function N(K,U){U.resumeScheduled||(U.resumeScheduled=!0,ze.exports.nextTick(j,K,U))}function j(K,U){v("resume",U.reading),U.reading||K.read(0),U.resumeScheduled=!1,K.emit("resume"),B(K),U.flowing&&!U.reading&&K.read(0)}F.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function B(K){var U=K._readableState;for(v("flow",U.flowing);U.flowing&&K.read()!==null;);}F.prototype.wrap=function(K){var U=this,W=this._readableState,Te=!1;K.on("end",function(){if(v("wrapped end"),W.decoder&&!W.ended){var De=W.decoder.end();De&&De.length&&U.push(De)}U.push(null)}),K.on("data",function(De){if(v("wrapped data"),W.decoder&&(De=W.decoder.write(De)),!(W.objectMode&&De==null)&&!(!W.objectMode&&(!De||!De.length))){var ie=U.push(De);ie||(Te=!0,K.pause())}});for(var ee in K)this[ee]===void 0&&typeof K[ee]=="function"&&(this[ee]=function(ie){return function(){return K[ie].apply(K,arguments)}}(ee));for(var re=0;re<V.length;re++)K.on(V[re],this.emit.bind(this,V[re]));return this._read=function(De){v("wrapped _read",De),Te&&(Te=!1,K.resume())},this},typeof Symbol=="function"&&(F.prototype[Symbol.asyncIterator]=function(){return k===void 0&&(k=Z5()),k(this)}),Object.defineProperty(F.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(F.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(F.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(U){this._readableState&&(this._readableState.flowing=U)}}),F._fromList=L,Object.defineProperty(F.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function L(K,U){if(U.length===0)return null;var W;return U.objectMode?W=U.buffer.shift():!K||K>=U.length?(U.decoder?W=U.buffer.join(""):U.buffer.length===1?W=U.buffer.first():W=U.buffer.concat(U.length),U.buffer.clear()):W=U.buffer.consume(K,U.decoder),W}function Y(K){var U=K._readableState;v("endReadable",U.endEmitted),U.endEmitted||(U.ended=!0,ze.exports.nextTick(G,U,K))}function G(K,U){if(v("endReadableNT",K.endEmitted,K.length),!K.endEmitted&&K.length===0&&(K.endEmitted=!0,U.readable=!1,U.emit("end"),K.autoDestroy)){var W=U._writableState;(!W||W.autoDestroy&&W.finished)&&U.destroy()}}typeof Symbol=="function"&&(F.from=function(K,U){return R===void 0&&(R=Y5()),R(F,K,U)});function Z(K,U){for(var W=0,Te=K.length;W<Te;W++)if(K[W]===U)return W;return-1}return yh}var cp=Di,el=ao.codes,X5=el.ERR_METHOD_NOT_IMPLEMENTED,Q5=el.ERR_MULTIPLE_CALLBACK,eA=el.ERR_TRANSFORM_ALREADY_TRANSFORMING,tA=el.ERR_TRANSFORM_WITH_LENGTH_0,tl=za();at.exports(Di,tl);function rA(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Q5);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function Di(e){if(!(this instanceof Di))return new Di(e);tl.call(this,e),this._transformState={afterTransform:rA.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",nA)}function nA(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){hy(e,t,r)}):hy(this,null,null)}Di.prototype.push=function(e,t){return this._transformState.needTransform=!1,tl.prototype.push.call(this,e,t)};Di.prototype._transform=function(e,t,r){r(new X5("_transform()"))};Di.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}};Di.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Di.prototype._destroy=function(e,t){tl.prototype._destroy.call(this,e,function(r){t(r)})};function hy(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new tA;if(e._transformState.transforming)throw new eA;return e.push(null)}var n3=nu,i3=cp;at.exports(nu,i3);function nu(e){if(!(this instanceof nu))return new nu(e);i3.call(this,e)}nu.prototype._transform=function(e,t,r){r(null,e)};var gh;function iA(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var a3=ao.codes,aA=a3.ERR_MISSING_ARGS,oA=a3.ERR_STREAM_DESTROYED;function dy(e){if(e)throw e}function sA(e){return e.setHeader&&typeof e.abort=="function"}function uA(e,t,r,n){n=iA(n);var a=!1;e.on("close",function(){a=!0}),gh===void 0&&(gh=Qc),gh(e,{readable:t,writable:r},function(f){if(f)return n(f);a=!0,n()});var i=!1;return function(f){if(!a&&!i){if(i=!0,sA(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();n(f||new oA("pipe"))}}}function vy(e){e()}function fA(e,t){return e.pipe(t)}function cA(e){return!e.length||typeof e[e.length-1]!="function"?dy:e.pop()}function lA(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=cA(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new aA("streams");var a,i=t.map(function(f,l){var v=l<t.length-1,h=l>0;return uA(f,v,h,function(g){a||(a=g),g&&i.forEach(vy),!v&&(i.forEach(vy),n(a))})});return t.reduce(fA)}var o3=lA;(function(e,t){t=e.exports=fp(),t.Stream=t,t.Readable=t,t.Writable=sp(),t.Duplex=za(),t.Transform=cp,t.PassThrough=n3,t.finished=Qc,t.pipeline=o3})(Yo,Yo.exports);var py=tp,hA=at.exports,s3=Yo.exports,ju=Jc.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},lp=Jc.IncomingMessage=function(e,t,r,n){var a=this;if(s3.Readable.call(a),a._mode=r,a.headers={},a.rawHeaders=[],a.trailers={},a.rawTrailers=[],a.on("end",function(){ze.exports.nextTick(function(){a.emit("close")})}),r==="fetch"){let g=function(){f.read().then(function(_){if(!a._destroyed){if(n(_.done),_.done){a.push(null);return}a.push(Ue.Buffer.from(_.value)),g()}}).catch(function(_){n(!0),a._destroyed||a.emit("error",_)})};if(a._fetchResponse=t,a.url=t.url,a.statusCode=t.status,a.statusMessage=t.statusText,t.headers.forEach(function(_,M){a.headers[M.toLowerCase()]=_,a.rawHeaders.push(M,_)}),py.writableStream){var i=new WritableStream({write:function(_){return n(!1),new Promise(function(M,E){a._destroyed?E():a.push(Ue.Buffer.from(_))?M():a._resumeFetch=M})},close:function(){n(!0),a._destroyed||a.push(null)},abort:function(_){n(!0),a._destroyed||a.emit("error",_)}});try{t.body.pipeTo(i).catch(function(_){n(!0),a._destroyed||a.emit("error",_)});return}catch{}}var f=t.body.getReader();g()}else{a._xhr=e,a._pos=0,a.url=e.responseURL,a.statusCode=e.status,a.statusMessage=e.statusText;var l=e.getAllResponseHeaders().split(/\r?\n/);if(l.forEach(function(g){var _=g.match(/^([^:]+):\s*(.*)/);if(_){var M=_[1].toLowerCase();M==="set-cookie"?(a.headers[M]===void 0&&(a.headers[M]=[]),a.headers[M].push(_[2])):a.headers[M]!==void 0?a.headers[M]+=", "+_[2]:a.headers[M]=_[2],a.rawHeaders.push(_[1],_[2])}}),a._charset="x-user-defined",!py.overrideMimeType){var v=a.rawHeaders["mime-type"];if(v){var h=v.match(/;\s*charset=([^;])(;|$)/);h&&(a._charset=h[1].toLowerCase())}a._charset||(a._charset="utf-8")}}};hA(lp,s3.Readable);lp.prototype._read=function(){var e=this,t=e._resumeFetch;t&&(e._resumeFetch=null,t())};lp.prototype._onXHRProgress=function(e){var t=this,r=t._xhr,n=null;switch(t._mode){case"text":if(n=r.responseText,n.length>t._pos){var a=n.substr(t._pos);if(t._charset==="x-user-defined"){for(var i=Ue.Buffer.alloc(a.length),f=0;f<a.length;f++)i[f]=a.charCodeAt(f)&255;t.push(i)}else t.push(a,t._charset);t._pos=n.length}break;case"arraybuffer":if(r.readyState!==ju.DONE||!r.response)break;n=r.response,t.push(Ue.Buffer.from(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=r.response,r.readyState!==ju.LOADING||!n)break;t.push(Ue.Buffer.from(new Uint8Array(n)));break;case"ms-stream":if(n=r.response,r.readyState!==ju.LOADING)break;var l=new Ve.MSStreamReader;l.onprogress=function(){l.result.byteLength>t._pos&&(t.push(Ue.Buffer.from(new Uint8Array(l.result.slice(t._pos)))),t._pos=l.result.byteLength)},l.onload=function(){e(!0),t.push(null)},l.readAsArrayBuffer(n);break}t._xhr.readyState===ju.DONE&&t._mode!=="ms-stream"&&(e(!0),t.push(null))};var Ia=tp,dA=at.exports,u3=Jc,hp=Yo.exports,vA=u3.IncomingMessage,my=u3.readyStates;function pA(e,t){return Ia.fetch&&t?"fetch":Ia.mozchunkedarraybuffer?"moz-chunked-arraybuffer":Ia.msstream?"ms-stream":Ia.arraybuffer&&e?"arraybuffer":"text"}var Nr=_2.exports=function(e){var t=this;hp.Writable.call(t),t._opts=e,t._body=[],t._headers={},e.auth&&t.setHeader("Authorization","Basic "+Ue.Buffer.from(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(a){t.setHeader(a,e.headers[a])});var r,n=!0;if(e.mode==="disable-fetch"||"requestTimeout"in e&&!Ia.abortController)n=!1,r=!0;else if(e.mode==="prefer-streaming")r=!1;else if(e.mode==="allow-wrong-content-type")r=!Ia.overrideMimeType;else if(!e.mode||e.mode==="default"||e.mode==="prefer-fast")r=!0;else throw new Error("Invalid value for opts.mode");t._mode=pA(r,n),t._fetchTimer=null,t._socketTimeout=null,t._socketTimer=null,t.on("finish",function(){t._onFinish()})};dA(Nr,hp.Writable);Nr.prototype.setHeader=function(e,t){var r=this,n=e.toLowerCase();yA.indexOf(n)===-1&&(r._headers[n]={name:e,value:t})};Nr.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null};Nr.prototype.removeHeader=function(e){var t=this;delete t._headers[e.toLowerCase()]};Nr.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts;"timeout"in t&&t.timeout!==0&&e.setTimeout(t.timeout);var r=e._headers,n=null;t.method!=="GET"&&t.method!=="HEAD"&&(n=new Blob(e._body,{type:(r["content-type"]||{}).value||""}));var a=[];if(Object.keys(r).forEach(function(v){var h=r[v].name,g=r[v].value;Array.isArray(g)?g.forEach(function(_){a.push([h,_])}):a.push([h,g])}),e._mode==="fetch"){var i=null;if(Ia.abortController){var f=new AbortController;i=f.signal,e._fetchAbortController=f,"requestTimeout"in t&&t.requestTimeout!==0&&(e._fetchTimer=Ve.setTimeout(function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()},t.requestTimeout))}Ve.fetch(e._opts.url,{method:e._opts.method,headers:a,body:n||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin",signal:i}).then(function(v){e._fetchResponse=v,e._resetTimers(!1),e._connect()},function(v){e._resetTimers(!0),e._destroyed||e.emit("error",v)})}else{var l=e._xhr=new Ve.XMLHttpRequest;try{l.open(e._opts.method,e._opts.url,!0)}catch(v){ze.exports.nextTick(function(){e.emit("error",v)});return}"responseType"in l&&(l.responseType=e._mode),"withCredentials"in l&&(l.withCredentials=!!t.withCredentials),e._mode==="text"&&"overrideMimeType"in l&&l.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in t&&(l.timeout=t.requestTimeout,l.ontimeout=function(){e.emit("requestTimeout")}),a.forEach(function(v){l.setRequestHeader(v[0],v[1])}),e._response=null,l.onreadystatechange=function(){switch(l.readyState){case my.LOADING:case my.DONE:e._onXHRProgress();break}},e._mode==="moz-chunked-arraybuffer"&&(l.onprogress=function(){e._onXHRProgress()}),l.onerror=function(){e._destroyed||(e._resetTimers(!0),e.emit("error",new Error("XHR error")))};try{l.send(n)}catch(v){ze.exports.nextTick(function(){e.emit("error",v)});return}}}};function mA(e){try{var t=e.status;return t!==null&&t!==0}catch{return!1}}Nr.prototype._onXHRProgress=function(){var e=this;e._resetTimers(!1),!(!mA(e._xhr)||e._destroyed)&&(e._response||e._connect(),e._response._onXHRProgress(e._resetTimers.bind(e)))};Nr.prototype._connect=function(){var e=this;e._destroyed||(e._response=new vA(e._xhr,e._fetchResponse,e._mode,e._resetTimers.bind(e)),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))};Nr.prototype._write=function(e,t,r){var n=this;n._body.push(e),r()};Nr.prototype._resetTimers=function(e){var t=this;Ve.clearTimeout(t._socketTimer),t._socketTimer=null,e?(Ve.clearTimeout(t._fetchTimer),t._fetchTimer=null):t._socketTimeout&&(t._socketTimer=Ve.setTimeout(function(){t.emit("timeout")},t._socketTimeout))};Nr.prototype.abort=Nr.prototype.destroy=function(e){var t=this;t._destroyed=!0,t._resetTimers(!0),t._response&&(t._response._destroyed=!0),t._xhr?t._xhr.abort():t._fetchAbortController&&t._fetchAbortController.abort(),e&&t.emit("error",e)};Nr.prototype.end=function(e,t,r){var n=this;typeof e=="function"&&(r=e,e=void 0),hp.Writable.prototype.end.call(n,e,t,r)};Nr.prototype.setTimeout=function(e,t){var r=this;t&&r.once("timeout",t),r._socketTimeout=e,r._resetTimers(!1)};Nr.prototype.flushHeaders=function(){};Nr.prototype.setNoDelay=function(){};Nr.prototype.setSocketKeepAlive=function(){};var yA=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],gA=wA,bA=Object.prototype.hasOwnProperty;function wA(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)bA.call(r,n)&&(e[n]=r[n])}return e}var _A={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"};(function(e){var t=_2.exports,r=Jc,n=gA,a=_A,i=Xt.exports,f=e;f.request=function(l,v){typeof l=="string"?l=i.parse(l):l=n(l);var h=Ve.location.protocol.search(/^https?:$/)===-1?"http:":"",g=l.protocol||h,_=l.hostname||l.host,M=l.port,E=l.path||"/";_&&_.indexOf(":")!==-1&&(_="["+_+"]"),l.url=(_?g+"//"+_:"")+(M?":"+M:"")+E,l.method=(l.method||"GET").toUpperCase(),l.headers=l.headers||{};var A=new t(l);return v&&A.on("response",v),A},f.get=function(v,h){var g=f.request(v,h);return g.end(),g},f.ClientRequest=t,f.IncomingMessage=r.IncomingMessage,f.Agent=function(){},f.Agent.defaultMaxSockets=4,f.globalAgent=new f.Agent,f.STATUS_CODES=a,f.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]})(ru);function rl(e){return new Promise(function(t,r){var n=ru.request(en({method:"GET"},e));n.on("error",function(a){r(Object.assign(new Qt("Unable to connect to instance metadata service"),a))}),n.on("timeout",function(){r(new Error("TimeoutError"))}),n.on("response",function(a){var i=a.statusCode,f=i===void 0?400:i;(f<200||300<=f)&&r(Object.assign(new Qt("Error response received from instance metadata service"),{statusCode:f}));var l=[];a.on("data",function(v){l.push(v)}),a.on("end",function(){t(Ue.Buffer.concat(l))})}),n.end()})}var f3=function(e){return Boolean(e)&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string"},c3=function(e){return{accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration)}},SA=1e3,MA=0,l3=function(e){var t=e.maxRetries,r=t===void 0?MA:t,n=e.timeout,a=n===void 0?SA:n;return{maxRetries:r,timeout:a}},w0=function(e,t){for(var r=e(),n=0;n<t;n++)r=r.catch(e);return r},wf="AWS_CONTAINER_CREDENTIALS_FULL_URI",_f="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",yy="AWS_CONTAINER_AUTHORIZATION_TOKEN";function xA(e){var t=this;e===void 0&&(e={});var r=l3(e),n=r.timeout,a=r.maxRetries;return function(){return CA().then(function(i){return w0(function(){return Qi(t,void 0,void 0,function(){var f,l,v;return ea(this,function(h){switch(h.label){case 0:return v=(l=JSON).parse,[4,EA(n,i)];case 1:if(f=v.apply(l,[h.sent()]),!f3(f))throw new Qt("Invalid response received from instance metadata service.");return[2,c3(f)]}})})},a)})}}function EA(e,t){if({}[yy]){var r=t.headers,n=r===void 0?{}:r;n.Authorization={}[yy],t.headers=n}return rl(en(en({},t),{timeout:e})).then(function(a){return a.toString()})}var AA="169.254.170.2",IA={localhost:!0,"127.0.0.1":!0},TA={"http:":!0,"https:":!0};function CA(){if({}[_f])return Promise.resolve({hostname:AA,path:{}[_f]});if({}[wf]){var e=Xt.exports.parse({}[wf]);return!e.hostname||!(e.hostname in IA)?Promise.reject(new Qt(e.hostname+" is not a valid container metadata service hostname",!1)):!e.protocol||!(e.protocol in TA)?Promise.reject(new Qt(e.protocol+" is not a valid container metadata service protocol",!1)):Promise.resolve(en(en({},e),{port:e.port?parseInt(e.port,10):void 0}))}return Promise.reject(new Qt("The container metadata credential provider cannot be used unless"+(" the "+_f+" or "+wf+" environment")+" variable is set",!1))}var dp="169.254.169.254",h3="/latest/meta-data/iam/security-credentials/",OA="/latest/api/token",PA=function(e){e===void 0&&(e={});var t=!1,r=l3(e),n=r.timeout,a=r.maxRetries,i=function(f,l){return Qi(void 0,void 0,void 0,function(){var v;return ea(this,function(h){switch(h.label){case 0:return[4,w0(function(){return Qi(void 0,void 0,void 0,function(){var g,_;return ea(this,function(M){switch(M.label){case 0:return M.trys.push([0,2,,3]),[4,RA(l)];case 1:return g=M.sent(),[3,3];case 2:throw _=M.sent(),_.statusCode===401&&(t=!1),_;case 3:return[2,g]}})})},f)];case 1:return v=h.sent().trim(),[2,w0(function(){return Qi(void 0,void 0,void 0,function(){var g,_;return ea(this,function(M){switch(M.label){case 0:return M.trys.push([0,2,,3]),[4,NA(v,l)];case 1:return g=M.sent(),[3,3];case 2:throw _=M.sent(),_.statusCode===401&&(t=!1),_;case 3:return[2,g]}})})},f)]}})})};return function(){return Qi(void 0,void 0,void 0,function(){var f,l;return ea(this,function(v){switch(v.label){case 0:return t?[2,i(a,{timeout:n})]:[3,1];case 1:f=void 0,v.label=2;case 2:return v.trys.push([2,4,,5]),[4,kA({timeout:n})];case 3:return f=v.sent().toString(),[3,5];case 4:if(l=v.sent(),(l==null?void 0:l.statusCode)===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),[2,i(a,{timeout:n})];case 5:return[2,i(a,{timeout:n,headers:{"x-aws-ec2-metadata-token":f}})]}})})}},kA=function(e){return Qi(void 0,void 0,void 0,function(){return ea(this,function(t){return[2,rl(en(en({},e),{host:dp,path:OA,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}))]})})},RA=function(e){return Qi(void 0,void 0,void 0,function(){return ea(this,function(t){switch(t.label){case 0:return[4,rl(en(en({},e),{host:dp,path:h3}))];case 1:return[2,t.sent().toString()]}})})},NA=function(e,t){return Qi(void 0,void 0,void 0,function(){var r,n,a;return ea(this,function(i){switch(i.label){case 0:return a=(n=JSON).parse,[4,rl(en(en({},t),{host:dp,path:h3+e}))];case 1:if(r=a.apply(n,[i.sent().toString()]),!f3(r))throw new Qt("Invalid response received from instance metadata service.");return[2,c3(r)]}})})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Qo=function(){return Qo=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Qo.apply(this,arguments)};function vp(e,t,r,n){function a(i){return i instanceof r?i:new r(function(f){f(i)})}return new(r||(r=Promise))(function(i,f){function l(g){try{h(n.next(g))}catch(_){f(_)}}function v(g){try{h(n.throw(g))}catch(_){f(_)}}function h(g){g.done?i(g.value):a(g.value).then(l,v)}h((n=n.apply(e,t||[])).next())})}function pp(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(h){return function(g){return v([h,g])}}function v(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){r.label=h[1];break}if(h[0]===6&&r.label<i[1]){r.label=i[1],i=h;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(h);break}i[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],a=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function d3(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v3(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],f;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){f={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(f)throw f.error}}return i}var DA=null,mp=DA,BA=function(){return typeof navigator<"u"?navigator.appVersion:""},UA=function(){return"browser"},FA=function(){return"/"};function Kn(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function gy(e,t){for(var r="",n=0,a=-1,i=0,f,l=0;l<=e.length;++l){if(l<e.length)f=e.charCodeAt(l);else{if(f===47)break;f=47}if(f===47){if(!(a===l-1||i===1))if(a!==l-1&&i===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){var v=r.lastIndexOf("/");if(v!==r.length-1){v===-1?(r="",n=0):(r=r.slice(0,v),n=r.length-1-r.lastIndexOf("/")),a=l,i=0;continue}}else if(r.length===2||r.length===1){r="",n=0,a=l,i=0;continue}}t&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+="/"+e.slice(a+1,l):r=e.slice(a+1,l),n=l-a-1;a=l,i=0}else f===46&&i!==-1?++i:i=-1}return r}function LA(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+e+n:n}var Fo={resolve:function(){for(var t="",r=!1,n,a=arguments.length-1;a>=-1&&!r;a--){var i;a>=0?i=arguments[a]:(n===void 0&&(n=ze.exports.cwd()),i=n),Kn(i),i.length!==0&&(t=i+"/"+t,r=i.charCodeAt(0)===47)}return t=gy(t,!r),r?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(t){if(Kn(t),t.length===0)return".";var r=t.charCodeAt(0)===47,n=t.charCodeAt(t.length-1)===47;return t=gy(t,!r),t.length===0&&!r&&(t="."),t.length>0&&n&&(t+="/"),r?"/"+t:t},isAbsolute:function(t){return Kn(t),t.length>0&&t.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var t,r=0;r<arguments.length;++r){var n=arguments[r];Kn(n),n.length>0&&(t===void 0?t=n:t+="/"+n)}return t===void 0?".":Fo.normalize(t)},relative:function(t,r){if(Kn(t),Kn(r),t===r||(t=Fo.resolve(t),r=Fo.resolve(r),t===r))return"";for(var n=1;n<t.length&&t.charCodeAt(n)===47;++n);for(var a=t.length,i=a-n,f=1;f<r.length&&r.charCodeAt(f)===47;++f);for(var l=r.length,v=l-f,h=i<v?i:v,g=-1,_=0;_<=h;++_){if(_===h){if(v>h){if(r.charCodeAt(f+_)===47)return r.slice(f+_+1);if(_===0)return r.slice(f+_)}else i>h&&(t.charCodeAt(n+_)===47?g=_:_===0&&(g=0));break}var M=t.charCodeAt(n+_),E=r.charCodeAt(f+_);if(M!==E)break;M===47&&(g=_)}var A="";for(_=n+g+1;_<=a;++_)(_===a||t.charCodeAt(_)===47)&&(A.length===0?A+="..":A+="/..");return A.length>0?A+r.slice(f+g):(f+=g,r.charCodeAt(f)===47&&++f,r.slice(f))},_makeLong:function(t){return t},dirname:function(t){if(Kn(t),t.length===0)return".";for(var r=t.charCodeAt(0),n=r===47,a=-1,i=!0,f=t.length-1;f>=1;--f)if(r=t.charCodeAt(f),r===47){if(!i){a=f;break}}else i=!1;return a===-1?n?"/":".":n&&a===1?"//":t.slice(0,a)},basename:function(t,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');Kn(t);var n=0,a=-1,i=!0,f;if(r!==void 0&&r.length>0&&r.length<=t.length){if(r.length===t.length&&r===t)return"";var l=r.length-1,v=-1;for(f=t.length-1;f>=0;--f){var h=t.charCodeAt(f);if(h===47){if(!i){n=f+1;break}}else v===-1&&(i=!1,v=f+1),l>=0&&(h===r.charCodeAt(l)?--l===-1&&(a=f):(l=-1,a=v))}return n===a?a=v:a===-1&&(a=t.length),t.slice(n,a)}else{for(f=t.length-1;f>=0;--f)if(t.charCodeAt(f)===47){if(!i){n=f+1;break}}else a===-1&&(i=!1,a=f+1);return a===-1?"":t.slice(n,a)}},extname:function(t){Kn(t);for(var r=-1,n=0,a=-1,i=!0,f=0,l=t.length-1;l>=0;--l){var v=t.charCodeAt(l);if(v===47){if(!i){n=l+1;break}continue}a===-1&&(i=!1,a=l+1),v===46?r===-1?r=l:f!==1&&(f=1):r!==-1&&(f=-1)}return r===-1||a===-1||f===0||f===1&&r===a-1&&r===n+1?"":t.slice(r,a)},format:function(t){if(t===null||typeof t!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return LA("/",t)},parse:function(t){Kn(t);var r={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return r;var n=t.charCodeAt(0),a=n===47,i;a?(r.root="/",i=1):i=0;for(var f=-1,l=0,v=-1,h=!0,g=t.length-1,_=0;g>=i;--g){if(n=t.charCodeAt(g),n===47){if(!h){l=g+1;break}continue}v===-1&&(h=!1,v=g+1),n===46?f===-1?f=g:_!==1&&(_=1):f!==-1&&(_=-1)}return f===-1||v===-1||_===0||_===1&&f===v-1&&f===l+1?v!==-1&&(l===0&&a?r.base=r.name=t.slice(1,v):r.base=r.name=t.slice(l,v)):(l===0&&a?(r.name=t.slice(1,f),r.base=t.slice(1,v)):(r.name=t.slice(l,f),r.base=t.slice(l,v)),r.ext=t.slice(f,v)),l>0?r.dir=t.slice(0,l-1):a&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};Fo.posix=Fo;var _0=Fo,qA="AWS_SHARED_CREDENTIALS_FILE",jA="AWS_CONFIG_FILE",by=function(){return{}},yp=function(e){e===void 0&&(e={});var t=e.filepath,r=t===void 0?{}[qA]||_0.join(Sy(),".aws","credentials"):t,n=e.configFilepath,a=n===void 0?{}[jA]||_0.join(Sy(),".aws","config"):n;return Promise.all([_y(a).then(wy).then(VA).catch(by),_y(r).then(wy).catch(by)]).then(function(i){var f=v3(i,2),l=f[0],v=f[1];return{configFile:l,credentialsFile:v}})},$A=/^profile\s(["'])?([^\1]+)\1$/,VA=function(e){var t,r,n={};try{for(var a=d3(Object.keys(e)),i=a.next();!i.done;i=a.next()){var f=i.value,l=void 0;if(f==="default")n.default=e.default;else if(l=$A.exec(f)){var v=v3(l,3),h=v[0],g=v[1],_=v[2];_&&(n[_]=e[f])}}}catch(M){t={error:M}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return n},zA=["__proto__","profile __proto__"],wy=function(e){var t,r,n={},a;try{for(var i=d3(e.split(/\r?\n/)),f=i.next();!f.done;f=i.next()){var l=f.value;l=l.split(/(^|\s)[;#]/)[0];var v=l.match(/^\s*\[([^\[\]]+)]\s*$/);if(v){if(a=v[1],zA.includes(a))throw new Error('Found invalid profile name "'+a+'"')}else if(a){var h=l.match(/^\s*(.+?)\s*=\s*(.+?)\s*$/);h&&(n[a]=n[a]||{},n[a][h[1]]=h[2])}}}catch(g){t={error:g}}finally{try{f&&!f.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n},_y=function(e){return new Promise(function(t,r){mp.readFile(e,"utf8",function(n,a){n?r(n):t(a)})})},Sy=function(){var e={},t=e.HOME,r=e.USERPROFILE,n=e.HOMEPATH,a=e.HOMEDRIVE,i=a===void 0?"C:"+_0.sep:a;return t||r||(n?""+i+n:FA())},KA="default",p3="AWS_PROFILE",My=function(e){return Boolean(e)&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1},HA=function(e){return Boolean(e)&&typeof e=="object"&&typeof e.role_arn=="string"&&typeof e.source_profile=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1},GA=function(e){return e===void 0&&(e={}),function(){return vp(void 0,void 0,void 0,function(){var t;return pp(this,function(r){switch(r.label){case 0:return[4,m3(e)];case 1:return t=r.sent(),[2,y3(gp(e),t,e)]}})})}},m3=function(e){return vp(void 0,void 0,void 0,function(){var t,r,n;return pp(this,function(a){switch(a.label){case 0:return t=e.loadedConfig,r=t===void 0?yp(e):t,[4,r];case 1:return n=a.sent(),[2,Qo(Qo({},n.configFile),n.credentialsFile)]}})})},gp=function(e){return e.profile||{}[p3]||KA},y3=function(e,t,r,n){return n===void 0&&(n={}),vp(void 0,void 0,void 0,function(){var a,i,f,l,v,h,g,_,M,E,A,I,O;return pp(this,function(T){switch(T.label){case 0:if(a=t[e],Object.keys(n).length>0&&My(a))return[2,xy(a)];if(!HA(a))return[3,4];if(i=a.external_id,f=a.mfa_serial,l=a.role_arn,v=a.role_session_name,h=v===void 0?"aws-sdk-js-"+Date.now():v,g=a.source_profile,!r.roleAssumer)throw new Qt("Profile "+e+" requires a role to be assumed, but no role assumption callback was provided.",!1);if(g in n)throw new Qt("Detected a cycle attempting to resolve credentials for profile"+(" "+gp(r)+". Profiles visited: ")+Object.keys(n).join(", "),!1);if(_=y3(g,t,r,Qo(Qo({},n),(O={},O[g]=!0,O))),M={RoleArn:l,RoleSessionName:h,ExternalId:i},!f)return[3,2];if(!r.mfaCodeProvider)throw new Qt("Profile "+e+" requires multi-factor authentication, but no MFA code callback was provided.",!1);return M.SerialNumber=f,E=M,[4,r.mfaCodeProvider(f)];case 1:E.TokenCode=T.sent(),T.label=2;case 2:return I=(A=r).roleAssumer,[4,_];case 3:return[2,I.apply(A,[T.sent(),M])];case 4:if(My(a))return[2,xy(a)];throw new Qt("Profile "+e+" could not be found or parsed in shared credentials file.")}})})},xy=function(e){return Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function g3(e,t,r,n){function a(i){return i instanceof r?i:new r(function(f){f(i)})}return new(r||(r=Promise))(function(i,f){function l(g){try{h(n.next(g))}catch(_){f(_)}}function v(g){try{h(n.throw(g))}catch(_){f(_)}}function h(g){g.done?i(g.value):a(g.value).then(l,v)}h((n=n.apply(e,t||[])).next())})}function b3(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(h){return function(g){return v([h,g])}}function v(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){r.label=h[1];break}if(h[0]===6&&r.label<i[1]){r.label=i[1],i=h;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(h);break}i[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],a=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var WA=function(e){return e===void 0&&(e={}),function(){return g3(void 0,void 0,void 0,function(){var t;return b3(this,function(r){switch(r.label){case 0:return[4,m3(e)];case 1:return t=r.sent(),[2,JA(gp(e),t)]}})})}},JA=function(e,t){return g3(void 0,void 0,void 0,function(){var r,n;return b3(this,function(a){switch(a.label){case 0:return r=t[e],t[e]?(n=r.credential_process,n===void 0?[3,2]:[4,ZA(n).then(function(i){var f;try{f=JSON.parse(i)}catch{throw Error("Profile "+e+" credential_process returned invalid JSON.")}var l=f.Version,v=f.AccessKeyId,h=f.SecretAccessKey,g=f.SessionToken,_=f.Expiration;if(l!==1)throw Error("Profile "+e+" credential_process did not return Version 1.");if(v===void 0||h===void 0)throw Error("Profile "+e+" credential_process returned invalid credentials.");var M;if(_){var E=new Date,A=new Date(_);if(A<E)throw Error("Profile "+e+" credential_process returned expired credentials.");M=Math.floor(new Date(_).valueOf()/1e3)}return{accessKeyId:v,secretAccessKey:h,sessionToken:g,expirationUnix:M}}).catch(function(i){throw new Qt(i.message)})]):[3,4];case 1:return[2,a.sent()];case 2:throw new Qt("Profile "+e+" did not contain credential_process.");case 3:return[3,5];case 4:throw new Qt("Profile "+e+" could not be found in shared credentials file.");case 5:return[2]}})})},ZA=function(e){return new Promise(function(t,r){mp.exec(e,function(n,a){if(n){r(n);return}t(a.trim())})})},YA="AWS_EC2_METADATA_DISABLED",XA=function(e){e===void 0&&(e={});var t=h0({profile:{}[p3]},e);t.loadedConfig||(t.loadedConfig=yp(e));var r=[GA(t),WA(t),QA(t)];t.profile||r.unshift(iE());var n=b2.apply(void 0,Wx(r));return w2(n,function(a){return a.expiration!==void 0&&a.expiration.getTime()-Date.now()<3e5},function(a){return a.expiration!==void 0})},QA=function(e){return{}[_f]||{}[wf]?xA(e):{}[YA]?function(){return Promise.reject(new Qt("EC2 Instance Metadata Service access disabled"))}:PA(e)},w3=function(e){return typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]"},Yf=function(e,t,r){if(t===void 0&&(t=0),r===void 0&&(r=e.byteLength-t),!w3(e))throw new TypeError('The "input" argument must be ArrayBuffer. Received type '+typeof e+" ("+e+")");return Ue.Buffer.from(e,t,r)},bp=function(e,t){if(typeof e!="string")throw new TypeError('The "input" argument must be of type string. Received type '+typeof e+" ("+e+")");return t?Ue.Buffer.from(e,t):Ue.Buffer.from(e)},ut={},aa={exports:{}},ht={exports:{}};(function(e,t){var r=Ue,n=r.Buffer;function a(f,l){for(var v in f)l[v]=f[v]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=i);function i(f,l,v){return n(f,l,v)}a(n,i),i.from=function(f,l,v){if(typeof f=="number")throw new TypeError("Argument must not be a number");return n(f,l,v)},i.alloc=function(f,l,v){if(typeof f!="number")throw new TypeError("Argument must be a number");var h=n(f);return l!==void 0?typeof v=="string"?h.fill(l,v):h.fill(l):h.fill(0),h},i.allocUnsafe=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return n(f)},i.allocUnsafeSlow=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(f)}})(ht,ht.exports);var bh=65536,e8=4294967295;function t8(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var r8=ht.exports.Buffer,Xf=Ve.crypto||Ve.msCrypto;Xf&&Xf.getRandomValues?aa.exports=n8:aa.exports=t8;function n8(e,t){if(e>e8)throw new RangeError("requested too many random bytes");var r=r8.allocUnsafe(e);if(e>0)if(e>bh)for(var n=0;n<e;n+=bh)Xf.getRandomValues(r.slice(n,n+bh));else Xf.getRandomValues(r);return typeof t=="function"?ze.exports.nextTick(function(){t(null,r)}):r}var S0={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=Ue,n=r.Buffer;function a(f,l){for(var v in f)l[v]=f[v]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=i);function i(f,l,v){return n(f,l,v)}i.prototype=Object.create(n.prototype),a(n,i),i.from=function(f,l,v){if(typeof f=="number")throw new TypeError("Argument must not be a number");return n(f,l,v)},i.alloc=function(f,l,v){if(typeof f!="number")throw new TypeError("Argument must be a number");var h=n(f);return l!==void 0?typeof v=="string"?h.fill(l,v):h.fill(l):h.fill(0),h},i.allocUnsafe=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return n(f)},i.allocUnsafeSlow=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(f)}})(S0,S0.exports);var Qf=S0.exports.Buffer,_3=Yo.exports.Transform,i8=at.exports;function a8(e,t){if(!Qf.isBuffer(e)&&typeof e!="string")throw new TypeError(t+" must be a string or a buffer")}function ca(e){_3.call(this),this._block=Qf.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}i8(ca,_3);ca.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(a){n=a}r(n)};ca.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(r){t=r}e(t)};ca.prototype.update=function(e,t){if(a8(e,"Data"),this._finalized)throw new Error("Digest already called");Qf.isBuffer(e)||(e=Qf.from(e,t));for(var r=this._block,n=0;this._blockOffset+e.length-n>=this._blockSize;){for(var a=this._blockOffset;a<this._blockSize;)r[a++]=e[n++];this._update(),this._blockOffset=0}for(;n<e.length;)r[this._blockOffset++]=e[n++];for(var i=0,f=e.length*8;f>0;++i)this._length[i]+=f,f=this._length[i]/4294967296|0,f>0&&(this._length[i]-=4294967296*f);return this};ca.prototype._update=function(){throw new Error("_update is not implemented")};ca.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();e!==void 0&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t};ca.prototype._digest=function(){throw new Error("_digest is not implemented")};var S3=ca,o8=at.exports,M3=S3,s8=ht.exports.Buffer,u8=new Array(16);function nl(){M3.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}o8(nl,M3);nl.prototype._update=function(){for(var e=u8,t=0;t<16;++t)e[t]=this._block.readInt32LE(t*4);var r=this._a,n=this._b,a=this._c,i=this._d;r=Mr(r,n,a,i,e[0],3614090360,7),i=Mr(i,r,n,a,e[1],3905402710,12),a=Mr(a,i,r,n,e[2],606105819,17),n=Mr(n,a,i,r,e[3],3250441966,22),r=Mr(r,n,a,i,e[4],4118548399,7),i=Mr(i,r,n,a,e[5],1200080426,12),a=Mr(a,i,r,n,e[6],2821735955,17),n=Mr(n,a,i,r,e[7],4249261313,22),r=Mr(r,n,a,i,e[8],1770035416,7),i=Mr(i,r,n,a,e[9],2336552879,12),a=Mr(a,i,r,n,e[10],4294925233,17),n=Mr(n,a,i,r,e[11],2304563134,22),r=Mr(r,n,a,i,e[12],1804603682,7),i=Mr(i,r,n,a,e[13],4254626195,12),a=Mr(a,i,r,n,e[14],2792965006,17),n=Mr(n,a,i,r,e[15],1236535329,22),r=xr(r,n,a,i,e[1],4129170786,5),i=xr(i,r,n,a,e[6],3225465664,9),a=xr(a,i,r,n,e[11],643717713,14),n=xr(n,a,i,r,e[0],3921069994,20),r=xr(r,n,a,i,e[5],3593408605,5),i=xr(i,r,n,a,e[10],38016083,9),a=xr(a,i,r,n,e[15],3634488961,14),n=xr(n,a,i,r,e[4],3889429448,20),r=xr(r,n,a,i,e[9],568446438,5),i=xr(i,r,n,a,e[14],3275163606,9),a=xr(a,i,r,n,e[3],4107603335,14),n=xr(n,a,i,r,e[8],1163531501,20),r=xr(r,n,a,i,e[13],2850285829,5),i=xr(i,r,n,a,e[2],4243563512,9),a=xr(a,i,r,n,e[7],1735328473,14),n=xr(n,a,i,r,e[12],2368359562,20),r=Er(r,n,a,i,e[5],4294588738,4),i=Er(i,r,n,a,e[8],2272392833,11),a=Er(a,i,r,n,e[11],1839030562,16),n=Er(n,a,i,r,e[14],4259657740,23),r=Er(r,n,a,i,e[1],2763975236,4),i=Er(i,r,n,a,e[4],1272893353,11),a=Er(a,i,r,n,e[7],4139469664,16),n=Er(n,a,i,r,e[10],3200236656,23),r=Er(r,n,a,i,e[13],681279174,4),i=Er(i,r,n,a,e[0],3936430074,11),a=Er(a,i,r,n,e[3],3572445317,16),n=Er(n,a,i,r,e[6],76029189,23),r=Er(r,n,a,i,e[9],3654602809,4),i=Er(i,r,n,a,e[12],3873151461,11),a=Er(a,i,r,n,e[15],530742520,16),n=Er(n,a,i,r,e[2],3299628645,23),r=Ar(r,n,a,i,e[0],4096336452,6),i=Ar(i,r,n,a,e[7],1126891415,10),a=Ar(a,i,r,n,e[14],2878612391,15),n=Ar(n,a,i,r,e[5],4237533241,21),r=Ar(r,n,a,i,e[12],1700485571,6),i=Ar(i,r,n,a,e[3],2399980690,10),a=Ar(a,i,r,n,e[10],4293915773,15),n=Ar(n,a,i,r,e[1],2240044497,21),r=Ar(r,n,a,i,e[8],1873313359,6),i=Ar(i,r,n,a,e[15],4264355552,10),a=Ar(a,i,r,n,e[6],2734768916,15),n=Ar(n,a,i,r,e[13],1309151649,21),r=Ar(r,n,a,i,e[4],4149444226,6),i=Ar(i,r,n,a,e[11],3174756917,10),a=Ar(a,i,r,n,e[2],718787259,15),n=Ar(n,a,i,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+a|0,this._d=this._d+i|0};nl.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=s8.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e};function il(e,t){return e<<t|e>>>32-t}function Mr(e,t,r,n,a,i,f){return il(e+(t&r|~t&n)+a+i|0,f)+t|0}function xr(e,t,r,n,a,i,f){return il(e+(t&n|r&~n)+a+i|0,f)+t|0}function Er(e,t,r,n,a,i,f){return il(e+(t^r^n)+a+i|0,f)+t|0}function Ar(e,t,r,n,a,i,f){return il(e+(r^(t|~n))+a+i|0,f)+t|0}var wp=nl,wh=Ue.Buffer,f8=at.exports,x3=S3,c8=new Array(16),Ps=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ks=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Rs=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Ns=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Ds=[0,1518500249,1859775393,2400959708,2840853838],Bs=[1352829926,1548603684,1836072691,2053994217,0];function al(){x3.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}f8(al,x3);al.prototype._update=function(){for(var e=c8,t=0;t<16;++t)e[t]=this._block.readInt32LE(t*4);for(var r=this._a|0,n=this._b|0,a=this._c|0,i=this._d|0,f=this._e|0,l=this._a|0,v=this._b|0,h=this._c|0,g=this._d|0,_=this._e|0,M=0;M<80;M+=1){var E,A;M<16?(E=Ey(r,n,a,i,f,e[Ps[M]],Ds[0],Rs[M]),A=Cy(l,v,h,g,_,e[ks[M]],Bs[0],Ns[M])):M<32?(E=Ay(r,n,a,i,f,e[Ps[M]],Ds[1],Rs[M]),A=Ty(l,v,h,g,_,e[ks[M]],Bs[1],Ns[M])):M<48?(E=Iy(r,n,a,i,f,e[Ps[M]],Ds[2],Rs[M]),A=Iy(l,v,h,g,_,e[ks[M]],Bs[2],Ns[M])):M<64?(E=Ty(r,n,a,i,f,e[Ps[M]],Ds[3],Rs[M]),A=Ay(l,v,h,g,_,e[ks[M]],Bs[3],Ns[M])):(E=Cy(r,n,a,i,f,e[Ps[M]],Ds[4],Rs[M]),A=Ey(l,v,h,g,_,e[ks[M]],Bs[4],Ns[M])),r=f,f=i,i=Ka(a,10),a=n,n=E,l=_,_=g,g=Ka(h,10),h=v,v=A}var I=this._b+a+g|0;this._b=this._c+i+_|0,this._c=this._d+f+l|0,this._d=this._e+r+v|0,this._e=this._a+n+h|0,this._a=I};al.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=wh.alloc?wh.alloc(20):new wh(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e};function Ka(e,t){return e<<t|e>>>32-t}function Ey(e,t,r,n,a,i,f,l){return Ka(e+(t^r^n)+i+f|0,l)+a|0}function Ay(e,t,r,n,a,i,f,l){return Ka(e+(t&r|~t&n)+i+f|0,l)+a|0}function Iy(e,t,r,n,a,i,f,l){return Ka(e+((t|~r)^n)+i+f|0,l)+a|0}function Ty(e,t,r,n,a,i,f,l){return Ka(e+(t&n|r&~n)+i+f|0,l)+a|0}function Cy(e,t,r,n,a,i,f,l){return Ka(e+(t^(r|~n))+i+f|0,l)+a|0}var _p=al,ol={exports:{}},E3=ht.exports.Buffer;function sl(e,t){this._block=E3.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}sl.prototype.update=function(e,t){typeof e=="string"&&(t=t||"utf8",e=E3.from(e,t));for(var r=this._block,n=this._blockSize,a=e.length,i=this._len,f=0;f<a;){for(var l=i%n,v=Math.min(a-f,n-l),h=0;h<v;h++)r[l+h]=e[f+h];i+=v,f+=v,i%n===0&&this._update(r)}return this._len+=a,this};sl.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,a=(r-n)/4294967296;this._block.writeUInt32BE(a,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var i=this._hash();return e?i.toString(e):i};sl.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var gs=sl,l8=at.exports,A3=gs,h8=ht.exports.Buffer,d8=[1518500249,1859775393,-1894007588,-899497514],v8=new Array(80);function _u(){this.init(),this._w=v8,A3.call(this,64,56)}l8(_u,A3);_u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function p8(e){return e<<5|e>>>27}function m8(e){return e<<30|e>>>2}function y8(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}_u.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,a=this._c|0,i=this._d|0,f=this._e|0,l=0;l<16;++l)t[l]=e.readInt32BE(l*4);for(;l<80;++l)t[l]=t[l-3]^t[l-8]^t[l-14]^t[l-16];for(var v=0;v<80;++v){var h=~~(v/20),g=p8(r)+y8(h,n,a,i)+f+t[v]+d8[h]|0;f=i,i=a,a=m8(n),n=r,r=g}this._a=r+this._a|0,this._b=n+this._b|0,this._c=a+this._c|0,this._d=i+this._d|0,this._e=f+this._e|0};_u.prototype._hash=function(){var e=h8.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var g8=_u,b8=at.exports,I3=gs,w8=ht.exports.Buffer,_8=[1518500249,1859775393,-1894007588,-899497514],S8=new Array(80);function Su(){this.init(),this._w=S8,I3.call(this,64,56)}b8(Su,I3);Su.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function M8(e){return e<<1|e>>>31}function x8(e){return e<<5|e>>>27}function E8(e){return e<<30|e>>>2}function A8(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}Su.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,a=this._c|0,i=this._d|0,f=this._e|0,l=0;l<16;++l)t[l]=e.readInt32BE(l*4);for(;l<80;++l)t[l]=M8(t[l-3]^t[l-8]^t[l-14]^t[l-16]);for(var v=0;v<80;++v){var h=~~(v/20),g=x8(r)+A8(h,n,a,i)+f+t[v]+_8[h]|0;f=i,i=a,a=E8(n),n=r,r=g}this._a=r+this._a|0,this._b=n+this._b|0,this._c=a+this._c|0,this._d=i+this._d|0,this._e=f+this._e|0};Su.prototype._hash=function(){var e=w8.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var I8=Su,T8=at.exports,T3=gs,C8=ht.exports.Buffer,O8=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],P8=new Array(64);function Mu(){this.init(),this._w=P8,T3.call(this,64,56)}T8(Mu,T3);Mu.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function k8(e,t,r){return r^e&(t^r)}function R8(e,t,r){return e&t|r&(e|t)}function N8(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function D8(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function B8(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function U8(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}Mu.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,a=this._c|0,i=this._d|0,f=this._e|0,l=this._f|0,v=this._g|0,h=this._h|0,g=0;g<16;++g)t[g]=e.readInt32BE(g*4);for(;g<64;++g)t[g]=U8(t[g-2])+t[g-7]+B8(t[g-15])+t[g-16]|0;for(var _=0;_<64;++_){var M=h+D8(f)+k8(f,l,v)+O8[_]+t[_]|0,E=N8(r)+R8(r,n,a)|0;h=v,v=l,l=f,f=i+M|0,i=a,a=n,n=r,r=M+E|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=a+this._c|0,this._d=i+this._d|0,this._e=f+this._e|0,this._f=l+this._f|0,this._g=v+this._g|0,this._h=h+this._h|0};Mu.prototype._hash=function(){var e=C8.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};var C3=Mu,F8=at.exports,L8=C3,q8=gs,j8=ht.exports.Buffer,$8=new Array(64);function ul(){this.init(),this._w=$8,q8.call(this,64,56)}F8(ul,L8);ul.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};ul.prototype._hash=function(){var e=j8.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};var V8=ul,z8=at.exports,O3=gs,K8=ht.exports.Buffer,Oy=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],H8=new Array(160);function xu(){this.init(),this._w=H8,O3.call(this,128,112)}z8(xu,O3);xu.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Py(e,t,r){return r^e&(t^r)}function ky(e,t,r){return e&t|r&(e|t)}function Ry(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function Ny(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function G8(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function W8(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function J8(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function Z8(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function lr(e,t){return e>>>0<t>>>0?1:0}xu.prototype._update=function(e){for(var t=this._w,r=this._ah|0,n=this._bh|0,a=this._ch|0,i=this._dh|0,f=this._eh|0,l=this._fh|0,v=this._gh|0,h=this._hh|0,g=this._al|0,_=this._bl|0,M=this._cl|0,E=this._dl|0,A=this._el|0,I=this._fl|0,O=this._gl|0,T=this._hl|0,P=0;P<32;P+=2)t[P]=e.readInt32BE(P*4),t[P+1]=e.readInt32BE(P*4+4);for(;P<160;P+=2){var k=t[P-30],R=t[P-15*2+1],D=G8(k,R),V=W8(R,k);k=t[P-2*2],R=t[P-2*2+1];var q=J8(k,R),$=Z8(R,k),F=t[P-7*2],z=t[P-7*2+1],b=t[P-16*2],o=t[P-16*2+1],u=V+z|0,c=D+F+lr(u,V)|0;u=u+$|0,c=c+q+lr(u,$)|0,u=u+o|0,c=c+b+lr(u,o)|0,t[P]=c,t[P+1]=u}for(var d=0;d<160;d+=2){c=t[d],u=t[d+1];var p=ky(r,n,a),w=ky(g,_,M),S=Ry(r,g),m=Ry(g,r),s=Ny(f,A),y=Ny(A,f),x=Oy[d],C=Oy[d+1],N=Py(f,l,v),j=Py(A,I,O),B=T+y|0,L=h+s+lr(B,T)|0;B=B+j|0,L=L+N+lr(B,j)|0,B=B+C|0,L=L+x+lr(B,C)|0,B=B+u|0,L=L+c+lr(B,u)|0;var Y=m+w|0,G=S+p+lr(Y,m)|0;h=v,T=O,v=l,O=I,l=f,I=A,A=E+B|0,f=i+L+lr(A,E)|0,i=a,E=M,a=n,M=_,n=r,_=g,g=B+Y|0,r=L+G+lr(g,B)|0}this._al=this._al+g|0,this._bl=this._bl+_|0,this._cl=this._cl+M|0,this._dl=this._dl+E|0,this._el=this._el+A|0,this._fl=this._fl+I|0,this._gl=this._gl+O|0,this._hl=this._hl+T|0,this._ah=this._ah+r+lr(this._al,g)|0,this._bh=this._bh+n+lr(this._bl,_)|0,this._ch=this._ch+a+lr(this._cl,M)|0,this._dh=this._dh+i+lr(this._dl,E)|0,this._eh=this._eh+f+lr(this._el,A)|0,this._fh=this._fh+l+lr(this._fl,I)|0,this._gh=this._gh+v+lr(this._gl,O)|0,this._hh=this._hh+h+lr(this._hl,T)|0};xu.prototype._hash=function(){var e=K8.allocUnsafe(64);function t(r,n,a){e.writeInt32BE(r,a),e.writeInt32BE(n,a+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};var P3=xu,Y8=at.exports,X8=P3,Q8=gs,e7=ht.exports.Buffer,t7=new Array(160);function fl(){this.init(),this._w=t7,Q8.call(this,128,112)}Y8(fl,X8);fl.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};fl.prototype._hash=function(){var e=e7.allocUnsafe(48);function t(r,n,a){e.writeInt32BE(r,a),e.writeInt32BE(n,a+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};var r7=fl,oo=ol.exports=function(t){t=t.toLowerCase();var r=oo[t];if(!r)throw new Error(t+" is not supported (we accept pull requests)");return new r};oo.sha=g8;oo.sha1=I8;oo.sha224=V8;oo.sha256=C3;oo.sha384=r7;oo.sha512=P3;var Sp=gn,Mp=gu.exports.EventEmitter,n7=at.exports;n7(gn,Mp);gn.Readable=fp();gn.Writable=sp();gn.Duplex=za();gn.Transform=cp;gn.PassThrough=n3;gn.finished=Qc;gn.pipeline=o3;gn.Stream=gn;function gn(){Mp.call(this)}gn.prototype.pipe=function(e,t){var r=this;function n(g){e.writable&&e.write(g)===!1&&r.pause&&r.pause()}r.on("data",n);function a(){r.readable&&r.resume&&r.resume()}e.on("drain",a),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",f),r.on("close",l));var i=!1;function f(){i||(i=!0,e.end())}function l(){i||(i=!0,typeof e.destroy=="function"&&e.destroy())}function v(g){if(h(),Mp.listenerCount(this,"error")===0)throw g}r.on("error",v),e.on("error",v);function h(){r.removeListener("data",n),e.removeListener("drain",a),r.removeListener("end",f),r.removeListener("close",l),r.removeListener("error",v),e.removeListener("error",v),r.removeListener("end",h),r.removeListener("close",h),e.removeListener("close",h)}return r.on("end",h),r.on("close",h),e.on("close",h),e.emit("pipe",r),e};var k3=ht.exports.Buffer,R3=Sp.Transform,i7=Zf.StringDecoder,a7=at.exports;function qn(e){R3.call(this),this.hashMode=typeof e=="string",this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}a7(qn,R3);qn.prototype.update=function(e,t,r){typeof e=="string"&&(e=k3.from(e,t));var n=this._update(e);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)};qn.prototype.setAutoPadding=function(){};qn.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};qn.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};qn.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};qn.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(a){n=a}finally{r(n)}};qn.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(r){t=r}e(t)};qn.prototype._finalOrDigest=function(e){var t=this.__final()||k3.alloc(0);return e&&(t=this._toString(t,e,!0)),t};qn.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new i7(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n};var la=qn,o7=at.exports,s7=wp,u7=_p,f7=ol.exports,N3=la;function cl(e){N3.call(this,"digest"),this._hash=e}o7(cl,N3);cl.prototype._update=function(e){this._hash.update(e)};cl.prototype._final=function(){return this._hash.digest()};var Eu=function(t){return t=t.toLowerCase(),t==="md5"?new s7:t==="rmd160"||t==="ripemd160"?new u7:new cl(f7(t))},c7=at.exports,Ta=ht.exports.Buffer,D3=la,l7=Ta.alloc(128),ho=64;function ll(e,t){D3.call(this,"digest"),typeof t=="string"&&(t=Ta.from(t)),this._alg=e,this._key=t,t.length>ho?t=e(t):t.length<ho&&(t=Ta.concat([t,l7],ho));for(var r=this._ipad=Ta.allocUnsafe(ho),n=this._opad=Ta.allocUnsafe(ho),a=0;a<ho;a++)r[a]=t[a]^54,n[a]=t[a]^92;this._hash=[r]}c7(ll,D3);ll.prototype._update=function(e){this._hash.push(e)};ll.prototype._final=function(){var e=this._alg(Ta.concat(this._hash));return this._alg(Ta.concat([this._opad,e]))};var h7=ll,d7=wp,B3=function(e){return new d7().update(e).digest()},v7=at.exports,p7=h7,U3=la,Vs=ht.exports.Buffer,m7=B3,M0=_p,x0=ol.exports,y7=Vs.alloc(128);function iu(e,t){U3.call(this,"digest"),typeof t=="string"&&(t=Vs.from(t));var r=e==="sha512"||e==="sha384"?128:64;if(this._alg=e,this._key=t,t.length>r){var n=e==="rmd160"?new M0:x0(e);t=n.update(t).digest()}else t.length<r&&(t=Vs.concat([t,y7],r));for(var a=this._ipad=Vs.allocUnsafe(r),i=this._opad=Vs.allocUnsafe(r),f=0;f<r;f++)a[f]=t[f]^54,i[f]=t[f]^92;this._hash=e==="rmd160"?new M0:x0(e),this._hash.update(a)}v7(iu,U3);iu.prototype._update=function(e){this._hash.update(e)};iu.prototype._final=function(){var e=this._hash.digest(),t=this._alg==="rmd160"?new M0:x0(this._alg);return t.update(this._opad).update(e).digest()};var F3=function(t,r){return t=t.toLowerCase(),t==="rmd160"||t==="ripemd160"?new iu("rmd160",r):t==="md5"?new p7(m7,r):new iu(t,r)},L3={exports:{}};const g7={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},b7={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},w7={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},_7={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},S7={sign:"ecdsa",hash:"sha256",id:""},M7={sign:"ecdsa",hash:"sha224",id:""},x7={sign:"ecdsa",hash:"sha384",id:""},E7={sign:"ecdsa",hash:"sha512",id:""},A7={sign:"dsa",hash:"sha1",id:""},I7={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},T7={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},q3={sha224WithRSAEncryption:g7,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:b7,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:w7,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:_7,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:S7,sha224:M7,sha384:x7,sha512:E7,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:A7,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:I7,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:T7,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};(function(e){e.exports=q3})(L3);var hl={},C7=Math.pow(2,30)-1,j3=function(e,t){if(typeof e!="number")throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if(typeof t!="number")throw new TypeError("Key length not a number");if(t<0||t>C7||t!==t)throw new TypeError("Bad key length")},Sf;if(Ve.process&&Ve.process.browser)Sf="utf-8";else if(Ve.process&&Ve.process.version){var O7=parseInt(ze.exports.version.split(".")[0].slice(1),10);Sf=O7>=6?"utf-8":"binary"}else Sf="utf-8";var $3=Sf,_h=ht.exports.Buffer,V3=function(e,t,r){if(_h.isBuffer(e))return e;if(typeof e=="string")return _h.from(e,t);if(ArrayBuffer.isView(e))return _h.from(e.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")},P7=B3,k7=_p,R7=ol.exports,Ca=ht.exports.Buffer,N7=j3,Dy=$3,By=V3,D7=Ca.alloc(128),Mf={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function z3(e,t,r){var n=B7(e),a=e==="sha512"||e==="sha384"?128:64;t.length>a?t=n(t):t.length<a&&(t=Ca.concat([t,D7],a));for(var i=Ca.allocUnsafe(a+Mf[e]),f=Ca.allocUnsafe(a+Mf[e]),l=0;l<a;l++)i[l]=t[l]^54,f[l]=t[l]^92;var v=Ca.allocUnsafe(a+r+4);i.copy(v,0,0,a),this.ipad1=v,this.ipad2=i,this.opad=f,this.alg=e,this.blocksize=a,this.hash=n,this.size=Mf[e]}z3.prototype.run=function(e,t){e.copy(t,this.blocksize);var r=this.hash(t);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function B7(e){function t(n){return R7(e).update(n).digest()}function r(n){return new k7().update(n).digest()}return e==="rmd160"||e==="ripemd160"?r:e==="md5"?P7:t}function U7(e,t,r,n,a){N7(r,n),e=By(e,Dy,"Password"),t=By(t,Dy,"Salt"),a=a||"sha1";var i=new z3(a,e,t.length),f=Ca.allocUnsafe(n),l=Ca.allocUnsafe(t.length+4);t.copy(l,0,0,t.length);for(var v=0,h=Mf[a],g=Math.ceil(n/h),_=1;_<=g;_++){l.writeUInt32BE(_,t.length);for(var M=i.run(l,i.ipad1),E=M,A=1;A<r;A++){E=i.run(E,i.ipad2);for(var I=0;I<h;I++)M[I]^=E[I]}M.copy(f,v),v+=h}return f}var K3=U7,H3=ht.exports.Buffer,F7=j3,Uy=$3,Fy=K3,Ly=V3,$u,Js=Ve.crypto&&Ve.crypto.subtle,L7={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},Sh=[];function q7(e){if(Ve.process&&!Ve.process.browser||!Js||!Js.importKey||!Js.deriveBits)return Promise.resolve(!1);if(Sh[e]!==void 0)return Sh[e];$u=$u||H3.alloc(8);var t=G3($u,$u,10,128,e).then(function(){return!0}).catch(function(){return!1});return Sh[e]=t,t}var va;function E0(){return va||(Ve.process&&Ve.process.nextTick?va=Ve.process.nextTick:Ve.queueMicrotask?va=Ve.queueMicrotask:Ve.setImmediate?va=Ve.setImmediate:va=Ve.setTimeout,va)}function G3(e,t,r,n,a){return Js.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then(function(i){return Js.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:a}},i,n<<3)}).then(function(i){return H3.from(i)})}function j7(e,t){e.then(function(r){E0()(function(){t(null,r)})},function(r){E0()(function(){t(r)})})}var $7=function(e,t,r,n,a,i){typeof a=="function"&&(i=a,a=void 0),a=a||"sha1";var f=L7[a.toLowerCase()];if(!f||typeof Ve.Promise!="function"){E0()(function(){var l;try{l=Fy(e,t,r,n,a)}catch(v){return i(v)}i(null,l)});return}if(F7(r,n),e=Ly(e,Uy,"Password"),t=Ly(t,Uy,"Salt"),typeof i!="function")throw new Error("No callback provided to pbkdf2");j7(q7(f).then(function(l){return l?G3(e,t,r,n,f):Fy(e,t,r,n,a)}),i)};hl.pbkdf2=$7;hl.pbkdf2Sync=K3;var Un={},bs={},an={};an.readUInt32BE=function(t,r){var n=t[0+r]<<24|t[1+r]<<16|t[2+r]<<8|t[3+r];return n>>>0};an.writeUInt32BE=function(t,r,n){t[0+n]=r>>>24,t[1+n]=r>>>16&255,t[2+n]=r>>>8&255,t[3+n]=r&255};an.ip=function(t,r,n,a){for(var i=0,f=0,l=6;l>=0;l-=2){for(var v=0;v<=24;v+=8)i<<=1,i|=r>>>v+l&1;for(var v=0;v<=24;v+=8)i<<=1,i|=t>>>v+l&1}for(var l=6;l>=0;l-=2){for(var v=1;v<=25;v+=8)f<<=1,f|=r>>>v+l&1;for(var v=1;v<=25;v+=8)f<<=1,f|=t>>>v+l&1}n[a+0]=i>>>0,n[a+1]=f>>>0};an.rip=function(t,r,n,a){for(var i=0,f=0,l=0;l<4;l++)for(var v=24;v>=0;v-=8)i<<=1,i|=r>>>v+l&1,i<<=1,i|=t>>>v+l&1;for(var l=4;l<8;l++)for(var v=24;v>=0;v-=8)f<<=1,f|=r>>>v+l&1,f<<=1,f|=t>>>v+l&1;n[a+0]=i>>>0,n[a+1]=f>>>0};an.pc1=function(t,r,n,a){for(var i=0,f=0,l=7;l>=5;l--){for(var v=0;v<=24;v+=8)i<<=1,i|=r>>v+l&1;for(var v=0;v<=24;v+=8)i<<=1,i|=t>>v+l&1}for(var v=0;v<=24;v+=8)i<<=1,i|=r>>v+l&1;for(var l=1;l<=3;l++){for(var v=0;v<=24;v+=8)f<<=1,f|=r>>v+l&1;for(var v=0;v<=24;v+=8)f<<=1,f|=t>>v+l&1}for(var v=0;v<=24;v+=8)f<<=1,f|=t>>v+l&1;n[a+0]=i>>>0,n[a+1]=f>>>0};an.r28shl=function(t,r){return t<<r&268435455|t>>>28-r};var Vu=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];an.pc2=function(t,r,n,a){for(var i=0,f=0,l=Vu.length>>>1,v=0;v<l;v++)i<<=1,i|=t>>>Vu[v]&1;for(var v=l;v<Vu.length;v++)f<<=1,f|=r>>>Vu[v]&1;n[a+0]=i>>>0,n[a+1]=f>>>0};an.expand=function(t,r,n){var a=0,i=0;a=(t&1)<<5|t>>>27;for(var f=23;f>=15;f-=4)a<<=6,a|=t>>>f&63;for(var f=11;f>=3;f-=4)i|=t>>>f&63,i<<=6;i|=(t&31)<<1|t>>>31,r[n+0]=a>>>0,r[n+1]=i>>>0};var qy=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];an.substitute=function(t,r){for(var n=0,a=0;a<4;a++){var i=t>>>18-a*6&63,f=qy[a*64+i];n<<=4,n|=f}for(var a=0;a<4;a++){var i=r>>>18-a*6&63,f=qy[4*64+a*64+i];n<<=4,n|=f}return n>>>0};var jy=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];an.permute=function(t){for(var r=0,n=0;n<jy.length;n++)r<<=1,r|=t>>>jy[n]&1;return r>>>0};an.padSplit=function(t,r,n){for(var a=t.toString(2);a.length<r;)a="0"+a;for(var i=[],f=0;f<r;f+=n)i.push(a.slice(f,f+n));return i.join(" ")};var Sn=W3;function W3(e,t){if(!e)throw new Error(t||"Assertion failed")}W3.equal=function(t,r,n){if(t!=r)throw new Error(n||"Assertion failed: "+t+" != "+r)};var V7=Sn;function Mn(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}var xp=Mn;Mn.prototype._init=function(){};Mn.prototype.update=function(t){return t.length===0?[]:this.type==="decrypt"?this._updateDecrypt(t):this._updateEncrypt(t)};Mn.prototype._buffer=function(t,r){for(var n=Math.min(this.buffer.length-this.bufferOff,t.length-r),a=0;a<n;a++)this.buffer[this.bufferOff+a]=t[r+a];return this.bufferOff+=n,n};Mn.prototype._flushBuffer=function(t,r){return this._update(this.buffer,0,t,r),this.bufferOff=0,this.blockSize};Mn.prototype._updateEncrypt=function(t){var r=0,n=0,a=(this.bufferOff+t.length)/this.blockSize|0,i=new Array(a*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(t,r),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(i,n)));for(var f=t.length-(t.length-r)%this.blockSize;r<f;r+=this.blockSize)this._update(t,r,i,n),n+=this.blockSize;for(;r<t.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=t[r];return i};Mn.prototype._updateDecrypt=function(t){for(var r=0,n=0,a=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,i=new Array(a*this.blockSize);a>0;a--)r+=this._buffer(t,r),n+=this._flushBuffer(i,n);return r+=this._buffer(t,r),i};Mn.prototype.final=function(t){var r;t&&(r=this.update(t));var n;return this.type==="encrypt"?n=this._finalEncrypt():n=this._finalDecrypt(),r?r.concat(n):n};Mn.prototype._pad=function(t,r){if(r===0)return!1;for(;r<t.length;)t[r++]=0;return!0};Mn.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t};Mn.prototype._unpad=function(t){return t};Mn.prototype._finalDecrypt=function(){V7.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)};var J3=Sn,z7=at.exports,fr=an,Z3=xp;function K7(){this.tmp=new Array(2),this.keys=null}function oi(e){Z3.call(this,e);var t=new K7;this._desState=t,this.deriveKeys(t,e.key)}z7(oi,Z3);var Y3=oi;oi.create=function(t){return new oi(t)};var H7=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];oi.prototype.deriveKeys=function(t,r){t.keys=new Array(16*2),J3.equal(r.length,this.blockSize,"Invalid key length");var n=fr.readUInt32BE(r,0),a=fr.readUInt32BE(r,4);fr.pc1(n,a,t.tmp,0),n=t.tmp[0],a=t.tmp[1];for(var i=0;i<t.keys.length;i+=2){var f=H7[i>>>1];n=fr.r28shl(n,f),a=fr.r28shl(a,f),fr.pc2(n,a,t.keys,i)}};oi.prototype._update=function(t,r,n,a){var i=this._desState,f=fr.readUInt32BE(t,r),l=fr.readUInt32BE(t,r+4);fr.ip(f,l,i.tmp,0),f=i.tmp[0],l=i.tmp[1],this.type==="encrypt"?this._encrypt(i,f,l,i.tmp,0):this._decrypt(i,f,l,i.tmp,0),f=i.tmp[0],l=i.tmp[1],fr.writeUInt32BE(n,f,a),fr.writeUInt32BE(n,l,a+4)};oi.prototype._pad=function(t,r){for(var n=t.length-r,a=r;a<t.length;a++)t[a]=n;return!0};oi.prototype._unpad=function(t){for(var r=t[t.length-1],n=t.length-r;n<t.length;n++)J3.equal(t[n],r);return t.slice(0,t.length-r)};oi.prototype._encrypt=function(t,r,n,a,i){for(var f=r,l=n,v=0;v<t.keys.length;v+=2){var h=t.keys[v],g=t.keys[v+1];fr.expand(l,t.tmp,0),h^=t.tmp[0],g^=t.tmp[1];var _=fr.substitute(h,g),M=fr.permute(_),E=l;l=(f^M)>>>0,f=E}fr.rip(l,f,a,i)};oi.prototype._decrypt=function(t,r,n,a,i){for(var f=n,l=r,v=t.keys.length-2;v>=0;v-=2){var h=t.keys[v],g=t.keys[v+1];fr.expand(f,t.tmp,0),h^=t.tmp[0],g^=t.tmp[1];var _=fr.substitute(h,g),M=fr.permute(_),E=f;f=(l^M)>>>0,l=E}fr.rip(f,l,a,i)};var X3={},G7=Sn,W7=at.exports,ec={};function J7(e){G7.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}function Z7(e){function t(i){e.call(this,i),this._cbcInit()}W7(t,e);for(var r=Object.keys(ec),n=0;n<r.length;n++){var a=r[n];t.prototype[a]=ec[a]}return t.create=function(f){return new t(f)},t}X3.instantiate=Z7;ec._cbcInit=function(){var t=new J7(this.options.iv);this._cbcState=t};ec._update=function(t,r,n,a){var i=this._cbcState,f=this.constructor.super_.prototype,l=i.iv;if(this.type==="encrypt"){for(var v=0;v<this.blockSize;v++)l[v]^=t[r+v];f._update.call(this,l,0,n,a);for(var v=0;v<this.blockSize;v++)l[v]=n[a+v]}else{f._update.call(this,t,r,n,a);for(var v=0;v<this.blockSize;v++)n[a+v]^=l[v];for(var v=0;v<this.blockSize;v++)l[v]=t[r+v]}};var Y7=Sn,X7=at.exports,Q3=xp,Wi=Y3;function Q7(e,t){Y7.equal(t.length,24,"Invalid key length");var r=t.slice(0,8),n=t.slice(8,16),a=t.slice(16,24);e==="encrypt"?this.ciphers=[Wi.create({type:"encrypt",key:r}),Wi.create({type:"decrypt",key:n}),Wi.create({type:"encrypt",key:a})]:this.ciphers=[Wi.create({type:"decrypt",key:a}),Wi.create({type:"encrypt",key:n}),Wi.create({type:"decrypt",key:r})]}function Ha(e){Q3.call(this,e);var t=new Q7(this.type,this.options.key);this._edeState=t}X7(Ha,Q3);var eI=Ha;Ha.create=function(t){return new Ha(t)};Ha.prototype._update=function(t,r,n,a){var i=this._edeState;i.ciphers[0]._update(t,r,n,a),i.ciphers[1]._update(n,a,n,a),i.ciphers[2]._update(n,a,n,a)};Ha.prototype._pad=Wi.prototype._pad;Ha.prototype._unpad=Wi.prototype._unpad;bs.utils=an;bs.Cipher=xp;bs.DES=Y3;bs.CBC=X3;bs.EDE=eI;var e_=la,mi=bs,tI=at.exports,Ma=ht.exports.Buffer,au={"des-ede3-cbc":mi.CBC.instantiate(mi.EDE),"des-ede3":mi.EDE,"des-ede-cbc":mi.CBC.instantiate(mi.EDE),"des-ede":mi.EDE,"des-cbc":mi.CBC.instantiate(mi.DES),"des-ecb":mi.DES};au.des=au["des-cbc"];au.des3=au["des-ede3-cbc"];var rI=dl;tI(dl,e_);function dl(e){e_.call(this);var t=e.mode.toLowerCase(),r=au[t],n;e.decrypt?n="decrypt":n="encrypt";var a=e.key;Ma.isBuffer(a)||(a=Ma.from(a)),(t==="des-ede"||t==="des-ede-cbc")&&(a=Ma.concat([a,a.slice(0,8)]));var i=e.iv;Ma.isBuffer(i)||(i=Ma.from(i)),this._des=r.create({key:a,iv:i,type:n})}dl.prototype._update=function(e){return Ma.from(this._des.update(e))};dl.prototype._final=function(){return Ma.from(this._des.final())};var tn={},Ep={},Ap={};Ap.encrypt=function(e,t){return e._cipher.encryptBlock(t)};Ap.decrypt=function(e,t){return e._cipher.decryptBlock(t)};var Ip={},Au=function(t,r){for(var n=Math.min(t.length,r.length),a=new Ue.Buffer(n),i=0;i<n;++i)a[i]=t[i]^r[i];return a},t_=Au;Ip.encrypt=function(e,t){var r=t_(t,e._prev);return e._prev=e._cipher.encryptBlock(r),e._prev};Ip.decrypt=function(e,t){var r=e._prev;e._prev=t;var n=e._cipher.decryptBlock(t);return t_(n,r)};var r_={},zs=ht.exports.Buffer,nI=Au;function $y(e,t,r){var n=t.length,a=nI(t,e._cache);return e._cache=e._cache.slice(n),e._prev=zs.concat([e._prev,r?t:a]),a}r_.encrypt=function(e,t,r){for(var n=zs.allocUnsafe(0),a;t.length;)if(e._cache.length===0&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=zs.allocUnsafe(0)),e._cache.length<=t.length)a=e._cache.length,n=zs.concat([n,$y(e,t.slice(0,a),r)]),t=t.slice(a);else{n=zs.concat([n,$y(e,t,r)]);break}return n};var n_={},A0=ht.exports.Buffer;function iI(e,t,r){var n=e._cipher.encryptBlock(e._prev),a=n[0]^t;return e._prev=A0.concat([e._prev.slice(1),A0.from([r?t:a])]),a}n_.encrypt=function(e,t,r){for(var n=t.length,a=A0.allocUnsafe(n),i=-1;++i<n;)a[i]=iI(e,t[i],r);return a};var i_={},xf=ht.exports.Buffer;function aI(e,t,r){for(var n,a=-1,i=8,f=0,l,v;++a<i;)n=e._cipher.encryptBlock(e._prev),l=t&1<<7-a?128:0,v=n[0]^l,f+=(v&128)>>a%8,e._prev=oI(e._prev,r?l:v);return f}function oI(e,t){var r=e.length,n=-1,a=xf.allocUnsafe(e.length);for(e=xf.concat([e,xf.from([t])]);++n<r;)a[n]=e[n]<<1|e[n+1]>>7;return a}i_.encrypt=function(e,t,r){for(var n=t.length,a=xf.allocUnsafe(n),i=-1;++i<n;)a[i]=aI(e,t[i],r);return a};var a_={},sI=Au;function uI(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}a_.encrypt=function(e,t){for(;e._cache.length<t.length;)e._cache=Ue.Buffer.concat([e._cache,uI(e)]);var r=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),sI(t,r)};var I0={};function fI(e){for(var t=e.length,r;t--;)if(r=e.readUInt8(t),r===255)e.writeUInt8(0,t);else{r++,e.writeUInt8(r,t);break}}var o_=fI,cI=Au,Vy=ht.exports.Buffer,lI=o_;function hI(e){var t=e._cipher.encryptBlockRaw(e._prev);return lI(e._prev),t}var Mh=16;I0.encrypt=function(e,t){var r=Math.ceil(t.length/Mh),n=e._cache.length;e._cache=Vy.concat([e._cache,Vy.allocUnsafe(r*Mh)]);for(var a=0;a<r;a++){var i=hI(e),f=n+a*Mh;e._cache.writeUInt32BE(i[0],f+0),e._cache.writeUInt32BE(i[1],f+4),e._cache.writeUInt32BE(i[2],f+8),e._cache.writeUInt32BE(i[3],f+12)}var l=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),cI(t,l)};const dI={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},vI={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},pI={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},s_={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:dI,aes192:vI,aes256:pI,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var mI={ECB:Ap,CBC:Ip,CFB:r_,CFB8:n_,CFB1:i_,OFB:a_,CTR:I0,GCM:I0},Ef=s_;for(var zy in Ef)Ef[zy].module=mI[Ef[zy].mode];var Tp=Ef,Iu={},tc=ht.exports.Buffer;function Cp(e){tc.isBuffer(e)||(e=tc.from(e));for(var t=e.length/4|0,r=new Array(t),n=0;n<t;n++)r[n]=e.readUInt32BE(n*4);return r}function xh(e){for(var t=0;t<e.length;e++)e[t]=0}function u_(e,t,r,n,a){for(var i=r[0],f=r[1],l=r[2],v=r[3],h=e[0]^t[0],g=e[1]^t[1],_=e[2]^t[2],M=e[3]^t[3],E,A,I,O,T=4,P=1;P<a;P++)E=i[h>>>24]^f[g>>>16&255]^l[_>>>8&255]^v[M&255]^t[T++],A=i[g>>>24]^f[_>>>16&255]^l[M>>>8&255]^v[h&255]^t[T++],I=i[_>>>24]^f[M>>>16&255]^l[h>>>8&255]^v[g&255]^t[T++],O=i[M>>>24]^f[h>>>16&255]^l[g>>>8&255]^v[_&255]^t[T++],h=E,g=A,_=I,M=O;return E=(n[h>>>24]<<24|n[g>>>16&255]<<16|n[_>>>8&255]<<8|n[M&255])^t[T++],A=(n[g>>>24]<<24|n[_>>>16&255]<<16|n[M>>>8&255]<<8|n[h&255])^t[T++],I=(n[_>>>24]<<24|n[M>>>16&255]<<16|n[h>>>8&255]<<8|n[g&255])^t[T++],O=(n[M>>>24]<<24|n[h>>>16&255]<<16|n[g>>>8&255]<<8|n[_&255])^t[T++],E=E>>>0,A=A>>>0,I=I>>>0,O=O>>>0,[E,A,I,O]}var yI=[0,1,2,4,8,16,32,64,128,27,54],ar=function(){for(var e=new Array(256),t=0;t<256;t++)t<128?e[t]=t<<1:e[t]=t<<1^283;for(var r=[],n=[],a=[[],[],[],[]],i=[[],[],[],[]],f=0,l=0,v=0;v<256;++v){var h=l^l<<1^l<<2^l<<3^l<<4;h=h>>>8^h&255^99,r[f]=h,n[h]=f;var g=e[f],_=e[g],M=e[_],E=e[h]*257^h*16843008;a[0][f]=E<<24|E>>>8,a[1][f]=E<<16|E>>>16,a[2][f]=E<<8|E>>>24,a[3][f]=E,E=M*16843009^_*65537^g*257^f*16843008,i[0][h]=E<<24|E>>>8,i[1][h]=E<<16|E>>>16,i[2][h]=E<<8|E>>>24,i[3][h]=E,f===0?f=l=1:(f=g^e[e[e[M^g]]],l^=e[e[l]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:a,INV_SUB_MIX:i}}();function bn(e){this._key=Cp(e),this._reset()}bn.blockSize=4*4;bn.keySize=256/8;bn.prototype.blockSize=bn.blockSize;bn.prototype.keySize=bn.keySize;bn.prototype._reset=function(){for(var e=this._key,t=e.length,r=t+6,n=(r+1)*4,a=[],i=0;i<t;i++)a[i]=e[i];for(i=t;i<n;i++){var f=a[i-1];i%t===0?(f=f<<8|f>>>24,f=ar.SBOX[f>>>24]<<24|ar.SBOX[f>>>16&255]<<16|ar.SBOX[f>>>8&255]<<8|ar.SBOX[f&255],f^=yI[i/t|0]<<24):t>6&&i%t===4&&(f=ar.SBOX[f>>>24]<<24|ar.SBOX[f>>>16&255]<<16|ar.SBOX[f>>>8&255]<<8|ar.SBOX[f&255]),a[i]=a[i-t]^f}for(var l=[],v=0;v<n;v++){var h=n-v,g=a[h-(v%4?0:4)];v<4||h<=4?l[v]=g:l[v]=ar.INV_SUB_MIX[0][ar.SBOX[g>>>24]]^ar.INV_SUB_MIX[1][ar.SBOX[g>>>16&255]]^ar.INV_SUB_MIX[2][ar.SBOX[g>>>8&255]]^ar.INV_SUB_MIX[3][ar.SBOX[g&255]]}this._nRounds=r,this._keySchedule=a,this._invKeySchedule=l};bn.prototype.encryptBlockRaw=function(e){return e=Cp(e),u_(e,this._keySchedule,ar.SUB_MIX,ar.SBOX,this._nRounds)};bn.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),r=tc.allocUnsafe(16);return r.writeUInt32BE(t[0],0),r.writeUInt32BE(t[1],4),r.writeUInt32BE(t[2],8),r.writeUInt32BE(t[3],12),r};bn.prototype.decryptBlock=function(e){e=Cp(e);var t=e[1];e[1]=e[3],e[3]=t;var r=u_(e,this._invKeySchedule,ar.INV_SUB_MIX,ar.INV_SBOX,this._nRounds),n=tc.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[3],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[1],12),n};bn.prototype.scrub=function(){xh(this._keySchedule),xh(this._invKeySchedule),xh(this._key)};Iu.AES=bn;var es=ht.exports.Buffer,gI=es.alloc(16,0);function bI(e){return[e.readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)]}function f_(e){var t=es.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function Tu(e){this.h=e,this.state=es.alloc(16,0),this.cache=es.allocUnsafe(0)}Tu.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()};Tu.prototype._multiply=function(){for(var e=bI(this.h),t=[0,0,0,0],r,n,a,i=-1;++i<128;){for(n=(this.state[~~(i/8)]&1<<7-i%8)!==0,n&&(t[0]^=e[0],t[1]^=e[1],t[2]^=e[2],t[3]^=e[3]),a=(e[3]&1)!==0,r=3;r>0;r--)e[r]=e[r]>>>1|(e[r-1]&1)<<31;e[0]=e[0]>>>1,a&&(e[0]=e[0]^225<<24)}this.state=f_(t)};Tu.prototype.update=function(e){this.cache=es.concat([this.cache,e]);for(var t;this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)};Tu.prototype.final=function(e,t){return this.cache.length&&this.ghash(es.concat([this.cache,gI],16)),this.ghash(f_([0,e,0,t])),this.state};var wI=Tu,_I=Iu,$r=ht.exports.Buffer,c_=la,SI=at.exports,l_=wI,MI=Au,xI=o_;function EI(e,t){var r=0;e.length!==t.length&&r++;for(var n=Math.min(e.length,t.length),a=0;a<n;++a)r+=e[a]^t[a];return r}function AI(e,t,r){if(t.length===12)return e._finID=$r.concat([t,$r.from([0,0,0,1])]),$r.concat([t,$r.from([0,0,0,2])]);var n=new l_(r),a=t.length,i=a%16;n.update(t),i&&(i=16-i,n.update($r.alloc(i,0))),n.update($r.alloc(8,0));var f=a*8,l=$r.alloc(8);l.writeUIntBE(f,0,8),n.update(l),e._finID=n.state;var v=$r.from(e._finID);return xI(v),v}function so(e,t,r,n){c_.call(this);var a=$r.alloc(4,0);this._cipher=new _I.AES(t);var i=this._cipher.encryptBlock(a);this._ghash=new l_(i),r=AI(this,r,i),this._prev=$r.from(r),this._cache=$r.allocUnsafe(0),this._secCache=$r.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}SI(so,c_);so.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=$r.alloc(t,0),this._ghash.update(t))}this._called=!0;var r=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(r),this._len+=e.length,r};so.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=MI(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&EI(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()};so.prototype.getAuthTag=function(){if(this._decrypt||!$r.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};so.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t};so.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length};var h_=so,II=Iu,Eh=ht.exports.Buffer,d_=la,TI=at.exports;function vl(e,t,r,n){d_.call(this),this._cipher=new II.AES(t),this._prev=Eh.from(r),this._cache=Eh.allocUnsafe(0),this._secCache=Eh.allocUnsafe(0),this._decrypt=n,this._mode=e}TI(vl,d_);vl.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)};vl.prototype._final=function(){this._cipher.scrub()};var v_=vl,pa=ht.exports.Buffer,CI=wp;function OI(e,t,r,n){if(pa.isBuffer(e)||(e=pa.from(e,"binary")),t&&(pa.isBuffer(t)||(t=pa.from(t,"binary")),t.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=r/8,i=pa.alloc(a),f=pa.alloc(n||0),l=pa.alloc(0);a>0||n>0;){var v=new CI;v.update(l),v.update(e),t&&v.update(t),l=v.digest();var h=0;if(a>0){var g=i.length-a;h=Math.min(a,l.length),l.copy(i,g,0,h),a-=h}if(h<l.length&&n>0){var _=f.length-n,M=Math.min(n,l.length-h);l.copy(f,_,h,h+M),n-=M}}return l.fill(0),{key:i,iv:f}}var pl=OI,p_=Tp,PI=h_,Bi=ht.exports.Buffer,kI=v_,m_=la,RI=Iu,NI=pl,DI=at.exports;function Cu(e,t,r){m_.call(this),this._cache=new ml,this._cipher=new RI.AES(t),this._prev=Bi.from(r),this._mode=e,this._autopadding=!0}DI(Cu,m_);Cu.prototype._update=function(e){this._cache.add(e);for(var t,r,n=[];t=this._cache.get();)r=this._mode.encrypt(this,t),n.push(r);return Bi.concat(n)};var BI=Bi.alloc(16,16);Cu.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(BI))throw this._cipher.scrub(),new Error("data not multiple of block length")};Cu.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this};function ml(){this.cache=Bi.allocUnsafe(0)}ml.prototype.add=function(e){this.cache=Bi.concat([this.cache,e])};ml.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null};ml.prototype.flush=function(){for(var e=16-this.cache.length,t=Bi.allocUnsafe(e),r=-1;++r<e;)t.writeUInt8(e,r);return Bi.concat([this.cache,t])};function y_(e,t,r){var n=p_[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof t=="string"&&(t=Bi.from(t)),t.length!==n.key/8)throw new TypeError("invalid key length "+t.length);if(typeof r=="string"&&(r=Bi.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);return n.type==="stream"?new kI(n.module,t,r):n.type==="auth"?new PI(n.module,t,r):new Cu(n.module,t,r)}function UI(e,t){var r=p_[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=NI(t,!1,r.key,r.iv);return y_(e,n.key,n.iv)}Ep.createCipheriv=y_;Ep.createCipher=UI;var Op={},FI=h_,ts=ht.exports.Buffer,g_=Tp,LI=v_,b_=la,qI=Iu,jI=pl,$I=at.exports;function Ou(e,t,r){b_.call(this),this._cache=new yl,this._last=void 0,this._cipher=new qI.AES(t),this._prev=ts.from(r),this._mode=e,this._autopadding=!0}$I(Ou,b_);Ou.prototype._update=function(e){this._cache.add(e);for(var t,r,n=[];t=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,t),n.push(r);return ts.concat(n)};Ou.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return VI(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")};Ou.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this};function yl(){this.cache=ts.allocUnsafe(0)}yl.prototype.add=function(e){this.cache=ts.concat([this.cache,e])};yl.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null};yl.prototype.flush=function(){if(this.cache.length)return this.cache};function VI(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");for(var r=-1;++r<t;)if(e[r+(16-t)]!==t)throw new Error("unable to decrypt data");if(t!==16)return e.slice(0,16-t)}function w_(e,t,r){var n=g_[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=ts.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);if(typeof t=="string"&&(t=ts.from(t)),t.length!==n.key/8)throw new TypeError("invalid key length "+t.length);return n.type==="stream"?new LI(n.module,t,r,!0):n.type==="auth"?new FI(n.module,t,r,!0):new Ou(n.module,t,r)}function zI(e,t){var r=g_[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=jI(t,!1,r.key,r.iv);return w_(e,n.key,n.iv)}Op.createDecipher=zI;Op.createDecipheriv=w_;var __=Ep,S_=Op,KI=s_;function HI(){return Object.keys(KI)}tn.createCipher=tn.Cipher=__.createCipher;tn.createCipheriv=tn.Cipheriv=__.createCipheriv;tn.createDecipher=tn.Decipher=S_.createDecipher;tn.createDecipheriv=tn.Decipheriv=S_.createDecipheriv;tn.listCiphers=tn.getCiphers=HI;var M_={};(function(e){e["des-ecb"]={key:8,iv:0},e["des-cbc"]=e.des={key:8,iv:8},e["des-ede3-cbc"]=e.des3={key:24,iv:8},e["des-ede3"]={key:24,iv:0},e["des-ede-cbc"]={key:16,iv:8},e["des-ede"]={key:16,iv:0}})(M_);var x_=rI,Pp=tn,ra=Tp,Oi=M_,E_=pl;function GI(e,t){e=e.toLowerCase();var r,n;if(ra[e])r=ra[e].key,n=ra[e].iv;else if(Oi[e])r=Oi[e].key*8,n=Oi[e].iv;else throw new TypeError("invalid suite type");var a=E_(t,!1,r,n);return A_(e,a.key,a.iv)}function WI(e,t){e=e.toLowerCase();var r,n;if(ra[e])r=ra[e].key,n=ra[e].iv;else if(Oi[e])r=Oi[e].key*8,n=Oi[e].iv;else throw new TypeError("invalid suite type");var a=E_(t,!1,r,n);return I_(e,a.key,a.iv)}function A_(e,t,r){if(e=e.toLowerCase(),ra[e])return Pp.createCipheriv(e,t,r);if(Oi[e])return new x_({key:t,iv:r,mode:e});throw new TypeError("invalid suite type")}function I_(e,t,r){if(e=e.toLowerCase(),ra[e])return Pp.createDecipheriv(e,t,r);if(Oi[e])return new x_({key:t,iv:r,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}function JI(){return Object.keys(Oi).concat(Pp.getCiphers())}Un.createCipher=Un.Cipher=GI;Un.createCipheriv=Un.Cipheriv=A_;Un.createDecipher=Un.Decipher=WI;Un.createDecipheriv=Un.Decipheriv=I_;Un.listCiphers=Un.getCiphers=JI;var ma={},kp={exports:{}};(function(e){(function(t,r){function n(b,o){if(!b)throw new Error(o||"Assertion failed")}function a(b,o){b.super_=o;var u=function(){};u.prototype=o.prototype,b.prototype=new u,b.prototype.constructor=b}function i(b,o,u){if(i.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((o==="le"||o==="be")&&(u=o,o=10),this._init(b||0,o||10,u||"be"))}typeof t=="object"?t.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var f;try{typeof window<"u"&&typeof window.Buffer<"u"?f=window.Buffer:f=Ue.Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,u){return o.cmp(u)>0?o:u},i.min=function(o,u){return o.cmp(u)<0?o:u},i.prototype._init=function(o,u,c){if(typeof o=="number")return this._initNumber(o,u,c);if(typeof o=="object")return this._initArray(o,u,c);u==="hex"&&(u=16),n(u===(u|0)&&u>=2&&u<=36),o=o.toString().replace(/\s+/g,"");var d=0;o[0]==="-"&&(d++,this.negative=1),d<o.length&&(u===16?this._parseHex(o,d,c):(this._parseBase(o,u,d),c==="le"&&this._initArray(this.toArray(),u,c)))},i.prototype._initNumber=function(o,u,c){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(n(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),u,c)},i.prototype._initArray=function(o,u,c){if(n(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var p,w,S=0;if(c==="be")for(d=o.length-1,p=0;d>=0;d-=3)w=o[d]|o[d-1]<<8|o[d-2]<<16,this.words[p]|=w<<S&67108863,this.words[p+1]=w>>>26-S&67108863,S+=24,S>=26&&(S-=26,p++);else if(c==="le")for(d=0,p=0;d<o.length;d+=3)w=o[d]|o[d+1]<<8|o[d+2]<<16,this.words[p]|=w<<S&67108863,this.words[p+1]=w>>>26-S&67108863,S+=24,S>=26&&(S-=26,p++);return this.strip()};function l(b,o){var u=b.charCodeAt(o);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function v(b,o,u){var c=l(b,u);return u-1>=o&&(c|=l(b,u-1)<<4),c}i.prototype._parseHex=function(o,u,c){this.length=Math.ceil((o.length-u)/6),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var p=0,w=0,S;if(c==="be")for(d=o.length-1;d>=u;d-=2)S=v(o,u,d)<<p,this.words[w]|=S&67108863,p>=18?(p-=18,w+=1,this.words[w]|=S>>>26):p+=8;else{var m=o.length-u;for(d=m%2===0?u+1:u;d<o.length;d+=2)S=v(o,u,d)<<p,this.words[w]|=S&67108863,p>=18?(p-=18,w+=1,this.words[w]|=S>>>26):p+=8}this.strip()};function h(b,o,u,c){for(var d=0,p=Math.min(b.length,u),w=o;w<p;w++){var S=b.charCodeAt(w)-48;d*=c,S>=49?d+=S-49+10:S>=17?d+=S-17+10:d+=S}return d}i.prototype._parseBase=function(o,u,c){this.words=[0],this.length=1;for(var d=0,p=1;p<=67108863;p*=u)d++;d--,p=p/u|0;for(var w=o.length-c,S=w%d,m=Math.min(w,w-S)+c,s=0,y=c;y<m;y+=d)s=h(o,y,y+d,u),this.imuln(p),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(S!==0){var x=1;for(s=h(o,y,o.length,u),y=0;y<S;y++)x*=u;this.imuln(x),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var u=0;u<this.length;u++)o.words[u]=this.words[u];o.length=this.length,o.negative=this.negative,o.red=this.red},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,u){o=o||10,u=u|0||1;var c;if(o===16||o==="hex"){c="";for(var d=0,p=0,w=0;w<this.length;w++){var S=this.words[w],m=((S<<d|p)&16777215).toString(16);p=S>>>24-d&16777215,p!==0||w!==this.length-1?c=g[6-m.length]+m+c:c=m+c,d+=2,d>=26&&(d-=26,w--)}for(p!==0&&(c=p.toString(16)+c);c.length%u!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(o===(o|0)&&o>=2&&o<=36){var s=_[o],y=M[o];c="";var x=this.clone();for(x.negative=0;!x.isZero();){var C=x.modn(y).toString(o);x=x.idivn(y),x.isZero()?c=C+c:c=g[s-C.length]+C+c}for(this.isZero()&&(c="0"+c);c.length%u!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(o,u){return n(typeof f<"u"),this.toArrayLike(f,o,u)},i.prototype.toArray=function(o,u){return this.toArrayLike(Array,o,u)},i.prototype.toArrayLike=function(o,u,c){var d=this.byteLength(),p=c||Math.max(1,d);n(d<=p,"byte array longer than desired length"),n(p>0,"Requested array length <= 0"),this.strip();var w=u==="le",S=new o(p),m,s,y=this.clone();if(w){for(s=0;!y.isZero();s++)m=y.andln(255),y.iushrn(8),S[s]=m;for(;s<p;s++)S[s]=0}else{for(s=0;s<p-d;s++)S[s]=0;for(s=0;!y.isZero();s++)m=y.andln(255),y.iushrn(8),S[p-s-1]=m}return S},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var u=o,c=0;return u>=4096&&(c+=13,u>>>=13),u>=64&&(c+=7,u>>>=7),u>=8&&(c+=4,u>>>=4),u>=2&&(c+=2,u>>>=2),c+u},i.prototype._zeroBits=function(o){if(o===0)return 26;var u=o,c=0;return(u&8191)===0&&(c+=13,u>>>=13),(u&127)===0&&(c+=7,u>>>=7),(u&15)===0&&(c+=4,u>>>=4),(u&3)===0&&(c+=2,u>>>=2),(u&1)===0&&c++,c},i.prototype.bitLength=function(){var o=this.words[this.length-1],u=this._countBits(o);return(this.length-1)*26+u};function E(b){for(var o=new Array(b.bitLength()),u=0;u<o.length;u++){var c=u/26|0,d=u%26;o[u]=(b.words[c]&1<<d)>>>d}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,u=0;u<this.length;u++){var c=this._zeroBits(this.words[u]);if(o+=c,c!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]|o.words[u];return this.strip()},i.prototype.ior=function(o){return n((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var u;this.length>o.length?u=o:u=this;for(var c=0;c<u.length;c++)this.words[c]=this.words[c]&o.words[c];return this.length=u.length,this.strip()},i.prototype.iand=function(o){return n((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var u,c;this.length>o.length?(u=this,c=o):(u=o,c=this);for(var d=0;d<c.length;d++)this.words[d]=u.words[d]^c.words[d];if(this!==u)for(;d<u.length;d++)this.words[d]=u.words[d];return this.length=u.length,this.strip()},i.prototype.ixor=function(o){return n((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){n(typeof o=="number"&&o>=0);var u=Math.ceil(o/26)|0,c=o%26;this._expand(u),c>0&&u--;for(var d=0;d<u;d++)this.words[d]=~this.words[d]&67108863;return c>0&&(this.words[d]=~this.words[d]&67108863>>26-c),this.strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,u){n(typeof o=="number"&&o>=0);var c=o/26|0,d=o%26;return this._expand(c+1),u?this.words[c]=this.words[c]|1<<d:this.words[c]=this.words[c]&~(1<<d),this.strip()},i.prototype.iadd=function(o){var u;if(this.negative!==0&&o.negative===0)return this.negative=0,u=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,u=this.isub(o),o.negative=1,u._normSign();var c,d;this.length>o.length?(c=this,d=o):(c=o,d=this);for(var p=0,w=0;w<d.length;w++)u=(c.words[w]|0)+(d.words[w]|0)+p,this.words[w]=u&67108863,p=u>>>26;for(;p!==0&&w<c.length;w++)u=(c.words[w]|0)+p,this.words[w]=u&67108863,p=u>>>26;if(this.length=c.length,p!==0)this.words[this.length]=p,this.length++;else if(c!==this)for(;w<c.length;w++)this.words[w]=c.words[w];return this},i.prototype.add=function(o){var u;return o.negative!==0&&this.negative===0?(o.negative=0,u=this.sub(o),o.negative^=1,u):o.negative===0&&this.negative!==0?(this.negative=0,u=o.sub(this),this.negative=1,u):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var u=this.iadd(o);return o.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var c=this.cmp(o);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var d,p;c>0?(d=this,p=o):(d=o,p=this);for(var w=0,S=0;S<p.length;S++)u=(d.words[S]|0)-(p.words[S]|0)+w,w=u>>26,this.words[S]=u&67108863;for(;w!==0&&S<d.length;S++)u=(d.words[S]|0)+w,w=u>>26,this.words[S]=u&67108863;if(w===0&&S<d.length&&d!==this)for(;S<d.length;S++)this.words[S]=d.words[S];return this.length=Math.max(this.length,S),d!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function A(b,o,u){u.negative=o.negative^b.negative;var c=b.length+o.length|0;u.length=c,c=c-1|0;var d=b.words[0]|0,p=o.words[0]|0,w=d*p,S=w&67108863,m=w/67108864|0;u.words[0]=S;for(var s=1;s<c;s++){for(var y=m>>>26,x=m&67108863,C=Math.min(s,o.length-1),N=Math.max(0,s-b.length+1);N<=C;N++){var j=s-N|0;d=b.words[j]|0,p=o.words[N]|0,w=d*p+x,y+=w/67108864|0,x=w&67108863}u.words[s]=x|0,m=y|0}return m!==0?u.words[s]=m|0:u.length--,u.strip()}var I=function(o,u,c){var d=o.words,p=u.words,w=c.words,S=0,m,s,y,x=d[0]|0,C=x&8191,N=x>>>13,j=d[1]|0,B=j&8191,L=j>>>13,Y=d[2]|0,G=Y&8191,Z=Y>>>13,K=d[3]|0,U=K&8191,W=K>>>13,Te=d[4]|0,ee=Te&8191,re=Te>>>13,De=d[5]|0,ie=De&8191,J=De>>>13,qe=d[6]|0,ae=qe&8191,be=qe>>>13,Ge=d[7]|0,H=Ge&8191,X=Ge>>>13,Q=d[8]|0,te=Q&8191,ce=Q>>>13,Ke=d[9]|0,he=Ke&8191,oe=Ke>>>13,We=p[0]|0,fe=We&8191,Ce=We>>>13,et=p[1]|0,le=et&8191,we=et>>>13,Ze=p[2]|0,me=Ze&8191,xe=Ze>>>13,tt=p[3]|0,ne=tt&8191,_e=tt>>>13,Je=p[4]|0,de=Je&8191,Ae=Je>>>13,st=p[5]|0,ve=st&8191,Ie=st>>>13,Qe=p[6]|0,ye=Qe&8191,Pe=Qe>>>13,rt=p[7]|0,ge=rt&8191,Oe=rt>>>13,ot=p[8]|0,Se=ot&8191,ke=ot>>>13,ft=p[9]|0,Me=ft&8191,Re=ft>>>13;c.negative=o.negative^u.negative,c.length=19,m=Math.imul(C,fe),s=Math.imul(C,Ce),s=s+Math.imul(N,fe)|0,y=Math.imul(N,Ce);var nt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(nt>>>26)|0,nt&=67108863,m=Math.imul(B,fe),s=Math.imul(B,Ce),s=s+Math.imul(L,fe)|0,y=Math.imul(L,Ce),m=m+Math.imul(C,le)|0,s=s+Math.imul(C,we)|0,s=s+Math.imul(N,le)|0,y=y+Math.imul(N,we)|0;var it=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(it>>>26)|0,it&=67108863,m=Math.imul(G,fe),s=Math.imul(G,Ce),s=s+Math.imul(Z,fe)|0,y=Math.imul(Z,Ce),m=m+Math.imul(B,le)|0,s=s+Math.imul(B,we)|0,s=s+Math.imul(L,le)|0,y=y+Math.imul(L,we)|0,m=m+Math.imul(C,me)|0,s=s+Math.imul(C,xe)|0,s=s+Math.imul(N,me)|0,y=y+Math.imul(N,xe)|0;var It=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(It>>>26)|0,It&=67108863,m=Math.imul(U,fe),s=Math.imul(U,Ce),s=s+Math.imul(W,fe)|0,y=Math.imul(W,Ce),m=m+Math.imul(G,le)|0,s=s+Math.imul(G,we)|0,s=s+Math.imul(Z,le)|0,y=y+Math.imul(Z,we)|0,m=m+Math.imul(B,me)|0,s=s+Math.imul(B,xe)|0,s=s+Math.imul(L,me)|0,y=y+Math.imul(L,xe)|0,m=m+Math.imul(C,ne)|0,s=s+Math.imul(C,_e)|0,s=s+Math.imul(N,ne)|0,y=y+Math.imul(N,_e)|0;var Tt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,m=Math.imul(ee,fe),s=Math.imul(ee,Ce),s=s+Math.imul(re,fe)|0,y=Math.imul(re,Ce),m=m+Math.imul(U,le)|0,s=s+Math.imul(U,we)|0,s=s+Math.imul(W,le)|0,y=y+Math.imul(W,we)|0,m=m+Math.imul(G,me)|0,s=s+Math.imul(G,xe)|0,s=s+Math.imul(Z,me)|0,y=y+Math.imul(Z,xe)|0,m=m+Math.imul(B,ne)|0,s=s+Math.imul(B,_e)|0,s=s+Math.imul(L,ne)|0,y=y+Math.imul(L,_e)|0,m=m+Math.imul(C,de)|0,s=s+Math.imul(C,Ae)|0,s=s+Math.imul(N,de)|0,y=y+Math.imul(N,Ae)|0;var Ct=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,m=Math.imul(ie,fe),s=Math.imul(ie,Ce),s=s+Math.imul(J,fe)|0,y=Math.imul(J,Ce),m=m+Math.imul(ee,le)|0,s=s+Math.imul(ee,we)|0,s=s+Math.imul(re,le)|0,y=y+Math.imul(re,we)|0,m=m+Math.imul(U,me)|0,s=s+Math.imul(U,xe)|0,s=s+Math.imul(W,me)|0,y=y+Math.imul(W,xe)|0,m=m+Math.imul(G,ne)|0,s=s+Math.imul(G,_e)|0,s=s+Math.imul(Z,ne)|0,y=y+Math.imul(Z,_e)|0,m=m+Math.imul(B,de)|0,s=s+Math.imul(B,Ae)|0,s=s+Math.imul(L,de)|0,y=y+Math.imul(L,Ae)|0,m=m+Math.imul(C,ve)|0,s=s+Math.imul(C,Ie)|0,s=s+Math.imul(N,ve)|0,y=y+Math.imul(N,Ie)|0;var Ot=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,m=Math.imul(ae,fe),s=Math.imul(ae,Ce),s=s+Math.imul(be,fe)|0,y=Math.imul(be,Ce),m=m+Math.imul(ie,le)|0,s=s+Math.imul(ie,we)|0,s=s+Math.imul(J,le)|0,y=y+Math.imul(J,we)|0,m=m+Math.imul(ee,me)|0,s=s+Math.imul(ee,xe)|0,s=s+Math.imul(re,me)|0,y=y+Math.imul(re,xe)|0,m=m+Math.imul(U,ne)|0,s=s+Math.imul(U,_e)|0,s=s+Math.imul(W,ne)|0,y=y+Math.imul(W,_e)|0,m=m+Math.imul(G,de)|0,s=s+Math.imul(G,Ae)|0,s=s+Math.imul(Z,de)|0,y=y+Math.imul(Z,Ae)|0,m=m+Math.imul(B,ve)|0,s=s+Math.imul(B,Ie)|0,s=s+Math.imul(L,ve)|0,y=y+Math.imul(L,Ie)|0,m=m+Math.imul(C,ye)|0,s=s+Math.imul(C,Pe)|0,s=s+Math.imul(N,ye)|0,y=y+Math.imul(N,Pe)|0;var Pt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,m=Math.imul(H,fe),s=Math.imul(H,Ce),s=s+Math.imul(X,fe)|0,y=Math.imul(X,Ce),m=m+Math.imul(ae,le)|0,s=s+Math.imul(ae,we)|0,s=s+Math.imul(be,le)|0,y=y+Math.imul(be,we)|0,m=m+Math.imul(ie,me)|0,s=s+Math.imul(ie,xe)|0,s=s+Math.imul(J,me)|0,y=y+Math.imul(J,xe)|0,m=m+Math.imul(ee,ne)|0,s=s+Math.imul(ee,_e)|0,s=s+Math.imul(re,ne)|0,y=y+Math.imul(re,_e)|0,m=m+Math.imul(U,de)|0,s=s+Math.imul(U,Ae)|0,s=s+Math.imul(W,de)|0,y=y+Math.imul(W,Ae)|0,m=m+Math.imul(G,ve)|0,s=s+Math.imul(G,Ie)|0,s=s+Math.imul(Z,ve)|0,y=y+Math.imul(Z,Ie)|0,m=m+Math.imul(B,ye)|0,s=s+Math.imul(B,Pe)|0,s=s+Math.imul(L,ye)|0,y=y+Math.imul(L,Pe)|0,m=m+Math.imul(C,ge)|0,s=s+Math.imul(C,Oe)|0,s=s+Math.imul(N,ge)|0,y=y+Math.imul(N,Oe)|0;var kt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(kt>>>26)|0,kt&=67108863,m=Math.imul(te,fe),s=Math.imul(te,Ce),s=s+Math.imul(ce,fe)|0,y=Math.imul(ce,Ce),m=m+Math.imul(H,le)|0,s=s+Math.imul(H,we)|0,s=s+Math.imul(X,le)|0,y=y+Math.imul(X,we)|0,m=m+Math.imul(ae,me)|0,s=s+Math.imul(ae,xe)|0,s=s+Math.imul(be,me)|0,y=y+Math.imul(be,xe)|0,m=m+Math.imul(ie,ne)|0,s=s+Math.imul(ie,_e)|0,s=s+Math.imul(J,ne)|0,y=y+Math.imul(J,_e)|0,m=m+Math.imul(ee,de)|0,s=s+Math.imul(ee,Ae)|0,s=s+Math.imul(re,de)|0,y=y+Math.imul(re,Ae)|0,m=m+Math.imul(U,ve)|0,s=s+Math.imul(U,Ie)|0,s=s+Math.imul(W,ve)|0,y=y+Math.imul(W,Ie)|0,m=m+Math.imul(G,ye)|0,s=s+Math.imul(G,Pe)|0,s=s+Math.imul(Z,ye)|0,y=y+Math.imul(Z,Pe)|0,m=m+Math.imul(B,ge)|0,s=s+Math.imul(B,Oe)|0,s=s+Math.imul(L,ge)|0,y=y+Math.imul(L,Oe)|0,m=m+Math.imul(C,Se)|0,s=s+Math.imul(C,ke)|0,s=s+Math.imul(N,Se)|0,y=y+Math.imul(N,ke)|0;var Rt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,m=Math.imul(he,fe),s=Math.imul(he,Ce),s=s+Math.imul(oe,fe)|0,y=Math.imul(oe,Ce),m=m+Math.imul(te,le)|0,s=s+Math.imul(te,we)|0,s=s+Math.imul(ce,le)|0,y=y+Math.imul(ce,we)|0,m=m+Math.imul(H,me)|0,s=s+Math.imul(H,xe)|0,s=s+Math.imul(X,me)|0,y=y+Math.imul(X,xe)|0,m=m+Math.imul(ae,ne)|0,s=s+Math.imul(ae,_e)|0,s=s+Math.imul(be,ne)|0,y=y+Math.imul(be,_e)|0,m=m+Math.imul(ie,de)|0,s=s+Math.imul(ie,Ae)|0,s=s+Math.imul(J,de)|0,y=y+Math.imul(J,Ae)|0,m=m+Math.imul(ee,ve)|0,s=s+Math.imul(ee,Ie)|0,s=s+Math.imul(re,ve)|0,y=y+Math.imul(re,Ie)|0,m=m+Math.imul(U,ye)|0,s=s+Math.imul(U,Pe)|0,s=s+Math.imul(W,ye)|0,y=y+Math.imul(W,Pe)|0,m=m+Math.imul(G,ge)|0,s=s+Math.imul(G,Oe)|0,s=s+Math.imul(Z,ge)|0,y=y+Math.imul(Z,Oe)|0,m=m+Math.imul(B,Se)|0,s=s+Math.imul(B,ke)|0,s=s+Math.imul(L,Se)|0,y=y+Math.imul(L,ke)|0,m=m+Math.imul(C,Me)|0,s=s+Math.imul(C,Re)|0,s=s+Math.imul(N,Me)|0,y=y+Math.imul(N,Re)|0;var Nt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,m=Math.imul(he,le),s=Math.imul(he,we),s=s+Math.imul(oe,le)|0,y=Math.imul(oe,we),m=m+Math.imul(te,me)|0,s=s+Math.imul(te,xe)|0,s=s+Math.imul(ce,me)|0,y=y+Math.imul(ce,xe)|0,m=m+Math.imul(H,ne)|0,s=s+Math.imul(H,_e)|0,s=s+Math.imul(X,ne)|0,y=y+Math.imul(X,_e)|0,m=m+Math.imul(ae,de)|0,s=s+Math.imul(ae,Ae)|0,s=s+Math.imul(be,de)|0,y=y+Math.imul(be,Ae)|0,m=m+Math.imul(ie,ve)|0,s=s+Math.imul(ie,Ie)|0,s=s+Math.imul(J,ve)|0,y=y+Math.imul(J,Ie)|0,m=m+Math.imul(ee,ye)|0,s=s+Math.imul(ee,Pe)|0,s=s+Math.imul(re,ye)|0,y=y+Math.imul(re,Pe)|0,m=m+Math.imul(U,ge)|0,s=s+Math.imul(U,Oe)|0,s=s+Math.imul(W,ge)|0,y=y+Math.imul(W,Oe)|0,m=m+Math.imul(G,Se)|0,s=s+Math.imul(G,ke)|0,s=s+Math.imul(Z,Se)|0,y=y+Math.imul(Z,ke)|0,m=m+Math.imul(B,Me)|0,s=s+Math.imul(B,Re)|0,s=s+Math.imul(L,Me)|0,y=y+Math.imul(L,Re)|0;var Dt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,m=Math.imul(he,me),s=Math.imul(he,xe),s=s+Math.imul(oe,me)|0,y=Math.imul(oe,xe),m=m+Math.imul(te,ne)|0,s=s+Math.imul(te,_e)|0,s=s+Math.imul(ce,ne)|0,y=y+Math.imul(ce,_e)|0,m=m+Math.imul(H,de)|0,s=s+Math.imul(H,Ae)|0,s=s+Math.imul(X,de)|0,y=y+Math.imul(X,Ae)|0,m=m+Math.imul(ae,ve)|0,s=s+Math.imul(ae,Ie)|0,s=s+Math.imul(be,ve)|0,y=y+Math.imul(be,Ie)|0,m=m+Math.imul(ie,ye)|0,s=s+Math.imul(ie,Pe)|0,s=s+Math.imul(J,ye)|0,y=y+Math.imul(J,Pe)|0,m=m+Math.imul(ee,ge)|0,s=s+Math.imul(ee,Oe)|0,s=s+Math.imul(re,ge)|0,y=y+Math.imul(re,Oe)|0,m=m+Math.imul(U,Se)|0,s=s+Math.imul(U,ke)|0,s=s+Math.imul(W,Se)|0,y=y+Math.imul(W,ke)|0,m=m+Math.imul(G,Me)|0,s=s+Math.imul(G,Re)|0,s=s+Math.imul(Z,Me)|0,y=y+Math.imul(Z,Re)|0;var Bt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,m=Math.imul(he,ne),s=Math.imul(he,_e),s=s+Math.imul(oe,ne)|0,y=Math.imul(oe,_e),m=m+Math.imul(te,de)|0,s=s+Math.imul(te,Ae)|0,s=s+Math.imul(ce,de)|0,y=y+Math.imul(ce,Ae)|0,m=m+Math.imul(H,ve)|0,s=s+Math.imul(H,Ie)|0,s=s+Math.imul(X,ve)|0,y=y+Math.imul(X,Ie)|0,m=m+Math.imul(ae,ye)|0,s=s+Math.imul(ae,Pe)|0,s=s+Math.imul(be,ye)|0,y=y+Math.imul(be,Pe)|0,m=m+Math.imul(ie,ge)|0,s=s+Math.imul(ie,Oe)|0,s=s+Math.imul(J,ge)|0,y=y+Math.imul(J,Oe)|0,m=m+Math.imul(ee,Se)|0,s=s+Math.imul(ee,ke)|0,s=s+Math.imul(re,Se)|0,y=y+Math.imul(re,ke)|0,m=m+Math.imul(U,Me)|0,s=s+Math.imul(U,Re)|0,s=s+Math.imul(W,Me)|0,y=y+Math.imul(W,Re)|0;var Ut=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,m=Math.imul(he,de),s=Math.imul(he,Ae),s=s+Math.imul(oe,de)|0,y=Math.imul(oe,Ae),m=m+Math.imul(te,ve)|0,s=s+Math.imul(te,Ie)|0,s=s+Math.imul(ce,ve)|0,y=y+Math.imul(ce,Ie)|0,m=m+Math.imul(H,ye)|0,s=s+Math.imul(H,Pe)|0,s=s+Math.imul(X,ye)|0,y=y+Math.imul(X,Pe)|0,m=m+Math.imul(ae,ge)|0,s=s+Math.imul(ae,Oe)|0,s=s+Math.imul(be,ge)|0,y=y+Math.imul(be,Oe)|0,m=m+Math.imul(ie,Se)|0,s=s+Math.imul(ie,ke)|0,s=s+Math.imul(J,Se)|0,y=y+Math.imul(J,ke)|0,m=m+Math.imul(ee,Me)|0,s=s+Math.imul(ee,Re)|0,s=s+Math.imul(re,Me)|0,y=y+Math.imul(re,Re)|0;var Ft=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,m=Math.imul(he,ve),s=Math.imul(he,Ie),s=s+Math.imul(oe,ve)|0,y=Math.imul(oe,Ie),m=m+Math.imul(te,ye)|0,s=s+Math.imul(te,Pe)|0,s=s+Math.imul(ce,ye)|0,y=y+Math.imul(ce,Pe)|0,m=m+Math.imul(H,ge)|0,s=s+Math.imul(H,Oe)|0,s=s+Math.imul(X,ge)|0,y=y+Math.imul(X,Oe)|0,m=m+Math.imul(ae,Se)|0,s=s+Math.imul(ae,ke)|0,s=s+Math.imul(be,Se)|0,y=y+Math.imul(be,ke)|0,m=m+Math.imul(ie,Me)|0,s=s+Math.imul(ie,Re)|0,s=s+Math.imul(J,Me)|0,y=y+Math.imul(J,Re)|0;var Lt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,m=Math.imul(he,ye),s=Math.imul(he,Pe),s=s+Math.imul(oe,ye)|0,y=Math.imul(oe,Pe),m=m+Math.imul(te,ge)|0,s=s+Math.imul(te,Oe)|0,s=s+Math.imul(ce,ge)|0,y=y+Math.imul(ce,Oe)|0,m=m+Math.imul(H,Se)|0,s=s+Math.imul(H,ke)|0,s=s+Math.imul(X,Se)|0,y=y+Math.imul(X,ke)|0,m=m+Math.imul(ae,Me)|0,s=s+Math.imul(ae,Re)|0,s=s+Math.imul(be,Me)|0,y=y+Math.imul(be,Re)|0;var qt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(qt>>>26)|0,qt&=67108863,m=Math.imul(he,ge),s=Math.imul(he,Oe),s=s+Math.imul(oe,ge)|0,y=Math.imul(oe,Oe),m=m+Math.imul(te,Se)|0,s=s+Math.imul(te,ke)|0,s=s+Math.imul(ce,Se)|0,y=y+Math.imul(ce,ke)|0,m=m+Math.imul(H,Me)|0,s=s+Math.imul(H,Re)|0,s=s+Math.imul(X,Me)|0,y=y+Math.imul(X,Re)|0;var jt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(jt>>>26)|0,jt&=67108863,m=Math.imul(he,Se),s=Math.imul(he,ke),s=s+Math.imul(oe,Se)|0,y=Math.imul(oe,ke),m=m+Math.imul(te,Me)|0,s=s+Math.imul(te,Re)|0,s=s+Math.imul(ce,Me)|0,y=y+Math.imul(ce,Re)|0;var $t=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+($t>>>26)|0,$t&=67108863,m=Math.imul(he,Me),s=Math.imul(he,Re),s=s+Math.imul(oe,Me)|0,y=Math.imul(oe,Re);var Vt=(S+m|0)+((s&8191)<<13)|0;return S=(y+(s>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,w[0]=nt,w[1]=it,w[2]=It,w[3]=Tt,w[4]=Ct,w[5]=Ot,w[6]=Pt,w[7]=kt,w[8]=Rt,w[9]=Nt,w[10]=Dt,w[11]=Bt,w[12]=Ut,w[13]=Ft,w[14]=Lt,w[15]=qt,w[16]=jt,w[17]=$t,w[18]=Vt,S!==0&&(w[19]=S,c.length++),c};Math.imul||(I=A);function O(b,o,u){u.negative=o.negative^b.negative,u.length=b.length+o.length;for(var c=0,d=0,p=0;p<u.length-1;p++){var w=d;d=0;for(var S=c&67108863,m=Math.min(p,o.length-1),s=Math.max(0,p-b.length+1);s<=m;s++){var y=p-s,x=b.words[y]|0,C=o.words[s]|0,N=x*C,j=N&67108863;w=w+(N/67108864|0)|0,j=j+S|0,S=j&67108863,w=w+(j>>>26)|0,d+=w>>>26,w&=67108863}u.words[p]=S,c=w,w=d}return c!==0?u.words[p]=c:u.length--,u.strip()}function T(b,o,u){var c=new P;return c.mulp(b,o,u)}i.prototype.mulTo=function(o,u){var c,d=this.length+o.length;return this.length===10&&o.length===10?c=I(this,o,u):d<63?c=A(this,o,u):d<1024?c=O(this,o,u):c=T(this,o,u),c};function P(b,o){this.x=b,this.y=o}P.prototype.makeRBT=function(o){for(var u=new Array(o),c=i.prototype._countBits(o)-1,d=0;d<o;d++)u[d]=this.revBin(d,c,o);return u},P.prototype.revBin=function(o,u,c){if(o===0||o===c-1)return o;for(var d=0,p=0;p<u;p++)d|=(o&1)<<u-p-1,o>>=1;return d},P.prototype.permute=function(o,u,c,d,p,w){for(var S=0;S<w;S++)d[S]=u[o[S]],p[S]=c[o[S]]},P.prototype.transform=function(o,u,c,d,p,w){this.permute(w,o,u,c,d,p);for(var S=1;S<p;S<<=1)for(var m=S<<1,s=Math.cos(2*Math.PI/m),y=Math.sin(2*Math.PI/m),x=0;x<p;x+=m)for(var C=s,N=y,j=0;j<S;j++){var B=c[x+j],L=d[x+j],Y=c[x+j+S],G=d[x+j+S],Z=C*Y-N*G;G=C*G+N*Y,Y=Z,c[x+j]=B+Y,d[x+j]=L+G,c[x+j+S]=B-Y,d[x+j+S]=L-G,j!==m&&(Z=s*C-y*N,N=s*N+y*C,C=Z)}},P.prototype.guessLen13b=function(o,u){var c=Math.max(u,o)|1,d=c&1,p=0;for(c=c/2|0;c;c=c>>>1)p++;return 1<<p+1+d},P.prototype.conjugate=function(o,u,c){if(!(c<=1))for(var d=0;d<c/2;d++){var p=o[d];o[d]=o[c-d-1],o[c-d-1]=p,p=u[d],u[d]=-u[c-d-1],u[c-d-1]=-p}},P.prototype.normalize13b=function(o,u){for(var c=0,d=0;d<u/2;d++){var p=Math.round(o[2*d+1]/u)*8192+Math.round(o[2*d]/u)+c;o[d]=p&67108863,p<67108864?c=0:c=p/67108864|0}return o},P.prototype.convert13b=function(o,u,c,d){for(var p=0,w=0;w<u;w++)p=p+(o[w]|0),c[2*w]=p&8191,p=p>>>13,c[2*w+1]=p&8191,p=p>>>13;for(w=2*u;w<d;++w)c[w]=0;n(p===0),n((p&-8192)===0)},P.prototype.stub=function(o){for(var u=new Array(o),c=0;c<o;c++)u[c]=0;return u},P.prototype.mulp=function(o,u,c){var d=2*this.guessLen13b(o.length,u.length),p=this.makeRBT(d),w=this.stub(d),S=new Array(d),m=new Array(d),s=new Array(d),y=new Array(d),x=new Array(d),C=new Array(d),N=c.words;N.length=d,this.convert13b(o.words,o.length,S,d),this.convert13b(u.words,u.length,y,d),this.transform(S,w,m,s,d,p),this.transform(y,w,x,C,d,p);for(var j=0;j<d;j++){var B=m[j]*x[j]-s[j]*C[j];s[j]=m[j]*C[j]+s[j]*x[j],m[j]=B}return this.conjugate(m,s,d),this.transform(m,s,N,w,d,p),this.conjugate(N,w,d),this.normalize13b(N,d),c.negative=o.negative^u.negative,c.length=o.length+u.length,c.strip()},i.prototype.mul=function(o){var u=new i(null);return u.words=new Array(this.length+o.length),this.mulTo(o,u)},i.prototype.mulf=function(o){var u=new i(null);return u.words=new Array(this.length+o.length),T(this,o,u)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){n(typeof o=="number"),n(o<67108864);for(var u=0,c=0;c<this.length;c++){var d=(this.words[c]|0)*o,p=(d&67108863)+(u&67108863);u>>=26,u+=d/67108864|0,u+=p>>>26,this.words[c]=p&67108863}return u!==0&&(this.words[c]=u,this.length++),this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var u=E(o);if(u.length===0)return new i(1);for(var c=this,d=0;d<u.length&&u[d]===0;d++,c=c.sqr());if(++d<u.length)for(var p=c.sqr();d<u.length;d++,p=p.sqr())u[d]!==0&&(c=c.mul(p));return c},i.prototype.iushln=function(o){n(typeof o=="number"&&o>=0);var u=o%26,c=(o-u)/26,d=67108863>>>26-u<<26-u,p;if(u!==0){var w=0;for(p=0;p<this.length;p++){var S=this.words[p]&d,m=(this.words[p]|0)-S<<u;this.words[p]=m|w,w=S>>>26-u}w&&(this.words[p]=w,this.length++)}if(c!==0){for(p=this.length-1;p>=0;p--)this.words[p+c]=this.words[p];for(p=0;p<c;p++)this.words[p]=0;this.length+=c}return this.strip()},i.prototype.ishln=function(o){return n(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,u,c){n(typeof o=="number"&&o>=0);var d;u?d=(u-u%26)/26:d=0;var p=o%26,w=Math.min((o-p)/26,this.length),S=67108863^67108863>>>p<<p,m=c;if(d-=w,d=Math.max(0,d),m){for(var s=0;s<w;s++)m.words[s]=this.words[s];m.length=w}if(w!==0)if(this.length>w)for(this.length-=w,s=0;s<this.length;s++)this.words[s]=this.words[s+w];else this.words[0]=0,this.length=1;var y=0;for(s=this.length-1;s>=0&&(y!==0||s>=d);s--){var x=this.words[s]|0;this.words[s]=y<<26-p|x>>>p,y=x&S}return m&&y!==0&&(m.words[m.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(o,u,c){return n(this.negative===0),this.iushrn(o,u,c)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){n(typeof o=="number"&&o>=0);var u=o%26,c=(o-u)/26,d=1<<u;if(this.length<=c)return!1;var p=this.words[c];return!!(p&d)},i.prototype.imaskn=function(o){n(typeof o=="number"&&o>=0);var u=o%26,c=(o-u)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(u!==0&&c++,this.length=Math.min(c,this.length),u!==0){var d=67108863^67108863>>>u<<u;this.words[this.length-1]&=d}return this.strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return n(typeof o=="number"),n(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(o){if(n(typeof o=="number"),n(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,u,c){var d=o.length+c,p;this._expand(d);var w,S=0;for(p=0;p<o.length;p++){w=(this.words[p+c]|0)+S;var m=(o.words[p]|0)*u;w-=m&67108863,S=(w>>26)-(m/67108864|0),this.words[p+c]=w&67108863}for(;p<this.length-c;p++)w=(this.words[p+c]|0)+S,S=w>>26,this.words[p+c]=w&67108863;if(S===0)return this.strip();for(n(S===-1),S=0,p=0;p<this.length;p++)w=-(this.words[p]|0)+S,S=w>>26,this.words[p]=w&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(o,u){var c=this.length-o.length,d=this.clone(),p=o,w=p.words[p.length-1]|0,S=this._countBits(w);c=26-S,c!==0&&(p=p.ushln(c),d.iushln(c),w=p.words[p.length-1]|0);var m=d.length-p.length,s;if(u!=="mod"){s=new i(null),s.length=m+1,s.words=new Array(s.length);for(var y=0;y<s.length;y++)s.words[y]=0}var x=d.clone()._ishlnsubmul(p,1,m);x.negative===0&&(d=x,s&&(s.words[m]=1));for(var C=m-1;C>=0;C--){var N=(d.words[p.length+C]|0)*67108864+(d.words[p.length+C-1]|0);for(N=Math.min(N/w|0,67108863),d._ishlnsubmul(p,N,C);d.negative!==0;)N--,d.negative=0,d._ishlnsubmul(p,1,C),d.isZero()||(d.negative^=1);s&&(s.words[C]=N)}return s&&s.strip(),d.strip(),u!=="div"&&c!==0&&d.iushrn(c),{div:s||null,mod:d}},i.prototype.divmod=function(o,u,c){if(n(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var d,p,w;return this.negative!==0&&o.negative===0?(w=this.neg().divmod(o,u),u!=="mod"&&(d=w.div.neg()),u!=="div"&&(p=w.mod.neg(),c&&p.negative!==0&&p.iadd(o)),{div:d,mod:p}):this.negative===0&&o.negative!==0?(w=this.divmod(o.neg(),u),u!=="mod"&&(d=w.div.neg()),{div:d,mod:w.mod}):(this.negative&o.negative)!==0?(w=this.neg().divmod(o.neg(),u),u!=="div"&&(p=w.mod.neg(),c&&p.negative!==0&&p.isub(o)),{div:w.div,mod:p}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?u==="div"?{div:this.divn(o.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modn(o.words[0]))}:this._wordDiv(o,u)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var u=this.divmod(o);if(u.mod.isZero())return u.div;var c=u.div.negative!==0?u.mod.isub(o):u.mod,d=o.ushrn(1),p=o.andln(1),w=c.cmp(d);return w<0||p===1&&w===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modn=function(o){n(o<=67108863);for(var u=(1<<26)%o,c=0,d=this.length-1;d>=0;d--)c=(u*c+(this.words[d]|0))%o;return c},i.prototype.idivn=function(o){n(o<=67108863);for(var u=0,c=this.length-1;c>=0;c--){var d=(this.words[c]|0)+u*67108864;this.words[c]=d/o|0,u=d%o}return this.strip()},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){n(o.negative===0),n(!o.isZero());var u=this,c=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var d=new i(1),p=new i(0),w=new i(0),S=new i(1),m=0;u.isEven()&&c.isEven();)u.iushrn(1),c.iushrn(1),++m;for(var s=c.clone(),y=u.clone();!u.isZero();){for(var x=0,C=1;(u.words[0]&C)===0&&x<26;++x,C<<=1);if(x>0)for(u.iushrn(x);x-- >0;)(d.isOdd()||p.isOdd())&&(d.iadd(s),p.isub(y)),d.iushrn(1),p.iushrn(1);for(var N=0,j=1;(c.words[0]&j)===0&&N<26;++N,j<<=1);if(N>0)for(c.iushrn(N);N-- >0;)(w.isOdd()||S.isOdd())&&(w.iadd(s),S.isub(y)),w.iushrn(1),S.iushrn(1);u.cmp(c)>=0?(u.isub(c),d.isub(w),p.isub(S)):(c.isub(u),w.isub(d),S.isub(p))}return{a:w,b:S,gcd:c.iushln(m)}},i.prototype._invmp=function(o){n(o.negative===0),n(!o.isZero());var u=this,c=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var d=new i(1),p=new i(0),w=c.clone();u.cmpn(1)>0&&c.cmpn(1)>0;){for(var S=0,m=1;(u.words[0]&m)===0&&S<26;++S,m<<=1);if(S>0)for(u.iushrn(S);S-- >0;)d.isOdd()&&d.iadd(w),d.iushrn(1);for(var s=0,y=1;(c.words[0]&y)===0&&s<26;++s,y<<=1);if(s>0)for(c.iushrn(s);s-- >0;)p.isOdd()&&p.iadd(w),p.iushrn(1);u.cmp(c)>=0?(u.isub(c),d.isub(p)):(c.isub(u),p.isub(d))}var x;return u.cmpn(1)===0?x=d:x=p,x.cmpn(0)<0&&x.iadd(o),x},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var u=this.clone(),c=o.clone();u.negative=0,c.negative=0;for(var d=0;u.isEven()&&c.isEven();d++)u.iushrn(1),c.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;c.isEven();)c.iushrn(1);var p=u.cmp(c);if(p<0){var w=u;u=c,c=w}else if(p===0||c.cmpn(1)===0)break;u.isub(c)}while(!0);return c.iushln(d)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){n(typeof o=="number");var u=o%26,c=(o-u)/26,d=1<<u;if(this.length<=c)return this._expand(c+1),this.words[c]|=d,this;for(var p=d,w=c;p!==0&&w<this.length;w++){var S=this.words[w]|0;S+=p,p=S>>>26,S&=67108863,this.words[w]=S}return p!==0&&(this.words[w]=p,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var u=o<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var c;if(this.length>1)c=1;else{u&&(o=-o),n(o<=67108863,"Number is too big");var d=this.words[0]|0;c=d===o?0:d<o?-1:1}return this.negative!==0?-c|0:c},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var u=this.ucmp(o);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var u=0,c=this.length-1;c>=0;c--){var d=this.words[c]|0,p=o.words[c]|0;if(d!==p){d<p?u=-1:d>p&&(u=1);break}}return u},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new F(o)},i.prototype.toRed=function(o){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return n(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return n(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var k={k256:null,p224:null,p192:null,p25519:null};function R(b,o){this.name=b,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}R.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},R.prototype.ireduce=function(o){var u=o,c;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),c=u.bitLength();while(c>this.n);var d=c<this.n?-1:u.ucmp(this.p);return d===0?(u.words[0]=0,u.length=1):d>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},R.prototype.split=function(o,u){o.iushrn(this.n,0,u)},R.prototype.imulK=function(o){return o.imul(this.k)};function D(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(D,R),D.prototype.split=function(o,u){for(var c=4194303,d=Math.min(o.length,9),p=0;p<d;p++)u.words[p]=o.words[p];if(u.length=d,o.length<=9){o.words[0]=0,o.length=1;return}var w=o.words[9];for(u.words[u.length++]=w&c,p=10;p<o.length;p++){var S=o.words[p]|0;o.words[p-10]=(S&c)<<4|w>>>22,w=S}w>>>=22,o.words[p-10]=w,w===0&&o.length>10?o.length-=10:o.length-=9},D.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var u=0,c=0;c<o.length;c++){var d=o.words[c]|0;u+=d*977,o.words[c]=u&67108863,u=d*64+(u/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function V(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(V,R);function q(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(q,R);function $(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a($,R),$.prototype.imulK=function(o){for(var u=0,c=0;c<o.length;c++){var d=(o.words[c]|0)*19+u,p=d&67108863;d>>>=26,o.words[c]=p,u=d}return u!==0&&(o.words[o.length++]=u),o},i._prime=function(o){if(k[o])return k[o];var u;if(o==="k256")u=new D;else if(o==="p224")u=new V;else if(o==="p192")u=new q;else if(o==="p25519")u=new $;else throw new Error("Unknown prime "+o);return k[o]=u,u};function F(b){if(typeof b=="string"){var o=i._prime(b);this.m=o.p,this.prime=o}else n(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}F.prototype._verify1=function(o){n(o.negative===0,"red works only with positives"),n(o.red,"red works only with red numbers")},F.prototype._verify2=function(o,u){n((o.negative|u.negative)===0,"red works only with positives"),n(o.red&&o.red===u.red,"red works only with red numbers")},F.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},F.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},F.prototype.add=function(o,u){this._verify2(o,u);var c=o.add(u);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},F.prototype.iadd=function(o,u){this._verify2(o,u);var c=o.iadd(u);return c.cmp(this.m)>=0&&c.isub(this.m),c},F.prototype.sub=function(o,u){this._verify2(o,u);var c=o.sub(u);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},F.prototype.isub=function(o,u){this._verify2(o,u);var c=o.isub(u);return c.cmpn(0)<0&&c.iadd(this.m),c},F.prototype.shl=function(o,u){return this._verify1(o),this.imod(o.ushln(u))},F.prototype.imul=function(o,u){return this._verify2(o,u),this.imod(o.imul(u))},F.prototype.mul=function(o,u){return this._verify2(o,u),this.imod(o.mul(u))},F.prototype.isqr=function(o){return this.imul(o,o.clone())},F.prototype.sqr=function(o){return this.mul(o,o)},F.prototype.sqrt=function(o){if(o.isZero())return o.clone();var u=this.m.andln(3);if(n(u%2===1),u===3){var c=this.m.add(new i(1)).iushrn(2);return this.pow(o,c)}for(var d=this.m.subn(1),p=0;!d.isZero()&&d.andln(1)===0;)p++,d.iushrn(1);n(!d.isZero());var w=new i(1).toRed(this),S=w.redNeg(),m=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new i(2*s*s).toRed(this);this.pow(s,m).cmp(S)!==0;)s.redIAdd(S);for(var y=this.pow(s,d),x=this.pow(o,d.addn(1).iushrn(1)),C=this.pow(o,d),N=p;C.cmp(w)!==0;){for(var j=C,B=0;j.cmp(w)!==0;B++)j=j.redSqr();n(B<N);var L=this.pow(y,new i(1).iushln(N-B-1));x=x.redMul(L),y=L.redSqr(),C=C.redMul(y),N=B}return x},F.prototype.invm=function(o){var u=o._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},F.prototype.pow=function(o,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return o.clone();var c=4,d=new Array(1<<c);d[0]=new i(1).toRed(this),d[1]=o;for(var p=2;p<d.length;p++)d[p]=this.mul(d[p-1],o);var w=d[0],S=0,m=0,s=u.bitLength()%26;for(s===0&&(s=26),p=u.length-1;p>=0;p--){for(var y=u.words[p],x=s-1;x>=0;x--){var C=y>>x&1;if(w!==d[0]&&(w=this.sqr(w)),C===0&&S===0){m=0;continue}S<<=1,S|=C,m++,!(m!==c&&(p!==0||x!==0))&&(w=this.mul(w,d[S]),m=0,S=0)}s=26}return w},F.prototype.convertTo=function(o){var u=o.umod(this.m);return u===o?u.clone():u},F.prototype.convertFrom=function(o){var u=o.clone();return u.red=null,u},i.mont=function(o){return new z(o)};function z(b){F.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(z,F),z.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},z.prototype.convertFrom=function(o){var u=this.imod(o.mul(this.rinv));return u.red=null,u},z.prototype.imul=function(o,u){if(o.isZero()||u.isZero())return o.words[0]=0,o.length=1,o;var c=o.imul(u),d=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=c.isub(d).iushrn(this.shift),w=p;return p.cmp(this.m)>=0?w=p.isub(this.m):p.cmpn(0)<0&&(w=p.iadd(this.m)),w._forceRed(this)},z.prototype.mul=function(o,u){if(o.isZero()||u.isZero())return new i(0)._forceRed(this);var c=o.mul(u),d=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=c.isub(d).iushrn(this.shift),w=p;return p.cmp(this.m)>=0?w=p.isub(this.m):p.cmpn(0)<0&&(w=p.iadd(this.m)),w._forceRed(this)},z.prototype.invm=function(o){var u=this.imod(o._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(e,Ve)})(kp);var T_={exports:{}};(function(e){(function(t,r){function n(b,o){if(!b)throw new Error(o||"Assertion failed")}function a(b,o){b.super_=o;var u=function(){};u.prototype=o.prototype,b.prototype=new u,b.prototype.constructor=b}function i(b,o,u){if(i.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((o==="le"||o==="be")&&(u=o,o=10),this._init(b||0,o||10,u||"be"))}typeof t=="object"?t.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var f;try{typeof window<"u"&&typeof window.Buffer<"u"?f=window.Buffer:f=Ue.Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,u){return o.cmp(u)>0?o:u},i.min=function(o,u){return o.cmp(u)<0?o:u},i.prototype._init=function(o,u,c){if(typeof o=="number")return this._initNumber(o,u,c);if(typeof o=="object")return this._initArray(o,u,c);u==="hex"&&(u=16),n(u===(u|0)&&u>=2&&u<=36),o=o.toString().replace(/\s+/g,"");var d=0;o[0]==="-"&&(d++,this.negative=1),d<o.length&&(u===16?this._parseHex(o,d,c):(this._parseBase(o,u,d),c==="le"&&this._initArray(this.toArray(),u,c)))},i.prototype._initNumber=function(o,u,c){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(n(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),u,c)},i.prototype._initArray=function(o,u,c){if(n(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var p,w,S=0;if(c==="be")for(d=o.length-1,p=0;d>=0;d-=3)w=o[d]|o[d-1]<<8|o[d-2]<<16,this.words[p]|=w<<S&67108863,this.words[p+1]=w>>>26-S&67108863,S+=24,S>=26&&(S-=26,p++);else if(c==="le")for(d=0,p=0;d<o.length;d+=3)w=o[d]|o[d+1]<<8|o[d+2]<<16,this.words[p]|=w<<S&67108863,this.words[p+1]=w>>>26-S&67108863,S+=24,S>=26&&(S-=26,p++);return this.strip()};function l(b,o){var u=b.charCodeAt(o);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function v(b,o,u){var c=l(b,u);return u-1>=o&&(c|=l(b,u-1)<<4),c}i.prototype._parseHex=function(o,u,c){this.length=Math.ceil((o.length-u)/6),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var p=0,w=0,S;if(c==="be")for(d=o.length-1;d>=u;d-=2)S=v(o,u,d)<<p,this.words[w]|=S&67108863,p>=18?(p-=18,w+=1,this.words[w]|=S>>>26):p+=8;else{var m=o.length-u;for(d=m%2===0?u+1:u;d<o.length;d+=2)S=v(o,u,d)<<p,this.words[w]|=S&67108863,p>=18?(p-=18,w+=1,this.words[w]|=S>>>26):p+=8}this.strip()};function h(b,o,u,c){for(var d=0,p=Math.min(b.length,u),w=o;w<p;w++){var S=b.charCodeAt(w)-48;d*=c,S>=49?d+=S-49+10:S>=17?d+=S-17+10:d+=S}return d}i.prototype._parseBase=function(o,u,c){this.words=[0],this.length=1;for(var d=0,p=1;p<=67108863;p*=u)d++;d--,p=p/u|0;for(var w=o.length-c,S=w%d,m=Math.min(w,w-S)+c,s=0,y=c;y<m;y+=d)s=h(o,y,y+d,u),this.imuln(p),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(S!==0){var x=1;for(s=h(o,y,o.length,u),y=0;y<S;y++)x*=u;this.imuln(x),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var u=0;u<this.length;u++)o.words[u]=this.words[u];o.length=this.length,o.negative=this.negative,o.red=this.red},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,u){o=o||10,u=u|0||1;var c;if(o===16||o==="hex"){c="";for(var d=0,p=0,w=0;w<this.length;w++){var S=this.words[w],m=((S<<d|p)&16777215).toString(16);p=S>>>24-d&16777215,p!==0||w!==this.length-1?c=g[6-m.length]+m+c:c=m+c,d+=2,d>=26&&(d-=26,w--)}for(p!==0&&(c=p.toString(16)+c);c.length%u!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(o===(o|0)&&o>=2&&o<=36){var s=_[o],y=M[o];c="";var x=this.clone();for(x.negative=0;!x.isZero();){var C=x.modn(y).toString(o);x=x.idivn(y),x.isZero()?c=C+c:c=g[s-C.length]+C+c}for(this.isZero()&&(c="0"+c);c.length%u!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(o,u){return n(typeof f<"u"),this.toArrayLike(f,o,u)},i.prototype.toArray=function(o,u){return this.toArrayLike(Array,o,u)},i.prototype.toArrayLike=function(o,u,c){var d=this.byteLength(),p=c||Math.max(1,d);n(d<=p,"byte array longer than desired length"),n(p>0,"Requested array length <= 0"),this.strip();var w=u==="le",S=new o(p),m,s,y=this.clone();if(w){for(s=0;!y.isZero();s++)m=y.andln(255),y.iushrn(8),S[s]=m;for(;s<p;s++)S[s]=0}else{for(s=0;s<p-d;s++)S[s]=0;for(s=0;!y.isZero();s++)m=y.andln(255),y.iushrn(8),S[p-s-1]=m}return S},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var u=o,c=0;return u>=4096&&(c+=13,u>>>=13),u>=64&&(c+=7,u>>>=7),u>=8&&(c+=4,u>>>=4),u>=2&&(c+=2,u>>>=2),c+u},i.prototype._zeroBits=function(o){if(o===0)return 26;var u=o,c=0;return(u&8191)===0&&(c+=13,u>>>=13),(u&127)===0&&(c+=7,u>>>=7),(u&15)===0&&(c+=4,u>>>=4),(u&3)===0&&(c+=2,u>>>=2),(u&1)===0&&c++,c},i.prototype.bitLength=function(){var o=this.words[this.length-1],u=this._countBits(o);return(this.length-1)*26+u};function E(b){for(var o=new Array(b.bitLength()),u=0;u<o.length;u++){var c=u/26|0,d=u%26;o[u]=(b.words[c]&1<<d)>>>d}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,u=0;u<this.length;u++){var c=this._zeroBits(this.words[u]);if(o+=c,c!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]|o.words[u];return this.strip()},i.prototype.ior=function(o){return n((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var u;this.length>o.length?u=o:u=this;for(var c=0;c<u.length;c++)this.words[c]=this.words[c]&o.words[c];return this.length=u.length,this.strip()},i.prototype.iand=function(o){return n((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var u,c;this.length>o.length?(u=this,c=o):(u=o,c=this);for(var d=0;d<c.length;d++)this.words[d]=u.words[d]^c.words[d];if(this!==u)for(;d<u.length;d++)this.words[d]=u.words[d];return this.length=u.length,this.strip()},i.prototype.ixor=function(o){return n((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){n(typeof o=="number"&&o>=0);var u=Math.ceil(o/26)|0,c=o%26;this._expand(u),c>0&&u--;for(var d=0;d<u;d++)this.words[d]=~this.words[d]&67108863;return c>0&&(this.words[d]=~this.words[d]&67108863>>26-c),this.strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,u){n(typeof o=="number"&&o>=0);var c=o/26|0,d=o%26;return this._expand(c+1),u?this.words[c]=this.words[c]|1<<d:this.words[c]=this.words[c]&~(1<<d),this.strip()},i.prototype.iadd=function(o){var u;if(this.negative!==0&&o.negative===0)return this.negative=0,u=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,u=this.isub(o),o.negative=1,u._normSign();var c,d;this.length>o.length?(c=this,d=o):(c=o,d=this);for(var p=0,w=0;w<d.length;w++)u=(c.words[w]|0)+(d.words[w]|0)+p,this.words[w]=u&67108863,p=u>>>26;for(;p!==0&&w<c.length;w++)u=(c.words[w]|0)+p,this.words[w]=u&67108863,p=u>>>26;if(this.length=c.length,p!==0)this.words[this.length]=p,this.length++;else if(c!==this)for(;w<c.length;w++)this.words[w]=c.words[w];return this},i.prototype.add=function(o){var u;return o.negative!==0&&this.negative===0?(o.negative=0,u=this.sub(o),o.negative^=1,u):o.negative===0&&this.negative!==0?(this.negative=0,u=o.sub(this),this.negative=1,u):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var u=this.iadd(o);return o.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var c=this.cmp(o);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var d,p;c>0?(d=this,p=o):(d=o,p=this);for(var w=0,S=0;S<p.length;S++)u=(d.words[S]|0)-(p.words[S]|0)+w,w=u>>26,this.words[S]=u&67108863;for(;w!==0&&S<d.length;S++)u=(d.words[S]|0)+w,w=u>>26,this.words[S]=u&67108863;if(w===0&&S<d.length&&d!==this)for(;S<d.length;S++)this.words[S]=d.words[S];return this.length=Math.max(this.length,S),d!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function A(b,o,u){u.negative=o.negative^b.negative;var c=b.length+o.length|0;u.length=c,c=c-1|0;var d=b.words[0]|0,p=o.words[0]|0,w=d*p,S=w&67108863,m=w/67108864|0;u.words[0]=S;for(var s=1;s<c;s++){for(var y=m>>>26,x=m&67108863,C=Math.min(s,o.length-1),N=Math.max(0,s-b.length+1);N<=C;N++){var j=s-N|0;d=b.words[j]|0,p=o.words[N]|0,w=d*p+x,y+=w/67108864|0,x=w&67108863}u.words[s]=x|0,m=y|0}return m!==0?u.words[s]=m|0:u.length--,u.strip()}var I=function(o,u,c){var d=o.words,p=u.words,w=c.words,S=0,m,s,y,x=d[0]|0,C=x&8191,N=x>>>13,j=d[1]|0,B=j&8191,L=j>>>13,Y=d[2]|0,G=Y&8191,Z=Y>>>13,K=d[3]|0,U=K&8191,W=K>>>13,Te=d[4]|0,ee=Te&8191,re=Te>>>13,De=d[5]|0,ie=De&8191,J=De>>>13,qe=d[6]|0,ae=qe&8191,be=qe>>>13,Ge=d[7]|0,H=Ge&8191,X=Ge>>>13,Q=d[8]|0,te=Q&8191,ce=Q>>>13,Ke=d[9]|0,he=Ke&8191,oe=Ke>>>13,We=p[0]|0,fe=We&8191,Ce=We>>>13,et=p[1]|0,le=et&8191,we=et>>>13,Ze=p[2]|0,me=Ze&8191,xe=Ze>>>13,tt=p[3]|0,ne=tt&8191,_e=tt>>>13,Je=p[4]|0,de=Je&8191,Ae=Je>>>13,st=p[5]|0,ve=st&8191,Ie=st>>>13,Qe=p[6]|0,ye=Qe&8191,Pe=Qe>>>13,rt=p[7]|0,ge=rt&8191,Oe=rt>>>13,ot=p[8]|0,Se=ot&8191,ke=ot>>>13,ft=p[9]|0,Me=ft&8191,Re=ft>>>13;c.negative=o.negative^u.negative,c.length=19,m=Math.imul(C,fe),s=Math.imul(C,Ce),s=s+Math.imul(N,fe)|0,y=Math.imul(N,Ce);var nt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(nt>>>26)|0,nt&=67108863,m=Math.imul(B,fe),s=Math.imul(B,Ce),s=s+Math.imul(L,fe)|0,y=Math.imul(L,Ce),m=m+Math.imul(C,le)|0,s=s+Math.imul(C,we)|0,s=s+Math.imul(N,le)|0,y=y+Math.imul(N,we)|0;var it=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(it>>>26)|0,it&=67108863,m=Math.imul(G,fe),s=Math.imul(G,Ce),s=s+Math.imul(Z,fe)|0,y=Math.imul(Z,Ce),m=m+Math.imul(B,le)|0,s=s+Math.imul(B,we)|0,s=s+Math.imul(L,le)|0,y=y+Math.imul(L,we)|0,m=m+Math.imul(C,me)|0,s=s+Math.imul(C,xe)|0,s=s+Math.imul(N,me)|0,y=y+Math.imul(N,xe)|0;var It=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(It>>>26)|0,It&=67108863,m=Math.imul(U,fe),s=Math.imul(U,Ce),s=s+Math.imul(W,fe)|0,y=Math.imul(W,Ce),m=m+Math.imul(G,le)|0,s=s+Math.imul(G,we)|0,s=s+Math.imul(Z,le)|0,y=y+Math.imul(Z,we)|0,m=m+Math.imul(B,me)|0,s=s+Math.imul(B,xe)|0,s=s+Math.imul(L,me)|0,y=y+Math.imul(L,xe)|0,m=m+Math.imul(C,ne)|0,s=s+Math.imul(C,_e)|0,s=s+Math.imul(N,ne)|0,y=y+Math.imul(N,_e)|0;var Tt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,m=Math.imul(ee,fe),s=Math.imul(ee,Ce),s=s+Math.imul(re,fe)|0,y=Math.imul(re,Ce),m=m+Math.imul(U,le)|0,s=s+Math.imul(U,we)|0,s=s+Math.imul(W,le)|0,y=y+Math.imul(W,we)|0,m=m+Math.imul(G,me)|0,s=s+Math.imul(G,xe)|0,s=s+Math.imul(Z,me)|0,y=y+Math.imul(Z,xe)|0,m=m+Math.imul(B,ne)|0,s=s+Math.imul(B,_e)|0,s=s+Math.imul(L,ne)|0,y=y+Math.imul(L,_e)|0,m=m+Math.imul(C,de)|0,s=s+Math.imul(C,Ae)|0,s=s+Math.imul(N,de)|0,y=y+Math.imul(N,Ae)|0;var Ct=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,m=Math.imul(ie,fe),s=Math.imul(ie,Ce),s=s+Math.imul(J,fe)|0,y=Math.imul(J,Ce),m=m+Math.imul(ee,le)|0,s=s+Math.imul(ee,we)|0,s=s+Math.imul(re,le)|0,y=y+Math.imul(re,we)|0,m=m+Math.imul(U,me)|0,s=s+Math.imul(U,xe)|0,s=s+Math.imul(W,me)|0,y=y+Math.imul(W,xe)|0,m=m+Math.imul(G,ne)|0,s=s+Math.imul(G,_e)|0,s=s+Math.imul(Z,ne)|0,y=y+Math.imul(Z,_e)|0,m=m+Math.imul(B,de)|0,s=s+Math.imul(B,Ae)|0,s=s+Math.imul(L,de)|0,y=y+Math.imul(L,Ae)|0,m=m+Math.imul(C,ve)|0,s=s+Math.imul(C,Ie)|0,s=s+Math.imul(N,ve)|0,y=y+Math.imul(N,Ie)|0;var Ot=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,m=Math.imul(ae,fe),s=Math.imul(ae,Ce),s=s+Math.imul(be,fe)|0,y=Math.imul(be,Ce),m=m+Math.imul(ie,le)|0,s=s+Math.imul(ie,we)|0,s=s+Math.imul(J,le)|0,y=y+Math.imul(J,we)|0,m=m+Math.imul(ee,me)|0,s=s+Math.imul(ee,xe)|0,s=s+Math.imul(re,me)|0,y=y+Math.imul(re,xe)|0,m=m+Math.imul(U,ne)|0,s=s+Math.imul(U,_e)|0,s=s+Math.imul(W,ne)|0,y=y+Math.imul(W,_e)|0,m=m+Math.imul(G,de)|0,s=s+Math.imul(G,Ae)|0,s=s+Math.imul(Z,de)|0,y=y+Math.imul(Z,Ae)|0,m=m+Math.imul(B,ve)|0,s=s+Math.imul(B,Ie)|0,s=s+Math.imul(L,ve)|0,y=y+Math.imul(L,Ie)|0,m=m+Math.imul(C,ye)|0,s=s+Math.imul(C,Pe)|0,s=s+Math.imul(N,ye)|0,y=y+Math.imul(N,Pe)|0;var Pt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,m=Math.imul(H,fe),s=Math.imul(H,Ce),s=s+Math.imul(X,fe)|0,y=Math.imul(X,Ce),m=m+Math.imul(ae,le)|0,s=s+Math.imul(ae,we)|0,s=s+Math.imul(be,le)|0,y=y+Math.imul(be,we)|0,m=m+Math.imul(ie,me)|0,s=s+Math.imul(ie,xe)|0,s=s+Math.imul(J,me)|0,y=y+Math.imul(J,xe)|0,m=m+Math.imul(ee,ne)|0,s=s+Math.imul(ee,_e)|0,s=s+Math.imul(re,ne)|0,y=y+Math.imul(re,_e)|0,m=m+Math.imul(U,de)|0,s=s+Math.imul(U,Ae)|0,s=s+Math.imul(W,de)|0,y=y+Math.imul(W,Ae)|0,m=m+Math.imul(G,ve)|0,s=s+Math.imul(G,Ie)|0,s=s+Math.imul(Z,ve)|0,y=y+Math.imul(Z,Ie)|0,m=m+Math.imul(B,ye)|0,s=s+Math.imul(B,Pe)|0,s=s+Math.imul(L,ye)|0,y=y+Math.imul(L,Pe)|0,m=m+Math.imul(C,ge)|0,s=s+Math.imul(C,Oe)|0,s=s+Math.imul(N,ge)|0,y=y+Math.imul(N,Oe)|0;var kt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(kt>>>26)|0,kt&=67108863,m=Math.imul(te,fe),s=Math.imul(te,Ce),s=s+Math.imul(ce,fe)|0,y=Math.imul(ce,Ce),m=m+Math.imul(H,le)|0,s=s+Math.imul(H,we)|0,s=s+Math.imul(X,le)|0,y=y+Math.imul(X,we)|0,m=m+Math.imul(ae,me)|0,s=s+Math.imul(ae,xe)|0,s=s+Math.imul(be,me)|0,y=y+Math.imul(be,xe)|0,m=m+Math.imul(ie,ne)|0,s=s+Math.imul(ie,_e)|0,s=s+Math.imul(J,ne)|0,y=y+Math.imul(J,_e)|0,m=m+Math.imul(ee,de)|0,s=s+Math.imul(ee,Ae)|0,s=s+Math.imul(re,de)|0,y=y+Math.imul(re,Ae)|0,m=m+Math.imul(U,ve)|0,s=s+Math.imul(U,Ie)|0,s=s+Math.imul(W,ve)|0,y=y+Math.imul(W,Ie)|0,m=m+Math.imul(G,ye)|0,s=s+Math.imul(G,Pe)|0,s=s+Math.imul(Z,ye)|0,y=y+Math.imul(Z,Pe)|0,m=m+Math.imul(B,ge)|0,s=s+Math.imul(B,Oe)|0,s=s+Math.imul(L,ge)|0,y=y+Math.imul(L,Oe)|0,m=m+Math.imul(C,Se)|0,s=s+Math.imul(C,ke)|0,s=s+Math.imul(N,Se)|0,y=y+Math.imul(N,ke)|0;var Rt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,m=Math.imul(he,fe),s=Math.imul(he,Ce),s=s+Math.imul(oe,fe)|0,y=Math.imul(oe,Ce),m=m+Math.imul(te,le)|0,s=s+Math.imul(te,we)|0,s=s+Math.imul(ce,le)|0,y=y+Math.imul(ce,we)|0,m=m+Math.imul(H,me)|0,s=s+Math.imul(H,xe)|0,s=s+Math.imul(X,me)|0,y=y+Math.imul(X,xe)|0,m=m+Math.imul(ae,ne)|0,s=s+Math.imul(ae,_e)|0,s=s+Math.imul(be,ne)|0,y=y+Math.imul(be,_e)|0,m=m+Math.imul(ie,de)|0,s=s+Math.imul(ie,Ae)|0,s=s+Math.imul(J,de)|0,y=y+Math.imul(J,Ae)|0,m=m+Math.imul(ee,ve)|0,s=s+Math.imul(ee,Ie)|0,s=s+Math.imul(re,ve)|0,y=y+Math.imul(re,Ie)|0,m=m+Math.imul(U,ye)|0,s=s+Math.imul(U,Pe)|0,s=s+Math.imul(W,ye)|0,y=y+Math.imul(W,Pe)|0,m=m+Math.imul(G,ge)|0,s=s+Math.imul(G,Oe)|0,s=s+Math.imul(Z,ge)|0,y=y+Math.imul(Z,Oe)|0,m=m+Math.imul(B,Se)|0,s=s+Math.imul(B,ke)|0,s=s+Math.imul(L,Se)|0,y=y+Math.imul(L,ke)|0,m=m+Math.imul(C,Me)|0,s=s+Math.imul(C,Re)|0,s=s+Math.imul(N,Me)|0,y=y+Math.imul(N,Re)|0;var Nt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,m=Math.imul(he,le),s=Math.imul(he,we),s=s+Math.imul(oe,le)|0,y=Math.imul(oe,we),m=m+Math.imul(te,me)|0,s=s+Math.imul(te,xe)|0,s=s+Math.imul(ce,me)|0,y=y+Math.imul(ce,xe)|0,m=m+Math.imul(H,ne)|0,s=s+Math.imul(H,_e)|0,s=s+Math.imul(X,ne)|0,y=y+Math.imul(X,_e)|0,m=m+Math.imul(ae,de)|0,s=s+Math.imul(ae,Ae)|0,s=s+Math.imul(be,de)|0,y=y+Math.imul(be,Ae)|0,m=m+Math.imul(ie,ve)|0,s=s+Math.imul(ie,Ie)|0,s=s+Math.imul(J,ve)|0,y=y+Math.imul(J,Ie)|0,m=m+Math.imul(ee,ye)|0,s=s+Math.imul(ee,Pe)|0,s=s+Math.imul(re,ye)|0,y=y+Math.imul(re,Pe)|0,m=m+Math.imul(U,ge)|0,s=s+Math.imul(U,Oe)|0,s=s+Math.imul(W,ge)|0,y=y+Math.imul(W,Oe)|0,m=m+Math.imul(G,Se)|0,s=s+Math.imul(G,ke)|0,s=s+Math.imul(Z,Se)|0,y=y+Math.imul(Z,ke)|0,m=m+Math.imul(B,Me)|0,s=s+Math.imul(B,Re)|0,s=s+Math.imul(L,Me)|0,y=y+Math.imul(L,Re)|0;var Dt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,m=Math.imul(he,me),s=Math.imul(he,xe),s=s+Math.imul(oe,me)|0,y=Math.imul(oe,xe),m=m+Math.imul(te,ne)|0,s=s+Math.imul(te,_e)|0,s=s+Math.imul(ce,ne)|0,y=y+Math.imul(ce,_e)|0,m=m+Math.imul(H,de)|0,s=s+Math.imul(H,Ae)|0,s=s+Math.imul(X,de)|0,y=y+Math.imul(X,Ae)|0,m=m+Math.imul(ae,ve)|0,s=s+Math.imul(ae,Ie)|0,s=s+Math.imul(be,ve)|0,y=y+Math.imul(be,Ie)|0,m=m+Math.imul(ie,ye)|0,s=s+Math.imul(ie,Pe)|0,s=s+Math.imul(J,ye)|0,y=y+Math.imul(J,Pe)|0,m=m+Math.imul(ee,ge)|0,s=s+Math.imul(ee,Oe)|0,s=s+Math.imul(re,ge)|0,y=y+Math.imul(re,Oe)|0,m=m+Math.imul(U,Se)|0,s=s+Math.imul(U,ke)|0,s=s+Math.imul(W,Se)|0,y=y+Math.imul(W,ke)|0,m=m+Math.imul(G,Me)|0,s=s+Math.imul(G,Re)|0,s=s+Math.imul(Z,Me)|0,y=y+Math.imul(Z,Re)|0;var Bt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,m=Math.imul(he,ne),s=Math.imul(he,_e),s=s+Math.imul(oe,ne)|0,y=Math.imul(oe,_e),m=m+Math.imul(te,de)|0,s=s+Math.imul(te,Ae)|0,s=s+Math.imul(ce,de)|0,y=y+Math.imul(ce,Ae)|0,m=m+Math.imul(H,ve)|0,s=s+Math.imul(H,Ie)|0,s=s+Math.imul(X,ve)|0,y=y+Math.imul(X,Ie)|0,m=m+Math.imul(ae,ye)|0,s=s+Math.imul(ae,Pe)|0,s=s+Math.imul(be,ye)|0,y=y+Math.imul(be,Pe)|0,m=m+Math.imul(ie,ge)|0,s=s+Math.imul(ie,Oe)|0,s=s+Math.imul(J,ge)|0,y=y+Math.imul(J,Oe)|0,m=m+Math.imul(ee,Se)|0,s=s+Math.imul(ee,ke)|0,s=s+Math.imul(re,Se)|0,y=y+Math.imul(re,ke)|0,m=m+Math.imul(U,Me)|0,s=s+Math.imul(U,Re)|0,s=s+Math.imul(W,Me)|0,y=y+Math.imul(W,Re)|0;var Ut=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,m=Math.imul(he,de),s=Math.imul(he,Ae),s=s+Math.imul(oe,de)|0,y=Math.imul(oe,Ae),m=m+Math.imul(te,ve)|0,s=s+Math.imul(te,Ie)|0,s=s+Math.imul(ce,ve)|0,y=y+Math.imul(ce,Ie)|0,m=m+Math.imul(H,ye)|0,s=s+Math.imul(H,Pe)|0,s=s+Math.imul(X,ye)|0,y=y+Math.imul(X,Pe)|0,m=m+Math.imul(ae,ge)|0,s=s+Math.imul(ae,Oe)|0,s=s+Math.imul(be,ge)|0,y=y+Math.imul(be,Oe)|0,m=m+Math.imul(ie,Se)|0,s=s+Math.imul(ie,ke)|0,s=s+Math.imul(J,Se)|0,y=y+Math.imul(J,ke)|0,m=m+Math.imul(ee,Me)|0,s=s+Math.imul(ee,Re)|0,s=s+Math.imul(re,Me)|0,y=y+Math.imul(re,Re)|0;var Ft=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,m=Math.imul(he,ve),s=Math.imul(he,Ie),s=s+Math.imul(oe,ve)|0,y=Math.imul(oe,Ie),m=m+Math.imul(te,ye)|0,s=s+Math.imul(te,Pe)|0,s=s+Math.imul(ce,ye)|0,y=y+Math.imul(ce,Pe)|0,m=m+Math.imul(H,ge)|0,s=s+Math.imul(H,Oe)|0,s=s+Math.imul(X,ge)|0,y=y+Math.imul(X,Oe)|0,m=m+Math.imul(ae,Se)|0,s=s+Math.imul(ae,ke)|0,s=s+Math.imul(be,Se)|0,y=y+Math.imul(be,ke)|0,m=m+Math.imul(ie,Me)|0,s=s+Math.imul(ie,Re)|0,s=s+Math.imul(J,Me)|0,y=y+Math.imul(J,Re)|0;var Lt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,m=Math.imul(he,ye),s=Math.imul(he,Pe),s=s+Math.imul(oe,ye)|0,y=Math.imul(oe,Pe),m=m+Math.imul(te,ge)|0,s=s+Math.imul(te,Oe)|0,s=s+Math.imul(ce,ge)|0,y=y+Math.imul(ce,Oe)|0,m=m+Math.imul(H,Se)|0,s=s+Math.imul(H,ke)|0,s=s+Math.imul(X,Se)|0,y=y+Math.imul(X,ke)|0,m=m+Math.imul(ae,Me)|0,s=s+Math.imul(ae,Re)|0,s=s+Math.imul(be,Me)|0,y=y+Math.imul(be,Re)|0;var qt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(qt>>>26)|0,qt&=67108863,m=Math.imul(he,ge),s=Math.imul(he,Oe),s=s+Math.imul(oe,ge)|0,y=Math.imul(oe,Oe),m=m+Math.imul(te,Se)|0,s=s+Math.imul(te,ke)|0,s=s+Math.imul(ce,Se)|0,y=y+Math.imul(ce,ke)|0,m=m+Math.imul(H,Me)|0,s=s+Math.imul(H,Re)|0,s=s+Math.imul(X,Me)|0,y=y+Math.imul(X,Re)|0;var jt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(jt>>>26)|0,jt&=67108863,m=Math.imul(he,Se),s=Math.imul(he,ke),s=s+Math.imul(oe,Se)|0,y=Math.imul(oe,ke),m=m+Math.imul(te,Me)|0,s=s+Math.imul(te,Re)|0,s=s+Math.imul(ce,Me)|0,y=y+Math.imul(ce,Re)|0;var $t=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+($t>>>26)|0,$t&=67108863,m=Math.imul(he,Me),s=Math.imul(he,Re),s=s+Math.imul(oe,Me)|0,y=Math.imul(oe,Re);var Vt=(S+m|0)+((s&8191)<<13)|0;return S=(y+(s>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,w[0]=nt,w[1]=it,w[2]=It,w[3]=Tt,w[4]=Ct,w[5]=Ot,w[6]=Pt,w[7]=kt,w[8]=Rt,w[9]=Nt,w[10]=Dt,w[11]=Bt,w[12]=Ut,w[13]=Ft,w[14]=Lt,w[15]=qt,w[16]=jt,w[17]=$t,w[18]=Vt,S!==0&&(w[19]=S,c.length++),c};Math.imul||(I=A);function O(b,o,u){u.negative=o.negative^b.negative,u.length=b.length+o.length;for(var c=0,d=0,p=0;p<u.length-1;p++){var w=d;d=0;for(var S=c&67108863,m=Math.min(p,o.length-1),s=Math.max(0,p-b.length+1);s<=m;s++){var y=p-s,x=b.words[y]|0,C=o.words[s]|0,N=x*C,j=N&67108863;w=w+(N/67108864|0)|0,j=j+S|0,S=j&67108863,w=w+(j>>>26)|0,d+=w>>>26,w&=67108863}u.words[p]=S,c=w,w=d}return c!==0?u.words[p]=c:u.length--,u.strip()}function T(b,o,u){var c=new P;return c.mulp(b,o,u)}i.prototype.mulTo=function(o,u){var c,d=this.length+o.length;return this.length===10&&o.length===10?c=I(this,o,u):d<63?c=A(this,o,u):d<1024?c=O(this,o,u):c=T(this,o,u),c};function P(b,o){this.x=b,this.y=o}P.prototype.makeRBT=function(o){for(var u=new Array(o),c=i.prototype._countBits(o)-1,d=0;d<o;d++)u[d]=this.revBin(d,c,o);return u},P.prototype.revBin=function(o,u,c){if(o===0||o===c-1)return o;for(var d=0,p=0;p<u;p++)d|=(o&1)<<u-p-1,o>>=1;return d},P.prototype.permute=function(o,u,c,d,p,w){for(var S=0;S<w;S++)d[S]=u[o[S]],p[S]=c[o[S]]},P.prototype.transform=function(o,u,c,d,p,w){this.permute(w,o,u,c,d,p);for(var S=1;S<p;S<<=1)for(var m=S<<1,s=Math.cos(2*Math.PI/m),y=Math.sin(2*Math.PI/m),x=0;x<p;x+=m)for(var C=s,N=y,j=0;j<S;j++){var B=c[x+j],L=d[x+j],Y=c[x+j+S],G=d[x+j+S],Z=C*Y-N*G;G=C*G+N*Y,Y=Z,c[x+j]=B+Y,d[x+j]=L+G,c[x+j+S]=B-Y,d[x+j+S]=L-G,j!==m&&(Z=s*C-y*N,N=s*N+y*C,C=Z)}},P.prototype.guessLen13b=function(o,u){var c=Math.max(u,o)|1,d=c&1,p=0;for(c=c/2|0;c;c=c>>>1)p++;return 1<<p+1+d},P.prototype.conjugate=function(o,u,c){if(!(c<=1))for(var d=0;d<c/2;d++){var p=o[d];o[d]=o[c-d-1],o[c-d-1]=p,p=u[d],u[d]=-u[c-d-1],u[c-d-1]=-p}},P.prototype.normalize13b=function(o,u){for(var c=0,d=0;d<u/2;d++){var p=Math.round(o[2*d+1]/u)*8192+Math.round(o[2*d]/u)+c;o[d]=p&67108863,p<67108864?c=0:c=p/67108864|0}return o},P.prototype.convert13b=function(o,u,c,d){for(var p=0,w=0;w<u;w++)p=p+(o[w]|0),c[2*w]=p&8191,p=p>>>13,c[2*w+1]=p&8191,p=p>>>13;for(w=2*u;w<d;++w)c[w]=0;n(p===0),n((p&-8192)===0)},P.prototype.stub=function(o){for(var u=new Array(o),c=0;c<o;c++)u[c]=0;return u},P.prototype.mulp=function(o,u,c){var d=2*this.guessLen13b(o.length,u.length),p=this.makeRBT(d),w=this.stub(d),S=new Array(d),m=new Array(d),s=new Array(d),y=new Array(d),x=new Array(d),C=new Array(d),N=c.words;N.length=d,this.convert13b(o.words,o.length,S,d),this.convert13b(u.words,u.length,y,d),this.transform(S,w,m,s,d,p),this.transform(y,w,x,C,d,p);for(var j=0;j<d;j++){var B=m[j]*x[j]-s[j]*C[j];s[j]=m[j]*C[j]+s[j]*x[j],m[j]=B}return this.conjugate(m,s,d),this.transform(m,s,N,w,d,p),this.conjugate(N,w,d),this.normalize13b(N,d),c.negative=o.negative^u.negative,c.length=o.length+u.length,c.strip()},i.prototype.mul=function(o){var u=new i(null);return u.words=new Array(this.length+o.length),this.mulTo(o,u)},i.prototype.mulf=function(o){var u=new i(null);return u.words=new Array(this.length+o.length),T(this,o,u)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){n(typeof o=="number"),n(o<67108864);for(var u=0,c=0;c<this.length;c++){var d=(this.words[c]|0)*o,p=(d&67108863)+(u&67108863);u>>=26,u+=d/67108864|0,u+=p>>>26,this.words[c]=p&67108863}return u!==0&&(this.words[c]=u,this.length++),this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var u=E(o);if(u.length===0)return new i(1);for(var c=this,d=0;d<u.length&&u[d]===0;d++,c=c.sqr());if(++d<u.length)for(var p=c.sqr();d<u.length;d++,p=p.sqr())u[d]!==0&&(c=c.mul(p));return c},i.prototype.iushln=function(o){n(typeof o=="number"&&o>=0);var u=o%26,c=(o-u)/26,d=67108863>>>26-u<<26-u,p;if(u!==0){var w=0;for(p=0;p<this.length;p++){var S=this.words[p]&d,m=(this.words[p]|0)-S<<u;this.words[p]=m|w,w=S>>>26-u}w&&(this.words[p]=w,this.length++)}if(c!==0){for(p=this.length-1;p>=0;p--)this.words[p+c]=this.words[p];for(p=0;p<c;p++)this.words[p]=0;this.length+=c}return this.strip()},i.prototype.ishln=function(o){return n(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,u,c){n(typeof o=="number"&&o>=0);var d;u?d=(u-u%26)/26:d=0;var p=o%26,w=Math.min((o-p)/26,this.length),S=67108863^67108863>>>p<<p,m=c;if(d-=w,d=Math.max(0,d),m){for(var s=0;s<w;s++)m.words[s]=this.words[s];m.length=w}if(w!==0)if(this.length>w)for(this.length-=w,s=0;s<this.length;s++)this.words[s]=this.words[s+w];else this.words[0]=0,this.length=1;var y=0;for(s=this.length-1;s>=0&&(y!==0||s>=d);s--){var x=this.words[s]|0;this.words[s]=y<<26-p|x>>>p,y=x&S}return m&&y!==0&&(m.words[m.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(o,u,c){return n(this.negative===0),this.iushrn(o,u,c)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){n(typeof o=="number"&&o>=0);var u=o%26,c=(o-u)/26,d=1<<u;if(this.length<=c)return!1;var p=this.words[c];return!!(p&d)},i.prototype.imaskn=function(o){n(typeof o=="number"&&o>=0);var u=o%26,c=(o-u)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(u!==0&&c++,this.length=Math.min(c,this.length),u!==0){var d=67108863^67108863>>>u<<u;this.words[this.length-1]&=d}return this.strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return n(typeof o=="number"),n(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(o){if(n(typeof o=="number"),n(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,u,c){var d=o.length+c,p;this._expand(d);var w,S=0;for(p=0;p<o.length;p++){w=(this.words[p+c]|0)+S;var m=(o.words[p]|0)*u;w-=m&67108863,S=(w>>26)-(m/67108864|0),this.words[p+c]=w&67108863}for(;p<this.length-c;p++)w=(this.words[p+c]|0)+S,S=w>>26,this.words[p+c]=w&67108863;if(S===0)return this.strip();for(n(S===-1),S=0,p=0;p<this.length;p++)w=-(this.words[p]|0)+S,S=w>>26,this.words[p]=w&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(o,u){var c=this.length-o.length,d=this.clone(),p=o,w=p.words[p.length-1]|0,S=this._countBits(w);c=26-S,c!==0&&(p=p.ushln(c),d.iushln(c),w=p.words[p.length-1]|0);var m=d.length-p.length,s;if(u!=="mod"){s=new i(null),s.length=m+1,s.words=new Array(s.length);for(var y=0;y<s.length;y++)s.words[y]=0}var x=d.clone()._ishlnsubmul(p,1,m);x.negative===0&&(d=x,s&&(s.words[m]=1));for(var C=m-1;C>=0;C--){var N=(d.words[p.length+C]|0)*67108864+(d.words[p.length+C-1]|0);for(N=Math.min(N/w|0,67108863),d._ishlnsubmul(p,N,C);d.negative!==0;)N--,d.negative=0,d._ishlnsubmul(p,1,C),d.isZero()||(d.negative^=1);s&&(s.words[C]=N)}return s&&s.strip(),d.strip(),u!=="div"&&c!==0&&d.iushrn(c),{div:s||null,mod:d}},i.prototype.divmod=function(o,u,c){if(n(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var d,p,w;return this.negative!==0&&o.negative===0?(w=this.neg().divmod(o,u),u!=="mod"&&(d=w.div.neg()),u!=="div"&&(p=w.mod.neg(),c&&p.negative!==0&&p.iadd(o)),{div:d,mod:p}):this.negative===0&&o.negative!==0?(w=this.divmod(o.neg(),u),u!=="mod"&&(d=w.div.neg()),{div:d,mod:w.mod}):(this.negative&o.negative)!==0?(w=this.neg().divmod(o.neg(),u),u!=="div"&&(p=w.mod.neg(),c&&p.negative!==0&&p.isub(o)),{div:w.div,mod:p}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?u==="div"?{div:this.divn(o.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modn(o.words[0]))}:this._wordDiv(o,u)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var u=this.divmod(o);if(u.mod.isZero())return u.div;var c=u.div.negative!==0?u.mod.isub(o):u.mod,d=o.ushrn(1),p=o.andln(1),w=c.cmp(d);return w<0||p===1&&w===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modn=function(o){n(o<=67108863);for(var u=(1<<26)%o,c=0,d=this.length-1;d>=0;d--)c=(u*c+(this.words[d]|0))%o;return c},i.prototype.idivn=function(o){n(o<=67108863);for(var u=0,c=this.length-1;c>=0;c--){var d=(this.words[c]|0)+u*67108864;this.words[c]=d/o|0,u=d%o}return this.strip()},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){n(o.negative===0),n(!o.isZero());var u=this,c=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var d=new i(1),p=new i(0),w=new i(0),S=new i(1),m=0;u.isEven()&&c.isEven();)u.iushrn(1),c.iushrn(1),++m;for(var s=c.clone(),y=u.clone();!u.isZero();){for(var x=0,C=1;(u.words[0]&C)===0&&x<26;++x,C<<=1);if(x>0)for(u.iushrn(x);x-- >0;)(d.isOdd()||p.isOdd())&&(d.iadd(s),p.isub(y)),d.iushrn(1),p.iushrn(1);for(var N=0,j=1;(c.words[0]&j)===0&&N<26;++N,j<<=1);if(N>0)for(c.iushrn(N);N-- >0;)(w.isOdd()||S.isOdd())&&(w.iadd(s),S.isub(y)),w.iushrn(1),S.iushrn(1);u.cmp(c)>=0?(u.isub(c),d.isub(w),p.isub(S)):(c.isub(u),w.isub(d),S.isub(p))}return{a:w,b:S,gcd:c.iushln(m)}},i.prototype._invmp=function(o){n(o.negative===0),n(!o.isZero());var u=this,c=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var d=new i(1),p=new i(0),w=c.clone();u.cmpn(1)>0&&c.cmpn(1)>0;){for(var S=0,m=1;(u.words[0]&m)===0&&S<26;++S,m<<=1);if(S>0)for(u.iushrn(S);S-- >0;)d.isOdd()&&d.iadd(w),d.iushrn(1);for(var s=0,y=1;(c.words[0]&y)===0&&s<26;++s,y<<=1);if(s>0)for(c.iushrn(s);s-- >0;)p.isOdd()&&p.iadd(w),p.iushrn(1);u.cmp(c)>=0?(u.isub(c),d.isub(p)):(c.isub(u),p.isub(d))}var x;return u.cmpn(1)===0?x=d:x=p,x.cmpn(0)<0&&x.iadd(o),x},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var u=this.clone(),c=o.clone();u.negative=0,c.negative=0;for(var d=0;u.isEven()&&c.isEven();d++)u.iushrn(1),c.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;c.isEven();)c.iushrn(1);var p=u.cmp(c);if(p<0){var w=u;u=c,c=w}else if(p===0||c.cmpn(1)===0)break;u.isub(c)}while(!0);return c.iushln(d)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){n(typeof o=="number");var u=o%26,c=(o-u)/26,d=1<<u;if(this.length<=c)return this._expand(c+1),this.words[c]|=d,this;for(var p=d,w=c;p!==0&&w<this.length;w++){var S=this.words[w]|0;S+=p,p=S>>>26,S&=67108863,this.words[w]=S}return p!==0&&(this.words[w]=p,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var u=o<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var c;if(this.length>1)c=1;else{u&&(o=-o),n(o<=67108863,"Number is too big");var d=this.words[0]|0;c=d===o?0:d<o?-1:1}return this.negative!==0?-c|0:c},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var u=this.ucmp(o);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var u=0,c=this.length-1;c>=0;c--){var d=this.words[c]|0,p=o.words[c]|0;if(d!==p){d<p?u=-1:d>p&&(u=1);break}}return u},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new F(o)},i.prototype.toRed=function(o){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return n(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return n(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var k={k256:null,p224:null,p192:null,p25519:null};function R(b,o){this.name=b,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}R.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},R.prototype.ireduce=function(o){var u=o,c;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),c=u.bitLength();while(c>this.n);var d=c<this.n?-1:u.ucmp(this.p);return d===0?(u.words[0]=0,u.length=1):d>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},R.prototype.split=function(o,u){o.iushrn(this.n,0,u)},R.prototype.imulK=function(o){return o.imul(this.k)};function D(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(D,R),D.prototype.split=function(o,u){for(var c=4194303,d=Math.min(o.length,9),p=0;p<d;p++)u.words[p]=o.words[p];if(u.length=d,o.length<=9){o.words[0]=0,o.length=1;return}var w=o.words[9];for(u.words[u.length++]=w&c,p=10;p<o.length;p++){var S=o.words[p]|0;o.words[p-10]=(S&c)<<4|w>>>22,w=S}w>>>=22,o.words[p-10]=w,w===0&&o.length>10?o.length-=10:o.length-=9},D.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var u=0,c=0;c<o.length;c++){var d=o.words[c]|0;u+=d*977,o.words[c]=u&67108863,u=d*64+(u/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function V(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(V,R);function q(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(q,R);function $(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a($,R),$.prototype.imulK=function(o){for(var u=0,c=0;c<o.length;c++){var d=(o.words[c]|0)*19+u,p=d&67108863;d>>>=26,o.words[c]=p,u=d}return u!==0&&(o.words[o.length++]=u),o},i._prime=function(o){if(k[o])return k[o];var u;if(o==="k256")u=new D;else if(o==="p224")u=new V;else if(o==="p192")u=new q;else if(o==="p25519")u=new $;else throw new Error("Unknown prime "+o);return k[o]=u,u};function F(b){if(typeof b=="string"){var o=i._prime(b);this.m=o.p,this.prime=o}else n(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}F.prototype._verify1=function(o){n(o.negative===0,"red works only with positives"),n(o.red,"red works only with red numbers")},F.prototype._verify2=function(o,u){n((o.negative|u.negative)===0,"red works only with positives"),n(o.red&&o.red===u.red,"red works only with red numbers")},F.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},F.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},F.prototype.add=function(o,u){this._verify2(o,u);var c=o.add(u);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},F.prototype.iadd=function(o,u){this._verify2(o,u);var c=o.iadd(u);return c.cmp(this.m)>=0&&c.isub(this.m),c},F.prototype.sub=function(o,u){this._verify2(o,u);var c=o.sub(u);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},F.prototype.isub=function(o,u){this._verify2(o,u);var c=o.isub(u);return c.cmpn(0)<0&&c.iadd(this.m),c},F.prototype.shl=function(o,u){return this._verify1(o),this.imod(o.ushln(u))},F.prototype.imul=function(o,u){return this._verify2(o,u),this.imod(o.imul(u))},F.prototype.mul=function(o,u){return this._verify2(o,u),this.imod(o.mul(u))},F.prototype.isqr=function(o){return this.imul(o,o.clone())},F.prototype.sqr=function(o){return this.mul(o,o)},F.prototype.sqrt=function(o){if(o.isZero())return o.clone();var u=this.m.andln(3);if(n(u%2===1),u===3){var c=this.m.add(new i(1)).iushrn(2);return this.pow(o,c)}for(var d=this.m.subn(1),p=0;!d.isZero()&&d.andln(1)===0;)p++,d.iushrn(1);n(!d.isZero());var w=new i(1).toRed(this),S=w.redNeg(),m=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new i(2*s*s).toRed(this);this.pow(s,m).cmp(S)!==0;)s.redIAdd(S);for(var y=this.pow(s,d),x=this.pow(o,d.addn(1).iushrn(1)),C=this.pow(o,d),N=p;C.cmp(w)!==0;){for(var j=C,B=0;j.cmp(w)!==0;B++)j=j.redSqr();n(B<N);var L=this.pow(y,new i(1).iushln(N-B-1));x=x.redMul(L),y=L.redSqr(),C=C.redMul(y),N=B}return x},F.prototype.invm=function(o){var u=o._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},F.prototype.pow=function(o,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return o.clone();var c=4,d=new Array(1<<c);d[0]=new i(1).toRed(this),d[1]=o;for(var p=2;p<d.length;p++)d[p]=this.mul(d[p-1],o);var w=d[0],S=0,m=0,s=u.bitLength()%26;for(s===0&&(s=26),p=u.length-1;p>=0;p--){for(var y=u.words[p],x=s-1;x>=0;x--){var C=y>>x&1;if(w!==d[0]&&(w=this.sqr(w)),C===0&&S===0){m=0;continue}S<<=1,S|=C,m++,!(m!==c&&(p!==0||x!==0))&&(w=this.mul(w,d[S]),m=0,S=0)}s=26}return w},F.prototype.convertTo=function(o){var u=o.umod(this.m);return u===o?u.clone():u},F.prototype.convertFrom=function(o){var u=o.clone();return u.red=null,u},i.mont=function(o){return new z(o)};function z(b){F.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(z,F),z.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},z.prototype.convertFrom=function(o){var u=this.imod(o.mul(this.rinv));return u.red=null,u},z.prototype.imul=function(o,u){if(o.isZero()||u.isZero())return o.words[0]=0,o.length=1,o;var c=o.imul(u),d=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=c.isub(d).iushrn(this.shift),w=p;return p.cmp(this.m)>=0?w=p.isub(this.m):p.cmpn(0)<0&&(w=p.iadd(this.m)),w._forceRed(this)},z.prototype.mul=function(o,u){if(o.isZero()||u.isZero())return new i(0)._forceRed(this);var c=o.mul(u),d=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=c.isub(d).iushrn(this.shift),w=p;return p.cmp(this.m)>=0?w=p.isub(this.m):p.cmpn(0)<0&&(w=p.iadd(this.m)),w._forceRed(this)},z.prototype.invm=function(o){var u=this.imod(o._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(e,Ve)})(T_);var zu={exports:{}},Ky;function Rp(){if(Ky)return zu.exports;Ky=1;var e;zu.exports=function(a){return e||(e=new t(null)),e.generate(a)};function t(n){this.rand=n}if(zu.exports.Rand=t,t.prototype.generate=function(a){return this._rand(a)},t.prototype._rand=function(a){if(this.rand.getBytes)return this.rand.getBytes(a);for(var i=new Uint8Array(a),f=0;f<i.length;f++)i[f]=this.rand.getByte();return i},typeof self=="object")self.crypto&&self.crypto.getRandomValues?t.prototype._rand=function(a){var i=new Uint8Array(a);return self.crypto.getRandomValues(i),i}:self.msCrypto&&self.msCrypto.getRandomValues?t.prototype._rand=function(a){var i=new Uint8Array(a);return self.msCrypto.getRandomValues(i),i}:typeof window=="object"&&(t.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var r=TS();if(typeof r.randomBytes!="function")throw new Error("Not supported");t.prototype._rand=function(a){return r.randomBytes(a)}}catch{}return zu.exports}var Ah,Hy;function C_(){if(Hy)return Ah;Hy=1;var e=T_.exports,t=Rp();function r(n){this.rand=n||new t.Rand}return Ah=r,r.create=function(a){return new r(a)},r.prototype._randbelow=function(a){var i=a.bitLength(),f=Math.ceil(i/8);do var l=new e(this.rand.generate(f));while(l.cmp(a)>=0);return l},r.prototype._randrange=function(a,i){var f=i.sub(a);return a.add(this._randbelow(f))},r.prototype.test=function(a,i,f){var l=a.bitLength(),v=e.mont(a),h=new e(1).toRed(v);i||(i=Math.max(1,l/48|0));for(var g=a.subn(1),_=0;!g.testn(_);_++);for(var M=a.shrn(_),E=g.toRed(v),A=!0;i>0;i--){var I=this._randrange(new e(2),g);f&&f(I);var O=I.toRed(v).redPow(M);if(!(O.cmp(h)===0||O.cmp(E)===0)){for(var T=1;T<_;T++){if(O=O.redSqr(),O.cmp(h)===0)return!1;if(O.cmp(E)===0)break}if(T===_)return!1}}return A},r.prototype.getDivisor=function(a,i){var f=a.bitLength(),l=e.mont(a),v=new e(1).toRed(l);i||(i=Math.max(1,f/48|0));for(var h=a.subn(1),g=0;!h.testn(g);g++);for(var _=a.shrn(g),M=h.toRed(l);i>0;i--){var E=this._randrange(new e(2),h),A=a.gcd(E);if(A.cmpn(1)!==0)return A;var I=E.toRed(l).redPow(_);if(!(I.cmp(v)===0||I.cmp(M)===0)){for(var O=1;O<g;O++){if(I=I.redSqr(),I.cmp(v)===0)return I.fromRed().subn(1).gcd(a);if(I.cmp(M)===0)break}if(O===g)return I=I.redSqr(),I.fromRed().subn(1).gcd(a)}}return!1},Ah}var Ih,Gy;function O_(){if(Gy)return Ih;Gy=1;var e=aa.exports;Ih=O,O.simpleSieve=A,O.fermatTest=I;var t=kp.exports,r=new t(24),n=C_(),a=new n,i=new t(1),f=new t(2),l=new t(5);new t(16),new t(8);var v=new t(10),h=new t(3);new t(7);var g=new t(11),_=new t(4);new t(12);var M=null;function E(){if(M!==null)return M;var T=1048576,P=[];P[0]=2;for(var k=1,R=3;R<T;R+=2){for(var D=Math.ceil(Math.sqrt(R)),V=0;V<k&&P[V]<=D&&R%P[V]!==0;V++);k!==V&&P[V]<=D||(P[k++]=R)}return M=P,P}function A(T){for(var P=E(),k=0;k<P.length;k++)if(T.modn(P[k])===0)return T.cmpn(P[k])===0;return!0}function I(T){var P=t.mont(T);return f.toRed(P).redPow(T.subn(1)).fromRed().cmpn(1)===0}function O(T,P){if(T<16)return P===2||P===5?new t([140,123]):new t([140,39]);P=new t(P);for(var k,R;;){for(k=new t(e(Math.ceil(T/8)));k.bitLength()>T;)k.ishrn(1);if(k.isEven()&&k.iadd(i),k.testn(1)||k.iadd(f),P.cmp(f)){if(!P.cmp(l))for(;k.mod(v).cmp(h);)k.iadd(_)}else for(;k.mod(r).cmp(g);)k.iadd(_);if(R=k.shrn(1),A(R)&&A(k)&&I(R)&&I(k)&&a.test(R)&&a.test(k))return k}}return Ih}const ZI={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},YI={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},XI={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},QI={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},e9={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},t9={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},r9={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},n9={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},i9={modp1:ZI,modp2:YI,modp5:XI,modp14:QI,modp15:e9,modp16:t9,modp17:r9,modp18:n9};var Th,Wy;function a9(){if(Wy)return Th;Wy=1;var e=kp.exports,t=C_(),r=new t,n=new e(24),a=new e(11),i=new e(10),f=new e(3),l=new e(7),v=O_(),h=aa.exports;Th=A;function g(O,T){return T=T||"utf8",Ue.Buffer.isBuffer(O)||(O=new Ue.Buffer(O,T)),this._pub=new e(O),this}function _(O,T){return T=T||"utf8",Ue.Buffer.isBuffer(O)||(O=new Ue.Buffer(O,T)),this._priv=new e(O),this}var M={};function E(O,T){var P=T.toString("hex"),k=[P,O.toString(16)].join("_");if(k in M)return M[k];var R=0;if(O.isEven()||!v.simpleSieve||!v.fermatTest(O)||!r.test(O))return R+=1,P==="02"||P==="05"?R+=8:R+=4,M[k]=R,R;r.test(O.shrn(1))||(R+=2);var D;switch(P){case"02":O.mod(n).cmp(a)&&(R+=8);break;case"05":D=O.mod(i),D.cmp(f)&&D.cmp(l)&&(R+=8);break;default:R+=4}return M[k]=R,R}function A(O,T,P){this.setGenerator(T),this.__prime=new e(O),this._prime=e.mont(this.__prime),this._primeLen=O.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,P?(this.setPublicKey=g,this.setPrivateKey=_):this._primeCode=8}Object.defineProperty(A.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=E(this.__prime,this.__gen)),this._primeCode}}),A.prototype.generateKeys=function(){return this._priv||(this._priv=new e(h(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},A.prototype.computeSecret=function(O){O=new e(O),O=O.toRed(this._prime);var T=O.redPow(this._priv).fromRed(),P=new Ue.Buffer(T.toArray()),k=this.getPrime();if(P.length<k.length){var R=new Ue.Buffer(k.length-P.length);R.fill(0),P=Ue.Buffer.concat([R,P])}return P},A.prototype.getPublicKey=function(T){return I(this._pub,T)},A.prototype.getPrivateKey=function(T){return I(this._priv,T)},A.prototype.getPrime=function(O){return I(this.__prime,O)},A.prototype.getGenerator=function(O){return I(this._gen,O)},A.prototype.setGenerator=function(O,T){return T=T||"utf8",Ue.Buffer.isBuffer(O)||(O=new Ue.Buffer(O,T)),this.__gen=O,this._gen=new e(O),this};function I(O,T){var P=new Ue.Buffer(O.toArray());return T?P.toString(T):P}return Th}var Jy;function o9(){if(Jy)return ma;Jy=1;var e=O_(),t=i9,r=a9();function n(f){var l=new Ue.Buffer(t[f].prime,"hex"),v=new Ue.Buffer(t[f].gen,"hex");return new r(l,v)}var a={binary:!0,hex:!0,base64:!0};function i(f,l,v,h){return Ue.Buffer.isBuffer(l)||a[l]===void 0?i(f,"binary",l,v):(l=l||"binary",h=h||"binary",v=v||new Ue.Buffer([2]),Ue.Buffer.isBuffer(v)||(v=new Ue.Buffer(v,h)),typeof f=="number"?new r(e(f,v),v,!0):(Ue.Buffer.isBuffer(f)||(f=new Ue.Buffer(f,l)),new r(f,v,!0)))}return ma.DiffieHellmanGroup=ma.createDiffieHellmanGroup=ma.getDiffieHellman=n,ma.createDiffieHellman=ma.DiffieHellman=i,ma}var ou={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=Ue,n=r.Buffer;function a(f,l){for(var v in f)l[v]=f[v]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=i);function i(f,l,v){return n(f,l,v)}i.prototype=Object.create(n.prototype),a(n,i),i.from=function(f,l,v){if(typeof f=="number")throw new TypeError("Argument must not be a number");return n(f,l,v)},i.alloc=function(f,l,v){if(typeof f!="number")throw new TypeError("Argument must be a number");var h=n(f);return l!==void 0?typeof v=="string"?h.fill(l,v):h.fill(l):h.fill(0),h},i.allocUnsafe=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return n(f)},i.allocUnsafeSlow=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(f)}})(ou,ou.exports);var Us={exports:{}},gl={exports:{}};(function(e){(function(t,r){function n(u,c){if(!u)throw new Error(c||"Assertion failed")}function a(u,c){u.super_=c;var d=function(){};d.prototype=c.prototype,u.prototype=new d,u.prototype.constructor=u}function i(u,c,d){if(i.isBN(u))return u;this.negative=0,this.words=null,this.length=0,this.red=null,u!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(u||0,c||10,d||"be"))}typeof t=="object"?t.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var f;try{typeof window<"u"&&typeof window.Buffer<"u"?f=window.Buffer:f=Ue.Buffer}catch{}i.isBN=function(c){return c instanceof i?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===i.wordSize&&Array.isArray(c.words)},i.max=function(c,d){return c.cmp(d)>0?c:d},i.min=function(c,d){return c.cmp(d)<0?c:d},i.prototype._init=function(c,d,p){if(typeof c=="number")return this._initNumber(c,d,p);if(typeof c=="object")return this._initArray(c,d,p);d==="hex"&&(d=16),n(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var w=0;c[0]==="-"&&(w++,this.negative=1),w<c.length&&(d===16?this._parseHex(c,w,p):(this._parseBase(c,d,w),p==="le"&&this._initArray(this.toArray(),d,p)))},i.prototype._initNumber=function(c,d,p){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(n(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),d,p)},i.prototype._initArray=function(c,d,p){if(n(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var S,m,s=0;if(p==="be")for(w=c.length-1,S=0;w>=0;w-=3)m=c[w]|c[w-1]<<8|c[w-2]<<16,this.words[S]|=m<<s&67108863,this.words[S+1]=m>>>26-s&67108863,s+=24,s>=26&&(s-=26,S++);else if(p==="le")for(w=0,S=0;w<c.length;w+=3)m=c[w]|c[w+1]<<8|c[w+2]<<16,this.words[S]|=m<<s&67108863,this.words[S+1]=m>>>26-s&67108863,s+=24,s>=26&&(s-=26,S++);return this._strip()};function l(u,c){var d=u.charCodeAt(c);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;n(!1,"Invalid character in "+u)}function v(u,c,d){var p=l(u,d);return d-1>=c&&(p|=l(u,d-1)<<4),p}i.prototype._parseHex=function(c,d,p){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var S=0,m=0,s;if(p==="be")for(w=c.length-1;w>=d;w-=2)s=v(c,d,w)<<S,this.words[m]|=s&67108863,S>=18?(S-=18,m+=1,this.words[m]|=s>>>26):S+=8;else{var y=c.length-d;for(w=y%2===0?d+1:d;w<c.length;w+=2)s=v(c,d,w)<<S,this.words[m]|=s&67108863,S>=18?(S-=18,m+=1,this.words[m]|=s>>>26):S+=8}this._strip()};function h(u,c,d,p){for(var w=0,S=0,m=Math.min(u.length,d),s=c;s<m;s++){var y=u.charCodeAt(s)-48;w*=p,y>=49?S=y-49+10:y>=17?S=y-17+10:S=y,n(y>=0&&S<p,"Invalid character"),w+=S}return w}i.prototype._parseBase=function(c,d,p){this.words=[0],this.length=1;for(var w=0,S=1;S<=67108863;S*=d)w++;w--,S=S/d|0;for(var m=c.length-p,s=m%w,y=Math.min(m,m-s)+p,x=0,C=p;C<y;C+=w)x=h(c,C,C+w,d),this.imuln(S),this.words[0]+x<67108864?this.words[0]+=x:this._iaddn(x);if(s!==0){var N=1;for(x=h(c,C,c.length,d),C=0;C<s;C++)N*=d;this.imuln(N),this.words[0]+x<67108864?this.words[0]+=x:this._iaddn(x)}this._strip()},i.prototype.copy=function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red};function g(u,c){u.words=c.words,u.length=c.length,u.negative=c.negative,u.red=c.red}if(i.prototype._move=function(c){g(c,this)},i.prototype.clone=function(){var c=new i(null);return this.copy(c),c},i.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=_}catch{i.prototype.inspect=_}else i.prototype.inspect=_;function _(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var M=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(c,d){c=c||10,d=d|0||1;var p;if(c===16||c==="hex"){p="";for(var w=0,S=0,m=0;m<this.length;m++){var s=this.words[m],y=((s<<w|S)&16777215).toString(16);S=s>>>24-w&16777215,w+=2,w>=26&&(w-=26,m--),S!==0||m!==this.length-1?p=M[6-y.length]+y+p:p=y+p}for(S!==0&&(p=S.toString(16)+p);p.length%d!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(c===(c|0)&&c>=2&&c<=36){var x=E[c],C=A[c];p="";var N=this.clone();for(N.negative=0;!N.isZero();){var j=N.modrn(C).toString(c);N=N.idivn(C),N.isZero()?p=j+p:p=M[x-j.length]+j+p}for(this.isZero()&&(p="0"+p);p.length%d!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},i.prototype.toJSON=function(){return this.toString(16,2)},f&&(i.prototype.toBuffer=function(c,d){return this.toArrayLike(f,c,d)}),i.prototype.toArray=function(c,d){return this.toArrayLike(Array,c,d)};var I=function(c,d){return c.allocUnsafe?c.allocUnsafe(d):new c(d)};i.prototype.toArrayLike=function(c,d,p){this._strip();var w=this.byteLength(),S=p||Math.max(1,w);n(w<=S,"byte array longer than desired length"),n(S>0,"Requested array length <= 0");var m=I(c,S),s=d==="le"?"LE":"BE";return this["_toArrayLike"+s](m,w),m},i.prototype._toArrayLikeLE=function(c,d){for(var p=0,w=0,S=0,m=0;S<this.length;S++){var s=this.words[S]<<m|w;c[p++]=s&255,p<c.length&&(c[p++]=s>>8&255),p<c.length&&(c[p++]=s>>16&255),m===6?(p<c.length&&(c[p++]=s>>24&255),w=0,m=0):(w=s>>>24,m+=2)}if(p<c.length)for(c[p++]=w;p<c.length;)c[p++]=0},i.prototype._toArrayLikeBE=function(c,d){for(var p=c.length-1,w=0,S=0,m=0;S<this.length;S++){var s=this.words[S]<<m|w;c[p--]=s&255,p>=0&&(c[p--]=s>>8&255),p>=0&&(c[p--]=s>>16&255),m===6?(p>=0&&(c[p--]=s>>24&255),w=0,m=0):(w=s>>>24,m+=2)}if(p>=0)for(c[p--]=w;p>=0;)c[p--]=0},Math.clz32?i.prototype._countBits=function(c){return 32-Math.clz32(c)}:i.prototype._countBits=function(c){var d=c,p=0;return d>=4096&&(p+=13,d>>>=13),d>=64&&(p+=7,d>>>=7),d>=8&&(p+=4,d>>>=4),d>=2&&(p+=2,d>>>=2),p+d},i.prototype._zeroBits=function(c){if(c===0)return 26;var d=c,p=0;return(d&8191)===0&&(p+=13,d>>>=13),(d&127)===0&&(p+=7,d>>>=7),(d&15)===0&&(p+=4,d>>>=4),(d&3)===0&&(p+=2,d>>>=2),(d&1)===0&&p++,p},i.prototype.bitLength=function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d};function O(u){for(var c=new Array(u.bitLength()),d=0;d<c.length;d++){var p=d/26|0,w=d%26;c[d]=u.words[p]>>>w&1}return c}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var p=this._zeroBits(this.words[d]);if(c+=p,p!==26)break}return c},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},i.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this._strip()},i.prototype.ior=function(c){return n((this.negative|c.negative)===0),this.iuor(c)},i.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},i.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},i.prototype.iuand=function(c){var d;this.length>c.length?d=c:d=this;for(var p=0;p<d.length;p++)this.words[p]=this.words[p]&c.words[p];return this.length=d.length,this._strip()},i.prototype.iand=function(c){return n((this.negative|c.negative)===0),this.iuand(c)},i.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},i.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},i.prototype.iuxor=function(c){var d,p;this.length>c.length?(d=this,p=c):(d=c,p=this);for(var w=0;w<p.length;w++)this.words[w]=d.words[w]^p.words[w];if(this!==d)for(;w<d.length;w++)this.words[w]=d.words[w];return this.length=d.length,this._strip()},i.prototype.ixor=function(c){return n((this.negative|c.negative)===0),this.iuxor(c)},i.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},i.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},i.prototype.inotn=function(c){n(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,p=c%26;this._expand(d),p>0&&d--;for(var w=0;w<d;w++)this.words[w]=~this.words[w]&67108863;return p>0&&(this.words[w]=~this.words[w]&67108863>>26-p),this._strip()},i.prototype.notn=function(c){return this.clone().inotn(c)},i.prototype.setn=function(c,d){n(typeof c=="number"&&c>=0);var p=c/26|0,w=c%26;return this._expand(p+1),d?this.words[p]=this.words[p]|1<<w:this.words[p]=this.words[p]&~(1<<w),this._strip()},i.prototype.iadd=function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var p,w;this.length>c.length?(p=this,w=c):(p=c,w=this);for(var S=0,m=0;m<w.length;m++)d=(p.words[m]|0)+(w.words[m]|0)+S,this.words[m]=d&67108863,S=d>>>26;for(;S!==0&&m<p.length;m++)d=(p.words[m]|0)+S,this.words[m]=d&67108863,S=d>>>26;if(this.length=p.length,S!==0)this.words[this.length]=S,this.length++;else if(p!==this)for(;m<p.length;m++)this.words[m]=p.words[m];return this},i.prototype.add=function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},i.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var p=this.cmp(c);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var w,S;p>0?(w=this,S=c):(w=c,S=this);for(var m=0,s=0;s<S.length;s++)d=(w.words[s]|0)-(S.words[s]|0)+m,m=d>>26,this.words[s]=d&67108863;for(;m!==0&&s<w.length;s++)d=(w.words[s]|0)+m,m=d>>26,this.words[s]=d&67108863;if(m===0&&s<w.length&&w!==this)for(;s<w.length;s++)this.words[s]=w.words[s];return this.length=Math.max(this.length,s),w!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(c){return this.clone().isub(c)};function T(u,c,d){d.negative=c.negative^u.negative;var p=u.length+c.length|0;d.length=p,p=p-1|0;var w=u.words[0]|0,S=c.words[0]|0,m=w*S,s=m&67108863,y=m/67108864|0;d.words[0]=s;for(var x=1;x<p;x++){for(var C=y>>>26,N=y&67108863,j=Math.min(x,c.length-1),B=Math.max(0,x-u.length+1);B<=j;B++){var L=x-B|0;w=u.words[L]|0,S=c.words[B]|0,m=w*S+N,C+=m/67108864|0,N=m&67108863}d.words[x]=N|0,y=C|0}return y!==0?d.words[x]=y|0:d.length--,d._strip()}var P=function(c,d,p){var w=c.words,S=d.words,m=p.words,s=0,y,x,C,N=w[0]|0,j=N&8191,B=N>>>13,L=w[1]|0,Y=L&8191,G=L>>>13,Z=w[2]|0,K=Z&8191,U=Z>>>13,W=w[3]|0,Te=W&8191,ee=W>>>13,re=w[4]|0,De=re&8191,ie=re>>>13,J=w[5]|0,qe=J&8191,ae=J>>>13,be=w[6]|0,Ge=be&8191,H=be>>>13,X=w[7]|0,Q=X&8191,te=X>>>13,ce=w[8]|0,Ke=ce&8191,he=ce>>>13,oe=w[9]|0,We=oe&8191,fe=oe>>>13,Ce=S[0]|0,et=Ce&8191,le=Ce>>>13,we=S[1]|0,Ze=we&8191,me=we>>>13,xe=S[2]|0,tt=xe&8191,ne=xe>>>13,_e=S[3]|0,Je=_e&8191,de=_e>>>13,Ae=S[4]|0,st=Ae&8191,ve=Ae>>>13,Ie=S[5]|0,Qe=Ie&8191,ye=Ie>>>13,Pe=S[6]|0,rt=Pe&8191,ge=Pe>>>13,Oe=S[7]|0,ot=Oe&8191,Se=Oe>>>13,ke=S[8]|0,ft=ke&8191,Me=ke>>>13,Re=S[9]|0,nt=Re&8191,it=Re>>>13;p.negative=c.negative^d.negative,p.length=19,y=Math.imul(j,et),x=Math.imul(j,le),x=x+Math.imul(B,et)|0,C=Math.imul(B,le);var It=(s+y|0)+((x&8191)<<13)|0;s=(C+(x>>>13)|0)+(It>>>26)|0,It&=67108863,y=Math.imul(Y,et),x=Math.imul(Y,le),x=x+Math.imul(G,et)|0,C=Math.imul(G,le),y=y+Math.imul(j,Ze)|0,x=x+Math.imul(j,me)|0,x=x+Math.imul(B,Ze)|0,C=C+Math.imul(B,me)|0;var Tt=(s+y|0)+((x&8191)<<13)|0;s=(C+(x>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,y=Math.imul(K,et),x=Math.imul(K,le),x=x+Math.imul(U,et)|0,C=Math.imul(U,le),y=y+Math.imul(Y,Ze)|0,x=x+Math.imul(Y,me)|0,x=x+Math.imul(G,Ze)|0,C=C+Math.imul(G,me)|0,y=y+Math.imul(j,tt)|0,x=x+Math.imul(j,ne)|0,x=x+Math.imul(B,tt)|0,C=C+Math.imul(B,ne)|0;var Ct=(s+y|0)+((x&8191)<<13)|0;s=(C+(x>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,y=Math.imul(Te,et),x=Math.imul(Te,le),x=x+Math.imul(ee,et)|0,C=Math.imul(ee,le),y=y+Math.imul(K,Ze)|0,x=x+Math.imul(K,me)|0,x=x+Math.imul(U,Ze)|0,C=C+Math.imul(U,me)|0,y=y+Math.imul(Y,tt)|0,x=x+Math.imul(Y,ne)|0,x=x+Math.imul(G,tt)|0,C=C+Math.imul(G,ne)|0,y=y+Math.imul(j,Je)|0,x=x+Math.imul(j,de)|0,x=x+Math.imul(B,Je)|0,C=C+Math.imul(B,de)|0;var Ot=(s+y|0)+((x&8191)<<13)|0;s=(C+(x>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,y=Math.imul(De,et),x=Math.imul(De,le),x=x+Math.imul(ie,et)|0,C=Math.imul(ie,le),y=y+Math.imul(Te,Ze)|0,x=x+Math.imul(Te,me)|0,x=x+Math.imul(ee,Ze)|0,C=C+Math.imul(ee,me)|0,y=y+Math.imul(K,tt)|0,x=x+Math.imul(K,ne)|0,x=x+Math.imul(U,tt)|0,C=C+Math.imul(U,ne)|0,y=y+Math.imul(Y,Je)|0,x=x+Math.imul(Y,de)|0,x=x+Math.imul(G,Je)|0,C=C+Math.imul(G,de)|0,y=y+Math.imul(j,st)|0,x=x+Math.imul(j,ve)|0,x=x+Math.imul(B,st)|0,C=C+Math.imul(B,ve)|0;var Pt=(s+y|0)+((x&8191)<<13)|0;s=(C+(x>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,y=Math.imul(qe,et),x=Math.imul(qe,le),x=x+Math.imul(ae,et)|0,C=Math.imul(ae,le),y=y+Math.imul(De,Ze)|0,x=x+Math.imul(De,me)|0,x=x+Math.imul(ie,Ze)|0,C=C+Math.imul(ie,me)|0,y=y+Math.imul(Te,tt)|0,x=x+Math.imul(Te,ne)|0,x=x+Math.imul(ee,tt)|0,C=C+Math.imul(ee,ne)|0,y=y+Math.imul(K,Je)|0,x=x+Math.imul(K,de)|0,x=x+Math.imul(U,Je)|0,C=C+Math.imul(U,de)|0,y=y+Math.imul(Y,st)|0,x=x+Math.imul(Y,ve)|0,x=x+Math.imul(G,st)|0,C=C+Math.imul(G,ve)|0,y=y+Math.imul(j,Qe)|0,x=x+Math.imul(j,ye)|0,x=x+Math.imul(B,Qe)|0,C=C+Math.imul(B,ye)|0;var kt=(s+y|0)+((x&8191)<<13)|0;s=(C+(x>>>13)|0)+(kt>>>26)|0,kt&=67108863,y=Math.imul(Ge,et),x=Math.imul(Ge,le),x=x+Math.imul(H,et)|0,C=Math.imul(H,le),y=y+Math.imul(qe,Ze)|0,x=x+Math.imul(qe,me)|0,x=x+Math.imul(ae,Ze)|0,C=C+Math.imul(ae,me)|0,y=y+Math.imul(De,tt)|0,x=x+Math.imul(De,ne)|0,x=x+Math.imul(ie,tt)|0,C=C+Math.imul(ie,ne)|0,y=y+Math.imul(Te,Je)|0,x=x+Math.imul(Te,de)|0,x=x+Math.imul(ee,Je)|0,C=C+Math.imul(ee,de)|0,y=y+Math.imul(K,st)|0,x=x+Math.imul(K,ve)|0,x=x+Math.imul(U,st)|0,C=C+Math.imul(U,ve)|0,y=y+Math.imul(Y,Qe)|0,x=x+Math.imul(Y,ye)|0,x=x+Math.imul(G,Qe)|0,C=C+Math.imul(G,ye)|0,y=y+Math.imul(j,rt)|0,x=x+Math.imul(j,ge)|0,x=x+Math.imul(B,rt)|0,C=C+Math.imul(B,ge)|0;var Rt=(s+y|0)+((x&8191)<<13)|0;s=(C+(x>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,y=Math.imul(Q,et),x=Math.imul(Q,le),x=x+Math.imul(te,et)|0,C=Math.imul(te,le),y=y+Math.imul(Ge,Ze)|0,x=x+Math.imul(Ge,me)|0,x=x+Math.imul(H,Ze)|0,C=C+Math.imul(H,me)|0,y=y+Math.imul(qe,tt)|0,x=x+Math.imul(qe,ne)|0,x=x+Math.imul(ae,tt)|0,C=C+Math.imul(ae,ne)|0,y=y+Math.imul(De,Je)|0,x=x+Math.imul(De,de)|0,x=x+Math.imul(ie,Je)|0,C=C+Math.imul(ie,de)|0,y=y+Math.imul(Te,st)|0,x=x+Math.imul(Te,ve)|0,x=x+Math.imul(ee,st)|0,C=C+Math.imul(ee,ve)|0,y=y+Math.imul(K,Qe)|0,x=x+Math.imul(K,ye)|0,x=x+Math.imul(U,Qe)|0,C=C+Math.imul(U,ye)|0,y=y+Math.imul(Y,rt)|0,x=x+Math.imul(Y,ge)|0,x=x+Math.imul(G,rt)|0,C=C+Math.imul(G,ge)|0,y=y+Math.imul(j,ot)|0,x=x+Math.imul(j,Se)|0,x=x+Math.imul(B,ot)|0,C=C+Math.imul(B,Se)|0;var Nt=(s+y|0)+((x&8191)<<13)|0;s=(C+(x>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,y=Math.imul(Ke,et),x=Math.imul(Ke,le),x=x+Math.imul(he,et)|0,C=Math.imul(he,le),y=y+Math.imul(Q,Ze)|0,x=x+Math.imul(Q,me)|0,x=x+Math.imul(te,Ze)|0,C=C+Math.imul(te,me)|0,y=y+Math.imul(Ge,tt)|0,x=x+Math.imul(Ge,ne)|0,x=x+Math.imul(H,tt)|0,C=C+Math.imul(H,ne)|0,y=y+Math.imul(qe,Je)|0,x=x+Math.imul(qe,de)|0,x=x+Math.imul(ae,Je)|0,C=C+Math.imul(ae,de)|0,y=y+Math.imul(De,st)|0,x=x+Math.imul(De,ve)|0,x=x+Math.imul(ie,st)|0,C=C+Math.imul(ie,ve)|0,y=y+Math.imul(Te,Qe)|0,x=x+Math.imul(Te,ye)|0,x=x+Math.imul(ee,Qe)|0,C=C+Math.imul(ee,ye)|0,y=y+Math.imul(K,rt)|0,x=x+Math.imul(K,ge)|0,x=x+Math.imul(U,rt)|0,C=C+Math.imul(U,ge)|0,y=y+Math.imul(Y,ot)|0,x=x+Math.imul(Y,Se)|0,x=x+Math.imul(G,ot)|0,C=C+Math.imul(G,Se)|0,y=y+Math.imul(j,ft)|0,x=x+Math.imul(j,Me)|0,x=x+Math.imul(B,ft)|0,C=C+Math.imul(B,Me)|0;var Dt=(s+y|0)+((x&8191)<<13)|0;s=(C+(x>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,y=Math.imul(We,et),x=Math.imul(We,le),x=x+Math.imul(fe,et)|0,C=Math.imul(fe,le),y=y+Math.imul(Ke,Ze)|0,x=x+Math.imul(Ke,me)|0,x=x+Math.imul(he,Ze)|0,C=C+Math.imul(he,me)|0,y=y+Math.imul(Q,tt)|0,x=x+Math.imul(Q,ne)|0,x=x+Math.imul(te,tt)|0,C=C+Math.imul(te,ne)|0,y=y+Math.imul(Ge,Je)|0,x=x+Math.imul(Ge,de)|0,x=x+Math.imul(H,Je)|0,C=C+Math.imul(H,de)|0,y=y+Math.imul(qe,st)|0,x=x+Math.imul(qe,ve)|0,x=x+Math.imul(ae,st)|0,C=C+Math.imul(ae,ve)|0,y=y+Math.imul(De,Qe)|0,x=x+Math.imul(De,ye)|0,x=x+Math.imul(ie,Qe)|0,C=C+Math.imul(ie,ye)|0,y=y+Math.imul(Te,rt)|0,x=x+Math.imul(Te,ge)|0,x=x+Math.imul(ee,rt)|0,C=C+Math.imul(ee,ge)|0,y=y+Math.imul(K,ot)|0,x=x+Math.imul(K,Se)|0,x=x+Math.imul(U,ot)|0,C=C+Math.imul(U,Se)|0,y=y+Math.imul(Y,ft)|0,x=x+Math.imul(Y,Me)|0,x=x+Math.imul(G,ft)|0,C=C+Math.imul(G,Me)|0,y=y+Math.imul(j,nt)|0,x=x+Math.imul(j,it)|0,x=x+Math.imul(B,nt)|0,C=C+Math.imul(B,it)|0;var Bt=(s+y|0)+((x&8191)<<13)|0;s=(C+(x>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,y=Math.imul(We,Ze),x=Math.imul(We,me),x=x+Math.imul(fe,Ze)|0,C=Math.imul(fe,me),y=y+Math.imul(Ke,tt)|0,x=x+Math.imul(Ke,ne)|0,x=x+Math.imul(he,tt)|0,C=C+Math.imul(he,ne)|0,y=y+Math.imul(Q,Je)|0,x=x+Math.imul(Q,de)|0,x=x+Math.imul(te,Je)|0,C=C+Math.imul(te,de)|0,y=y+Math.imul(Ge,st)|0,x=x+Math.imul(Ge,ve)|0,x=x+Math.imul(H,st)|0,C=C+Math.imul(H,ve)|0,y=y+Math.imul(qe,Qe)|0,x=x+Math.imul(qe,ye)|0,x=x+Math.imul(ae,Qe)|0,C=C+Math.imul(ae,ye)|0,y=y+Math.imul(De,rt)|0,x=x+Math.imul(De,ge)|0,x=x+Math.imul(ie,rt)|0,C=C+Math.imul(ie,ge)|0,y=y+Math.imul(Te,ot)|0,x=x+Math.imul(Te,Se)|0,x=x+Math.imul(ee,ot)|0,C=C+Math.imul(ee,Se)|0,y=y+Math.imul(K,ft)|0,x=x+Math.imul(K,Me)|0,x=x+Math.imul(U,ft)|0,C=C+Math.imul(U,Me)|0,y=y+Math.imul(Y,nt)|0,x=x+Math.imul(Y,it)|0,x=x+Math.imul(G,nt)|0,C=C+Math.imul(G,it)|0;var Ut=(s+y|0)+((x&8191)<<13)|0;s=(C+(x>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,y=Math.imul(We,tt),x=Math.imul(We,ne),x=x+Math.imul(fe,tt)|0,C=Math.imul(fe,ne),y=y+Math.imul(Ke,Je)|0,x=x+Math.imul(Ke,de)|0,x=x+Math.imul(he,Je)|0,C=C+Math.imul(he,de)|0,y=y+Math.imul(Q,st)|0,x=x+Math.imul(Q,ve)|0,x=x+Math.imul(te,st)|0,C=C+Math.imul(te,ve)|0,y=y+Math.imul(Ge,Qe)|0,x=x+Math.imul(Ge,ye)|0,x=x+Math.imul(H,Qe)|0,C=C+Math.imul(H,ye)|0,y=y+Math.imul(qe,rt)|0,x=x+Math.imul(qe,ge)|0,x=x+Math.imul(ae,rt)|0,C=C+Math.imul(ae,ge)|0,y=y+Math.imul(De,ot)|0,x=x+Math.imul(De,Se)|0,x=x+Math.imul(ie,ot)|0,C=C+Math.imul(ie,Se)|0,y=y+Math.imul(Te,ft)|0,x=x+Math.imul(Te,Me)|0,x=x+Math.imul(ee,ft)|0,C=C+Math.imul(ee,Me)|0,y=y+Math.imul(K,nt)|0,x=x+Math.imul(K,it)|0,x=x+Math.imul(U,nt)|0,C=C+Math.imul(U,it)|0;var Ft=(s+y|0)+((x&8191)<<13)|0;s=(C+(x>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,y=Math.imul(We,Je),x=Math.imul(We,de),x=x+Math.imul(fe,Je)|0,C=Math.imul(fe,de),y=y+Math.imul(Ke,st)|0,x=x+Math.imul(Ke,ve)|0,x=x+Math.imul(he,st)|0,C=C+Math.imul(he,ve)|0,y=y+Math.imul(Q,Qe)|0,x=x+Math.imul(Q,ye)|0,x=x+Math.imul(te,Qe)|0,C=C+Math.imul(te,ye)|0,y=y+Math.imul(Ge,rt)|0,x=x+Math.imul(Ge,ge)|0,x=x+Math.imul(H,rt)|0,C=C+Math.imul(H,ge)|0,y=y+Math.imul(qe,ot)|0,x=x+Math.imul(qe,Se)|0,x=x+Math.imul(ae,ot)|0,C=C+Math.imul(ae,Se)|0,y=y+Math.imul(De,ft)|0,x=x+Math.imul(De,Me)|0,x=x+Math.imul(ie,ft)|0,C=C+Math.imul(ie,Me)|0,y=y+Math.imul(Te,nt)|0,x=x+Math.imul(Te,it)|0,x=x+Math.imul(ee,nt)|0,C=C+Math.imul(ee,it)|0;var Lt=(s+y|0)+((x&8191)<<13)|0;s=(C+(x>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,y=Math.imul(We,st),x=Math.imul(We,ve),x=x+Math.imul(fe,st)|0,C=Math.imul(fe,ve),y=y+Math.imul(Ke,Qe)|0,x=x+Math.imul(Ke,ye)|0,x=x+Math.imul(he,Qe)|0,C=C+Math.imul(he,ye)|0,y=y+Math.imul(Q,rt)|0,x=x+Math.imul(Q,ge)|0,x=x+Math.imul(te,rt)|0,C=C+Math.imul(te,ge)|0,y=y+Math.imul(Ge,ot)|0,x=x+Math.imul(Ge,Se)|0,x=x+Math.imul(H,ot)|0,C=C+Math.imul(H,Se)|0,y=y+Math.imul(qe,ft)|0,x=x+Math.imul(qe,Me)|0,x=x+Math.imul(ae,ft)|0,C=C+Math.imul(ae,Me)|0,y=y+Math.imul(De,nt)|0,x=x+Math.imul(De,it)|0,x=x+Math.imul(ie,nt)|0,C=C+Math.imul(ie,it)|0;var qt=(s+y|0)+((x&8191)<<13)|0;s=(C+(x>>>13)|0)+(qt>>>26)|0,qt&=67108863,y=Math.imul(We,Qe),x=Math.imul(We,ye),x=x+Math.imul(fe,Qe)|0,C=Math.imul(fe,ye),y=y+Math.imul(Ke,rt)|0,x=x+Math.imul(Ke,ge)|0,x=x+Math.imul(he,rt)|0,C=C+Math.imul(he,ge)|0,y=y+Math.imul(Q,ot)|0,x=x+Math.imul(Q,Se)|0,x=x+Math.imul(te,ot)|0,C=C+Math.imul(te,Se)|0,y=y+Math.imul(Ge,ft)|0,x=x+Math.imul(Ge,Me)|0,x=x+Math.imul(H,ft)|0,C=C+Math.imul(H,Me)|0,y=y+Math.imul(qe,nt)|0,x=x+Math.imul(qe,it)|0,x=x+Math.imul(ae,nt)|0,C=C+Math.imul(ae,it)|0;var jt=(s+y|0)+((x&8191)<<13)|0;s=(C+(x>>>13)|0)+(jt>>>26)|0,jt&=67108863,y=Math.imul(We,rt),x=Math.imul(We,ge),x=x+Math.imul(fe,rt)|0,C=Math.imul(fe,ge),y=y+Math.imul(Ke,ot)|0,x=x+Math.imul(Ke,Se)|0,x=x+Math.imul(he,ot)|0,C=C+Math.imul(he,Se)|0,y=y+Math.imul(Q,ft)|0,x=x+Math.imul(Q,Me)|0,x=x+Math.imul(te,ft)|0,C=C+Math.imul(te,Me)|0,y=y+Math.imul(Ge,nt)|0,x=x+Math.imul(Ge,it)|0,x=x+Math.imul(H,nt)|0,C=C+Math.imul(H,it)|0;var $t=(s+y|0)+((x&8191)<<13)|0;s=(C+(x>>>13)|0)+($t>>>26)|0,$t&=67108863,y=Math.imul(We,ot),x=Math.imul(We,Se),x=x+Math.imul(fe,ot)|0,C=Math.imul(fe,Se),y=y+Math.imul(Ke,ft)|0,x=x+Math.imul(Ke,Me)|0,x=x+Math.imul(he,ft)|0,C=C+Math.imul(he,Me)|0,y=y+Math.imul(Q,nt)|0,x=x+Math.imul(Q,it)|0,x=x+Math.imul(te,nt)|0,C=C+Math.imul(te,it)|0;var Vt=(s+y|0)+((x&8191)<<13)|0;s=(C+(x>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,y=Math.imul(We,ft),x=Math.imul(We,Me),x=x+Math.imul(fe,ft)|0,C=Math.imul(fe,Me),y=y+Math.imul(Ke,nt)|0,x=x+Math.imul(Ke,it)|0,x=x+Math.imul(he,nt)|0,C=C+Math.imul(he,it)|0;var Gl=(s+y|0)+((x&8191)<<13)|0;s=(C+(x>>>13)|0)+(Gl>>>26)|0,Gl&=67108863,y=Math.imul(We,nt),x=Math.imul(We,it),x=x+Math.imul(fe,nt)|0,C=Math.imul(fe,it);var Wl=(s+y|0)+((x&8191)<<13)|0;return s=(C+(x>>>13)|0)+(Wl>>>26)|0,Wl&=67108863,m[0]=It,m[1]=Tt,m[2]=Ct,m[3]=Ot,m[4]=Pt,m[5]=kt,m[6]=Rt,m[7]=Nt,m[8]=Dt,m[9]=Bt,m[10]=Ut,m[11]=Ft,m[12]=Lt,m[13]=qt,m[14]=jt,m[15]=$t,m[16]=Vt,m[17]=Gl,m[18]=Wl,s!==0&&(m[19]=s,p.length++),p};Math.imul||(P=T);function k(u,c,d){d.negative=c.negative^u.negative,d.length=u.length+c.length;for(var p=0,w=0,S=0;S<d.length-1;S++){var m=w;w=0;for(var s=p&67108863,y=Math.min(S,c.length-1),x=Math.max(0,S-u.length+1);x<=y;x++){var C=S-x,N=u.words[C]|0,j=c.words[x]|0,B=N*j,L=B&67108863;m=m+(B/67108864|0)|0,L=L+s|0,s=L&67108863,m=m+(L>>>26)|0,w+=m>>>26,m&=67108863}d.words[S]=s,p=m,m=w}return p!==0?d.words[S]=p:d.length--,d._strip()}function R(u,c,d){return k(u,c,d)}i.prototype.mulTo=function(c,d){var p,w=this.length+c.length;return this.length===10&&c.length===10?p=P(this,c,d):w<63?p=T(this,c,d):w<1024?p=k(this,c,d):p=R(this,c,d),p},i.prototype.mul=function(c){var d=new i(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},i.prototype.mulf=function(c){var d=new i(null);return d.words=new Array(this.length+c.length),R(this,c,d)},i.prototype.imul=function(c){return this.clone().mulTo(c,this)},i.prototype.imuln=function(c){var d=c<0;d&&(c=-c),n(typeof c=="number"),n(c<67108864);for(var p=0,w=0;w<this.length;w++){var S=(this.words[w]|0)*c,m=(S&67108863)+(p&67108863);p>>=26,p+=S/67108864|0,p+=m>>>26,this.words[w]=m&67108863}return p!==0&&(this.words[w]=p,this.length++),d?this.ineg():this},i.prototype.muln=function(c){return this.clone().imuln(c)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(c){var d=O(c);if(d.length===0)return new i(1);for(var p=this,w=0;w<d.length&&d[w]===0;w++,p=p.sqr());if(++w<d.length)for(var S=p.sqr();w<d.length;w++,S=S.sqr())d[w]!==0&&(p=p.mul(S));return p},i.prototype.iushln=function(c){n(typeof c=="number"&&c>=0);var d=c%26,p=(c-d)/26,w=67108863>>>26-d<<26-d,S;if(d!==0){var m=0;for(S=0;S<this.length;S++){var s=this.words[S]&w,y=(this.words[S]|0)-s<<d;this.words[S]=y|m,m=s>>>26-d}m&&(this.words[S]=m,this.length++)}if(p!==0){for(S=this.length-1;S>=0;S--)this.words[S+p]=this.words[S];for(S=0;S<p;S++)this.words[S]=0;this.length+=p}return this._strip()},i.prototype.ishln=function(c){return n(this.negative===0),this.iushln(c)},i.prototype.iushrn=function(c,d,p){n(typeof c=="number"&&c>=0);var w;d?w=(d-d%26)/26:w=0;var S=c%26,m=Math.min((c-S)/26,this.length),s=67108863^67108863>>>S<<S,y=p;if(w-=m,w=Math.max(0,w),y){for(var x=0;x<m;x++)y.words[x]=this.words[x];y.length=m}if(m!==0)if(this.length>m)for(this.length-=m,x=0;x<this.length;x++)this.words[x]=this.words[x+m];else this.words[0]=0,this.length=1;var C=0;for(x=this.length-1;x>=0&&(C!==0||x>=w);x--){var N=this.words[x]|0;this.words[x]=C<<26-S|N>>>S,C=N&s}return y&&C!==0&&(y.words[y.length++]=C),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(c,d,p){return n(this.negative===0),this.iushrn(c,d,p)},i.prototype.shln=function(c){return this.clone().ishln(c)},i.prototype.ushln=function(c){return this.clone().iushln(c)},i.prototype.shrn=function(c){return this.clone().ishrn(c)},i.prototype.ushrn=function(c){return this.clone().iushrn(c)},i.prototype.testn=function(c){n(typeof c=="number"&&c>=0);var d=c%26,p=(c-d)/26,w=1<<d;if(this.length<=p)return!1;var S=this.words[p];return!!(S&w)},i.prototype.imaskn=function(c){n(typeof c=="number"&&c>=0);var d=c%26,p=(c-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(d!==0&&p++,this.length=Math.min(p,this.length),d!==0){var w=67108863^67108863>>>d<<d;this.words[this.length-1]&=w}return this._strip()},i.prototype.maskn=function(c){return this.clone().imaskn(c)},i.prototype.iaddn=function(c){return n(typeof c=="number"),n(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<=c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},i.prototype._iaddn=function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},i.prototype.isubn=function(c){if(n(typeof c=="number"),n(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},i.prototype.addn=function(c){return this.clone().iaddn(c)},i.prototype.subn=function(c){return this.clone().isubn(c)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(c,d,p){var w=c.length+p,S;this._expand(w);var m,s=0;for(S=0;S<c.length;S++){m=(this.words[S+p]|0)+s;var y=(c.words[S]|0)*d;m-=y&67108863,s=(m>>26)-(y/67108864|0),this.words[S+p]=m&67108863}for(;S<this.length-p;S++)m=(this.words[S+p]|0)+s,s=m>>26,this.words[S+p]=m&67108863;if(s===0)return this._strip();for(n(s===-1),s=0,S=0;S<this.length;S++)m=-(this.words[S]|0)+s,s=m>>26,this.words[S]=m&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(c,d){var p=this.length-c.length,w=this.clone(),S=c,m=S.words[S.length-1]|0,s=this._countBits(m);p=26-s,p!==0&&(S=S.ushln(p),w.iushln(p),m=S.words[S.length-1]|0);var y=w.length-S.length,x;if(d!=="mod"){x=new i(null),x.length=y+1,x.words=new Array(x.length);for(var C=0;C<x.length;C++)x.words[C]=0}var N=w.clone()._ishlnsubmul(S,1,y);N.negative===0&&(w=N,x&&(x.words[y]=1));for(var j=y-1;j>=0;j--){var B=(w.words[S.length+j]|0)*67108864+(w.words[S.length+j-1]|0);for(B=Math.min(B/m|0,67108863),w._ishlnsubmul(S,B,j);w.negative!==0;)B--,w.negative=0,w._ishlnsubmul(S,1,j),w.isZero()||(w.negative^=1);x&&(x.words[j]=B)}return x&&x._strip(),w._strip(),d!=="div"&&p!==0&&w.iushrn(p),{div:x||null,mod:w}},i.prototype.divmod=function(c,d,p){if(n(!c.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var w,S,m;return this.negative!==0&&c.negative===0?(m=this.neg().divmod(c,d),d!=="mod"&&(w=m.div.neg()),d!=="div"&&(S=m.mod.neg(),p&&S.negative!==0&&S.iadd(c)),{div:w,mod:S}):this.negative===0&&c.negative!==0?(m=this.divmod(c.neg(),d),d!=="mod"&&(w=m.div.neg()),{div:w,mod:m.mod}):(this.negative&c.negative)!==0?(m=this.neg().divmod(c.neg(),d),d!=="div"&&(S=m.mod.neg(),p&&S.negative!==0&&S.isub(c)),{div:m.div,mod:S}):c.length>this.length||this.cmp(c)<0?{div:new i(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modrn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new i(this.modrn(c.words[0]))}:this._wordDiv(c,d)},i.prototype.div=function(c){return this.divmod(c,"div",!1).div},i.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},i.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},i.prototype.divRound=function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var p=d.div.negative!==0?d.mod.isub(c):d.mod,w=c.ushrn(1),S=c.andln(1),m=p.cmp(w);return m<0||S===1&&m===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},i.prototype.modrn=function(c){var d=c<0;d&&(c=-c),n(c<=67108863);for(var p=(1<<26)%c,w=0,S=this.length-1;S>=0;S--)w=(p*w+(this.words[S]|0))%c;return d?-w:w},i.prototype.modn=function(c){return this.modrn(c)},i.prototype.idivn=function(c){var d=c<0;d&&(c=-c),n(c<=67108863);for(var p=0,w=this.length-1;w>=0;w--){var S=(this.words[w]|0)+p*67108864;this.words[w]=S/c|0,p=S%c}return this._strip(),d?this.ineg():this},i.prototype.divn=function(c){return this.clone().idivn(c)},i.prototype.egcd=function(c){n(c.negative===0),n(!c.isZero());var d=this,p=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var w=new i(1),S=new i(0),m=new i(0),s=new i(1),y=0;d.isEven()&&p.isEven();)d.iushrn(1),p.iushrn(1),++y;for(var x=p.clone(),C=d.clone();!d.isZero();){for(var N=0,j=1;(d.words[0]&j)===0&&N<26;++N,j<<=1);if(N>0)for(d.iushrn(N);N-- >0;)(w.isOdd()||S.isOdd())&&(w.iadd(x),S.isub(C)),w.iushrn(1),S.iushrn(1);for(var B=0,L=1;(p.words[0]&L)===0&&B<26;++B,L<<=1);if(B>0)for(p.iushrn(B);B-- >0;)(m.isOdd()||s.isOdd())&&(m.iadd(x),s.isub(C)),m.iushrn(1),s.iushrn(1);d.cmp(p)>=0?(d.isub(p),w.isub(m),S.isub(s)):(p.isub(d),m.isub(w),s.isub(S))}return{a:m,b:s,gcd:p.iushln(y)}},i.prototype._invmp=function(c){n(c.negative===0),n(!c.isZero());var d=this,p=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var w=new i(1),S=new i(0),m=p.clone();d.cmpn(1)>0&&p.cmpn(1)>0;){for(var s=0,y=1;(d.words[0]&y)===0&&s<26;++s,y<<=1);if(s>0)for(d.iushrn(s);s-- >0;)w.isOdd()&&w.iadd(m),w.iushrn(1);for(var x=0,C=1;(p.words[0]&C)===0&&x<26;++x,C<<=1);if(x>0)for(p.iushrn(x);x-- >0;)S.isOdd()&&S.iadd(m),S.iushrn(1);d.cmp(p)>=0?(d.isub(p),w.isub(S)):(p.isub(d),S.isub(w))}var N;return d.cmpn(1)===0?N=w:N=S,N.cmpn(0)<0&&N.iadd(c),N},i.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),p=c.clone();d.negative=0,p.negative=0;for(var w=0;d.isEven()&&p.isEven();w++)d.iushrn(1),p.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;p.isEven();)p.iushrn(1);var S=d.cmp(p);if(S<0){var m=d;d=p,p=m}else if(S===0||p.cmpn(1)===0)break;d.isub(p)}while(!0);return p.iushln(w)},i.prototype.invm=function(c){return this.egcd(c).a.umod(c)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(c){return this.words[0]&c},i.prototype.bincn=function(c){n(typeof c=="number");var d=c%26,p=(c-d)/26,w=1<<d;if(this.length<=p)return this._expand(p+1),this.words[p]|=w,this;for(var S=w,m=p;S!==0&&m<this.length;m++){var s=this.words[m]|0;s+=S,S=s>>>26,s&=67108863,this.words[m]=s}return S!==0&&(this.words[m]=S,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var p;if(this.length>1)p=1;else{d&&(c=-c),n(c<=67108863,"Number is too big");var w=this.words[0]|0;p=w===c?0:w<c?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},i.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,p=this.length-1;p>=0;p--){var w=this.words[p]|0,S=c.words[p]|0;if(w!==S){w<S?d=-1:w>S&&(d=1);break}}return d},i.prototype.gtn=function(c){return this.cmpn(c)===1},i.prototype.gt=function(c){return this.cmp(c)===1},i.prototype.gten=function(c){return this.cmpn(c)>=0},i.prototype.gte=function(c){return this.cmp(c)>=0},i.prototype.ltn=function(c){return this.cmpn(c)===-1},i.prototype.lt=function(c){return this.cmp(c)===-1},i.prototype.lten=function(c){return this.cmpn(c)<=0},i.prototype.lte=function(c){return this.cmp(c)<=0},i.prototype.eqn=function(c){return this.cmpn(c)===0},i.prototype.eq=function(c){return this.cmp(c)===0},i.red=function(c){return new b(c)},i.prototype.toRed=function(c){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(c){return this.red=c,this},i.prototype.forceRed=function(c){return n(!this.red,"Already a number in reduction context"),this._forceRed(c)},i.prototype.redAdd=function(c){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},i.prototype.redIAdd=function(c){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},i.prototype.redSub=function(c){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},i.prototype.redISub=function(c){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},i.prototype.redShl=function(c){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},i.prototype.redMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},i.prototype.redIMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(c){return n(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var D={k256:null,p224:null,p192:null,p25519:null};function V(u,c){this.name=u,this.p=new i(c,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}V.prototype._tmp=function(){var c=new i(null);return c.words=new Array(Math.ceil(this.n/13)),c},V.prototype.ireduce=function(c){var d=c,p;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),p=d.bitLength();while(p>this.n);var w=p<this.n?-1:d.ucmp(this.p);return w===0?(d.words[0]=0,d.length=1):w>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},V.prototype.split=function(c,d){c.iushrn(this.n,0,d)},V.prototype.imulK=function(c){return c.imul(this.k)};function q(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(q,V),q.prototype.split=function(c,d){for(var p=4194303,w=Math.min(c.length,9),S=0;S<w;S++)d.words[S]=c.words[S];if(d.length=w,c.length<=9){c.words[0]=0,c.length=1;return}var m=c.words[9];for(d.words[d.length++]=m&p,S=10;S<c.length;S++){var s=c.words[S]|0;c.words[S-10]=(s&p)<<4|m>>>22,m=s}m>>>=22,c.words[S-10]=m,m===0&&c.length>10?c.length-=10:c.length-=9},q.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,p=0;p<c.length;p++){var w=c.words[p]|0;d+=w*977,c.words[p]=d&67108863,d=w*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function $(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a($,V);function F(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(F,V);function z(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(z,V),z.prototype.imulK=function(c){for(var d=0,p=0;p<c.length;p++){var w=(c.words[p]|0)*19+d,S=w&67108863;w>>>=26,c.words[p]=S,d=w}return d!==0&&(c.words[c.length++]=d),c},i._prime=function(c){if(D[c])return D[c];var d;if(c==="k256")d=new q;else if(c==="p224")d=new $;else if(c==="p192")d=new F;else if(c==="p25519")d=new z;else throw new Error("Unknown prime "+c);return D[c]=d,d};function b(u){if(typeof u=="string"){var c=i._prime(u);this.m=c.p,this.prime=c}else n(u.gtn(1),"modulus must be greater than 1"),this.m=u,this.prime=null}b.prototype._verify1=function(c){n(c.negative===0,"red works only with positives"),n(c.red,"red works only with red numbers")},b.prototype._verify2=function(c,d){n((c.negative|d.negative)===0,"red works only with positives"),n(c.red&&c.red===d.red,"red works only with red numbers")},b.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):(g(c,c.umod(this.m)._forceRed(this)),c)},b.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},b.prototype.add=function(c,d){this._verify2(c,d);var p=c.add(d);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},b.prototype.iadd=function(c,d){this._verify2(c,d);var p=c.iadd(d);return p.cmp(this.m)>=0&&p.isub(this.m),p},b.prototype.sub=function(c,d){this._verify2(c,d);var p=c.sub(d);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},b.prototype.isub=function(c,d){this._verify2(c,d);var p=c.isub(d);return p.cmpn(0)<0&&p.iadd(this.m),p},b.prototype.shl=function(c,d){return this._verify1(c),this.imod(c.ushln(d))},b.prototype.imul=function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},b.prototype.mul=function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},b.prototype.isqr=function(c){return this.imul(c,c.clone())},b.prototype.sqr=function(c){return this.mul(c,c)},b.prototype.sqrt=function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(n(d%2===1),d===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(c,p)}for(var w=this.m.subn(1),S=0;!w.isZero()&&w.andln(1)===0;)S++,w.iushrn(1);n(!w.isZero());var m=new i(1).toRed(this),s=m.redNeg(),y=this.m.subn(1).iushrn(1),x=this.m.bitLength();for(x=new i(2*x*x).toRed(this);this.pow(x,y).cmp(s)!==0;)x.redIAdd(s);for(var C=this.pow(x,w),N=this.pow(c,w.addn(1).iushrn(1)),j=this.pow(c,w),B=S;j.cmp(m)!==0;){for(var L=j,Y=0;L.cmp(m)!==0;Y++)L=L.redSqr();n(Y<B);var G=this.pow(C,new i(1).iushln(B-Y-1));N=N.redMul(G),C=G.redSqr(),j=j.redMul(C),B=Y}return N},b.prototype.invm=function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},b.prototype.pow=function(c,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var p=4,w=new Array(1<<p);w[0]=new i(1).toRed(this),w[1]=c;for(var S=2;S<w.length;S++)w[S]=this.mul(w[S-1],c);var m=w[0],s=0,y=0,x=d.bitLength()%26;for(x===0&&(x=26),S=d.length-1;S>=0;S--){for(var C=d.words[S],N=x-1;N>=0;N--){var j=C>>N&1;if(m!==w[0]&&(m=this.sqr(m)),j===0&&s===0){y=0;continue}s<<=1,s|=j,y++,!(y!==p&&(S!==0||N!==0))&&(m=this.mul(m,w[s]),y=0,s=0)}x=26}return m},b.prototype.convertTo=function(c){var d=c.umod(this.m);return d===c?d.clone():d},b.prototype.convertFrom=function(c){var d=c.clone();return d.red=null,d},i.mont=function(c){return new o(c)};function o(u){b.call(this,u),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(o,b),o.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},o.prototype.convertFrom=function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},o.prototype.imul=function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var p=c.imul(d),w=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=p.isub(w).iushrn(this.shift),m=S;return S.cmp(this.m)>=0?m=S.isub(this.m):S.cmpn(0)<0&&(m=S.iadd(this.m)),m._forceRed(this)},o.prototype.mul=function(c,d){if(c.isZero()||d.isZero())return new i(0)._forceRed(this);var p=c.mul(d),w=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=p.isub(w).iushrn(this.shift),m=S;return S.cmp(this.m)>=0?m=S.isub(this.m):S.cmpn(0)<0&&(m=S.iadd(this.m)),m._forceRed(this)},o.prototype.invm=function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(e,Ve)})(gl);var Lo=gl.exports,s9=aa.exports;function u9(e){var t=P_(e),r=t.toRed(Lo.mont(e.modulus)).redPow(new Lo(e.publicExponent)).fromRed();return{blinder:r,unblinder:t.invm(e.modulus)}}function P_(e){var t=e.modulus.byteLength(),r;do r=new Lo(s9(t));while(r.cmp(e.modulus)>=0||!r.umod(e.prime1)||!r.umod(e.prime2));return r}function k_(e,t){var r=u9(t),n=t.modulus.byteLength(),a=new Lo(e).mul(r.blinder).umod(t.modulus),i=a.toRed(Lo.mont(t.prime1)),f=a.toRed(Lo.mont(t.prime2)),l=t.coefficient,v=t.prime1,h=t.prime2,g=i.redPow(t.exponent1).fromRed(),_=f.redPow(t.exponent2).fromRed(),M=g.isub(_).imul(l).umod(v).imul(h);return _.iadd(M).imul(r.unblinder).umod(t.modulus).toArrayLike(Ue.Buffer,"be",n)}k_.getr=P_;var Np=k_,Ch={};const f9="elliptic",c9="6.5.4",l9="EC cryptography",h9="lib/elliptic.js",d9=["lib"],v9={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},p9={type:"git",url:"git@github.com:indutny/elliptic"},m9=["EC","Elliptic","curve","Cryptography"],y9="Fedor Indutny <fedor@indutny.com>",g9="MIT",b9={url:"https://github.com/indutny/elliptic/issues"},w9="https://github.com/indutny/elliptic",_9={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},S9={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},M9={name:f9,version:c9,description:l9,main:h9,files:d9,scripts:v9,repository:p9,keywords:m9,author:y9,license:g9,bugs:b9,homepage:w9,devDependencies:_9,dependencies:S9};var on={},li={exports:{}};(function(e){(function(t,r){function n(b,o){if(!b)throw new Error(o||"Assertion failed")}function a(b,o){b.super_=o;var u=function(){};u.prototype=o.prototype,b.prototype=new u,b.prototype.constructor=b}function i(b,o,u){if(i.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((o==="le"||o==="be")&&(u=o,o=10),this._init(b||0,o||10,u||"be"))}typeof t=="object"?t.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var f;try{typeof window<"u"&&typeof window.Buffer<"u"?f=window.Buffer:f=Ue.Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,u){return o.cmp(u)>0?o:u},i.min=function(o,u){return o.cmp(u)<0?o:u},i.prototype._init=function(o,u,c){if(typeof o=="number")return this._initNumber(o,u,c);if(typeof o=="object")return this._initArray(o,u,c);u==="hex"&&(u=16),n(u===(u|0)&&u>=2&&u<=36),o=o.toString().replace(/\s+/g,"");var d=0;o[0]==="-"&&(d++,this.negative=1),d<o.length&&(u===16?this._parseHex(o,d,c):(this._parseBase(o,u,d),c==="le"&&this._initArray(this.toArray(),u,c)))},i.prototype._initNumber=function(o,u,c){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(n(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),u,c)},i.prototype._initArray=function(o,u,c){if(n(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var p,w,S=0;if(c==="be")for(d=o.length-1,p=0;d>=0;d-=3)w=o[d]|o[d-1]<<8|o[d-2]<<16,this.words[p]|=w<<S&67108863,this.words[p+1]=w>>>26-S&67108863,S+=24,S>=26&&(S-=26,p++);else if(c==="le")for(d=0,p=0;d<o.length;d+=3)w=o[d]|o[d+1]<<8|o[d+2]<<16,this.words[p]|=w<<S&67108863,this.words[p+1]=w>>>26-S&67108863,S+=24,S>=26&&(S-=26,p++);return this.strip()};function l(b,o){var u=b.charCodeAt(o);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function v(b,o,u){var c=l(b,u);return u-1>=o&&(c|=l(b,u-1)<<4),c}i.prototype._parseHex=function(o,u,c){this.length=Math.ceil((o.length-u)/6),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var p=0,w=0,S;if(c==="be")for(d=o.length-1;d>=u;d-=2)S=v(o,u,d)<<p,this.words[w]|=S&67108863,p>=18?(p-=18,w+=1,this.words[w]|=S>>>26):p+=8;else{var m=o.length-u;for(d=m%2===0?u+1:u;d<o.length;d+=2)S=v(o,u,d)<<p,this.words[w]|=S&67108863,p>=18?(p-=18,w+=1,this.words[w]|=S>>>26):p+=8}this.strip()};function h(b,o,u,c){for(var d=0,p=Math.min(b.length,u),w=o;w<p;w++){var S=b.charCodeAt(w)-48;d*=c,S>=49?d+=S-49+10:S>=17?d+=S-17+10:d+=S}return d}i.prototype._parseBase=function(o,u,c){this.words=[0],this.length=1;for(var d=0,p=1;p<=67108863;p*=u)d++;d--,p=p/u|0;for(var w=o.length-c,S=w%d,m=Math.min(w,w-S)+c,s=0,y=c;y<m;y+=d)s=h(o,y,y+d,u),this.imuln(p),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(S!==0){var x=1;for(s=h(o,y,o.length,u),y=0;y<S;y++)x*=u;this.imuln(x),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var u=0;u<this.length;u++)o.words[u]=this.words[u];o.length=this.length,o.negative=this.negative,o.red=this.red},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,u){o=o||10,u=u|0||1;var c;if(o===16||o==="hex"){c="";for(var d=0,p=0,w=0;w<this.length;w++){var S=this.words[w],m=((S<<d|p)&16777215).toString(16);p=S>>>24-d&16777215,p!==0||w!==this.length-1?c=g[6-m.length]+m+c:c=m+c,d+=2,d>=26&&(d-=26,w--)}for(p!==0&&(c=p.toString(16)+c);c.length%u!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(o===(o|0)&&o>=2&&o<=36){var s=_[o],y=M[o];c="";var x=this.clone();for(x.negative=0;!x.isZero();){var C=x.modn(y).toString(o);x=x.idivn(y),x.isZero()?c=C+c:c=g[s-C.length]+C+c}for(this.isZero()&&(c="0"+c);c.length%u!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(o,u){return n(typeof f<"u"),this.toArrayLike(f,o,u)},i.prototype.toArray=function(o,u){return this.toArrayLike(Array,o,u)},i.prototype.toArrayLike=function(o,u,c){var d=this.byteLength(),p=c||Math.max(1,d);n(d<=p,"byte array longer than desired length"),n(p>0,"Requested array length <= 0"),this.strip();var w=u==="le",S=new o(p),m,s,y=this.clone();if(w){for(s=0;!y.isZero();s++)m=y.andln(255),y.iushrn(8),S[s]=m;for(;s<p;s++)S[s]=0}else{for(s=0;s<p-d;s++)S[s]=0;for(s=0;!y.isZero();s++)m=y.andln(255),y.iushrn(8),S[p-s-1]=m}return S},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var u=o,c=0;return u>=4096&&(c+=13,u>>>=13),u>=64&&(c+=7,u>>>=7),u>=8&&(c+=4,u>>>=4),u>=2&&(c+=2,u>>>=2),c+u},i.prototype._zeroBits=function(o){if(o===0)return 26;var u=o,c=0;return(u&8191)===0&&(c+=13,u>>>=13),(u&127)===0&&(c+=7,u>>>=7),(u&15)===0&&(c+=4,u>>>=4),(u&3)===0&&(c+=2,u>>>=2),(u&1)===0&&c++,c},i.prototype.bitLength=function(){var o=this.words[this.length-1],u=this._countBits(o);return(this.length-1)*26+u};function E(b){for(var o=new Array(b.bitLength()),u=0;u<o.length;u++){var c=u/26|0,d=u%26;o[u]=(b.words[c]&1<<d)>>>d}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,u=0;u<this.length;u++){var c=this._zeroBits(this.words[u]);if(o+=c,c!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]|o.words[u];return this.strip()},i.prototype.ior=function(o){return n((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var u;this.length>o.length?u=o:u=this;for(var c=0;c<u.length;c++)this.words[c]=this.words[c]&o.words[c];return this.length=u.length,this.strip()},i.prototype.iand=function(o){return n((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var u,c;this.length>o.length?(u=this,c=o):(u=o,c=this);for(var d=0;d<c.length;d++)this.words[d]=u.words[d]^c.words[d];if(this!==u)for(;d<u.length;d++)this.words[d]=u.words[d];return this.length=u.length,this.strip()},i.prototype.ixor=function(o){return n((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){n(typeof o=="number"&&o>=0);var u=Math.ceil(o/26)|0,c=o%26;this._expand(u),c>0&&u--;for(var d=0;d<u;d++)this.words[d]=~this.words[d]&67108863;return c>0&&(this.words[d]=~this.words[d]&67108863>>26-c),this.strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,u){n(typeof o=="number"&&o>=0);var c=o/26|0,d=o%26;return this._expand(c+1),u?this.words[c]=this.words[c]|1<<d:this.words[c]=this.words[c]&~(1<<d),this.strip()},i.prototype.iadd=function(o){var u;if(this.negative!==0&&o.negative===0)return this.negative=0,u=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,u=this.isub(o),o.negative=1,u._normSign();var c,d;this.length>o.length?(c=this,d=o):(c=o,d=this);for(var p=0,w=0;w<d.length;w++)u=(c.words[w]|0)+(d.words[w]|0)+p,this.words[w]=u&67108863,p=u>>>26;for(;p!==0&&w<c.length;w++)u=(c.words[w]|0)+p,this.words[w]=u&67108863,p=u>>>26;if(this.length=c.length,p!==0)this.words[this.length]=p,this.length++;else if(c!==this)for(;w<c.length;w++)this.words[w]=c.words[w];return this},i.prototype.add=function(o){var u;return o.negative!==0&&this.negative===0?(o.negative=0,u=this.sub(o),o.negative^=1,u):o.negative===0&&this.negative!==0?(this.negative=0,u=o.sub(this),this.negative=1,u):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var u=this.iadd(o);return o.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var c=this.cmp(o);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var d,p;c>0?(d=this,p=o):(d=o,p=this);for(var w=0,S=0;S<p.length;S++)u=(d.words[S]|0)-(p.words[S]|0)+w,w=u>>26,this.words[S]=u&67108863;for(;w!==0&&S<d.length;S++)u=(d.words[S]|0)+w,w=u>>26,this.words[S]=u&67108863;if(w===0&&S<d.length&&d!==this)for(;S<d.length;S++)this.words[S]=d.words[S];return this.length=Math.max(this.length,S),d!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function A(b,o,u){u.negative=o.negative^b.negative;var c=b.length+o.length|0;u.length=c,c=c-1|0;var d=b.words[0]|0,p=o.words[0]|0,w=d*p,S=w&67108863,m=w/67108864|0;u.words[0]=S;for(var s=1;s<c;s++){for(var y=m>>>26,x=m&67108863,C=Math.min(s,o.length-1),N=Math.max(0,s-b.length+1);N<=C;N++){var j=s-N|0;d=b.words[j]|0,p=o.words[N]|0,w=d*p+x,y+=w/67108864|0,x=w&67108863}u.words[s]=x|0,m=y|0}return m!==0?u.words[s]=m|0:u.length--,u.strip()}var I=function(o,u,c){var d=o.words,p=u.words,w=c.words,S=0,m,s,y,x=d[0]|0,C=x&8191,N=x>>>13,j=d[1]|0,B=j&8191,L=j>>>13,Y=d[2]|0,G=Y&8191,Z=Y>>>13,K=d[3]|0,U=K&8191,W=K>>>13,Te=d[4]|0,ee=Te&8191,re=Te>>>13,De=d[5]|0,ie=De&8191,J=De>>>13,qe=d[6]|0,ae=qe&8191,be=qe>>>13,Ge=d[7]|0,H=Ge&8191,X=Ge>>>13,Q=d[8]|0,te=Q&8191,ce=Q>>>13,Ke=d[9]|0,he=Ke&8191,oe=Ke>>>13,We=p[0]|0,fe=We&8191,Ce=We>>>13,et=p[1]|0,le=et&8191,we=et>>>13,Ze=p[2]|0,me=Ze&8191,xe=Ze>>>13,tt=p[3]|0,ne=tt&8191,_e=tt>>>13,Je=p[4]|0,de=Je&8191,Ae=Je>>>13,st=p[5]|0,ve=st&8191,Ie=st>>>13,Qe=p[6]|0,ye=Qe&8191,Pe=Qe>>>13,rt=p[7]|0,ge=rt&8191,Oe=rt>>>13,ot=p[8]|0,Se=ot&8191,ke=ot>>>13,ft=p[9]|0,Me=ft&8191,Re=ft>>>13;c.negative=o.negative^u.negative,c.length=19,m=Math.imul(C,fe),s=Math.imul(C,Ce),s=s+Math.imul(N,fe)|0,y=Math.imul(N,Ce);var nt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(nt>>>26)|0,nt&=67108863,m=Math.imul(B,fe),s=Math.imul(B,Ce),s=s+Math.imul(L,fe)|0,y=Math.imul(L,Ce),m=m+Math.imul(C,le)|0,s=s+Math.imul(C,we)|0,s=s+Math.imul(N,le)|0,y=y+Math.imul(N,we)|0;var it=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(it>>>26)|0,it&=67108863,m=Math.imul(G,fe),s=Math.imul(G,Ce),s=s+Math.imul(Z,fe)|0,y=Math.imul(Z,Ce),m=m+Math.imul(B,le)|0,s=s+Math.imul(B,we)|0,s=s+Math.imul(L,le)|0,y=y+Math.imul(L,we)|0,m=m+Math.imul(C,me)|0,s=s+Math.imul(C,xe)|0,s=s+Math.imul(N,me)|0,y=y+Math.imul(N,xe)|0;var It=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(It>>>26)|0,It&=67108863,m=Math.imul(U,fe),s=Math.imul(U,Ce),s=s+Math.imul(W,fe)|0,y=Math.imul(W,Ce),m=m+Math.imul(G,le)|0,s=s+Math.imul(G,we)|0,s=s+Math.imul(Z,le)|0,y=y+Math.imul(Z,we)|0,m=m+Math.imul(B,me)|0,s=s+Math.imul(B,xe)|0,s=s+Math.imul(L,me)|0,y=y+Math.imul(L,xe)|0,m=m+Math.imul(C,ne)|0,s=s+Math.imul(C,_e)|0,s=s+Math.imul(N,ne)|0,y=y+Math.imul(N,_e)|0;var Tt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,m=Math.imul(ee,fe),s=Math.imul(ee,Ce),s=s+Math.imul(re,fe)|0,y=Math.imul(re,Ce),m=m+Math.imul(U,le)|0,s=s+Math.imul(U,we)|0,s=s+Math.imul(W,le)|0,y=y+Math.imul(W,we)|0,m=m+Math.imul(G,me)|0,s=s+Math.imul(G,xe)|0,s=s+Math.imul(Z,me)|0,y=y+Math.imul(Z,xe)|0,m=m+Math.imul(B,ne)|0,s=s+Math.imul(B,_e)|0,s=s+Math.imul(L,ne)|0,y=y+Math.imul(L,_e)|0,m=m+Math.imul(C,de)|0,s=s+Math.imul(C,Ae)|0,s=s+Math.imul(N,de)|0,y=y+Math.imul(N,Ae)|0;var Ct=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,m=Math.imul(ie,fe),s=Math.imul(ie,Ce),s=s+Math.imul(J,fe)|0,y=Math.imul(J,Ce),m=m+Math.imul(ee,le)|0,s=s+Math.imul(ee,we)|0,s=s+Math.imul(re,le)|0,y=y+Math.imul(re,we)|0,m=m+Math.imul(U,me)|0,s=s+Math.imul(U,xe)|0,s=s+Math.imul(W,me)|0,y=y+Math.imul(W,xe)|0,m=m+Math.imul(G,ne)|0,s=s+Math.imul(G,_e)|0,s=s+Math.imul(Z,ne)|0,y=y+Math.imul(Z,_e)|0,m=m+Math.imul(B,de)|0,s=s+Math.imul(B,Ae)|0,s=s+Math.imul(L,de)|0,y=y+Math.imul(L,Ae)|0,m=m+Math.imul(C,ve)|0,s=s+Math.imul(C,Ie)|0,s=s+Math.imul(N,ve)|0,y=y+Math.imul(N,Ie)|0;var Ot=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,m=Math.imul(ae,fe),s=Math.imul(ae,Ce),s=s+Math.imul(be,fe)|0,y=Math.imul(be,Ce),m=m+Math.imul(ie,le)|0,s=s+Math.imul(ie,we)|0,s=s+Math.imul(J,le)|0,y=y+Math.imul(J,we)|0,m=m+Math.imul(ee,me)|0,s=s+Math.imul(ee,xe)|0,s=s+Math.imul(re,me)|0,y=y+Math.imul(re,xe)|0,m=m+Math.imul(U,ne)|0,s=s+Math.imul(U,_e)|0,s=s+Math.imul(W,ne)|0,y=y+Math.imul(W,_e)|0,m=m+Math.imul(G,de)|0,s=s+Math.imul(G,Ae)|0,s=s+Math.imul(Z,de)|0,y=y+Math.imul(Z,Ae)|0,m=m+Math.imul(B,ve)|0,s=s+Math.imul(B,Ie)|0,s=s+Math.imul(L,ve)|0,y=y+Math.imul(L,Ie)|0,m=m+Math.imul(C,ye)|0,s=s+Math.imul(C,Pe)|0,s=s+Math.imul(N,ye)|0,y=y+Math.imul(N,Pe)|0;var Pt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,m=Math.imul(H,fe),s=Math.imul(H,Ce),s=s+Math.imul(X,fe)|0,y=Math.imul(X,Ce),m=m+Math.imul(ae,le)|0,s=s+Math.imul(ae,we)|0,s=s+Math.imul(be,le)|0,y=y+Math.imul(be,we)|0,m=m+Math.imul(ie,me)|0,s=s+Math.imul(ie,xe)|0,s=s+Math.imul(J,me)|0,y=y+Math.imul(J,xe)|0,m=m+Math.imul(ee,ne)|0,s=s+Math.imul(ee,_e)|0,s=s+Math.imul(re,ne)|0,y=y+Math.imul(re,_e)|0,m=m+Math.imul(U,de)|0,s=s+Math.imul(U,Ae)|0,s=s+Math.imul(W,de)|0,y=y+Math.imul(W,Ae)|0,m=m+Math.imul(G,ve)|0,s=s+Math.imul(G,Ie)|0,s=s+Math.imul(Z,ve)|0,y=y+Math.imul(Z,Ie)|0,m=m+Math.imul(B,ye)|0,s=s+Math.imul(B,Pe)|0,s=s+Math.imul(L,ye)|0,y=y+Math.imul(L,Pe)|0,m=m+Math.imul(C,ge)|0,s=s+Math.imul(C,Oe)|0,s=s+Math.imul(N,ge)|0,y=y+Math.imul(N,Oe)|0;var kt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(kt>>>26)|0,kt&=67108863,m=Math.imul(te,fe),s=Math.imul(te,Ce),s=s+Math.imul(ce,fe)|0,y=Math.imul(ce,Ce),m=m+Math.imul(H,le)|0,s=s+Math.imul(H,we)|0,s=s+Math.imul(X,le)|0,y=y+Math.imul(X,we)|0,m=m+Math.imul(ae,me)|0,s=s+Math.imul(ae,xe)|0,s=s+Math.imul(be,me)|0,y=y+Math.imul(be,xe)|0,m=m+Math.imul(ie,ne)|0,s=s+Math.imul(ie,_e)|0,s=s+Math.imul(J,ne)|0,y=y+Math.imul(J,_e)|0,m=m+Math.imul(ee,de)|0,s=s+Math.imul(ee,Ae)|0,s=s+Math.imul(re,de)|0,y=y+Math.imul(re,Ae)|0,m=m+Math.imul(U,ve)|0,s=s+Math.imul(U,Ie)|0,s=s+Math.imul(W,ve)|0,y=y+Math.imul(W,Ie)|0,m=m+Math.imul(G,ye)|0,s=s+Math.imul(G,Pe)|0,s=s+Math.imul(Z,ye)|0,y=y+Math.imul(Z,Pe)|0,m=m+Math.imul(B,ge)|0,s=s+Math.imul(B,Oe)|0,s=s+Math.imul(L,ge)|0,y=y+Math.imul(L,Oe)|0,m=m+Math.imul(C,Se)|0,s=s+Math.imul(C,ke)|0,s=s+Math.imul(N,Se)|0,y=y+Math.imul(N,ke)|0;var Rt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,m=Math.imul(he,fe),s=Math.imul(he,Ce),s=s+Math.imul(oe,fe)|0,y=Math.imul(oe,Ce),m=m+Math.imul(te,le)|0,s=s+Math.imul(te,we)|0,s=s+Math.imul(ce,le)|0,y=y+Math.imul(ce,we)|0,m=m+Math.imul(H,me)|0,s=s+Math.imul(H,xe)|0,s=s+Math.imul(X,me)|0,y=y+Math.imul(X,xe)|0,m=m+Math.imul(ae,ne)|0,s=s+Math.imul(ae,_e)|0,s=s+Math.imul(be,ne)|0,y=y+Math.imul(be,_e)|0,m=m+Math.imul(ie,de)|0,s=s+Math.imul(ie,Ae)|0,s=s+Math.imul(J,de)|0,y=y+Math.imul(J,Ae)|0,m=m+Math.imul(ee,ve)|0,s=s+Math.imul(ee,Ie)|0,s=s+Math.imul(re,ve)|0,y=y+Math.imul(re,Ie)|0,m=m+Math.imul(U,ye)|0,s=s+Math.imul(U,Pe)|0,s=s+Math.imul(W,ye)|0,y=y+Math.imul(W,Pe)|0,m=m+Math.imul(G,ge)|0,s=s+Math.imul(G,Oe)|0,s=s+Math.imul(Z,ge)|0,y=y+Math.imul(Z,Oe)|0,m=m+Math.imul(B,Se)|0,s=s+Math.imul(B,ke)|0,s=s+Math.imul(L,Se)|0,y=y+Math.imul(L,ke)|0,m=m+Math.imul(C,Me)|0,s=s+Math.imul(C,Re)|0,s=s+Math.imul(N,Me)|0,y=y+Math.imul(N,Re)|0;var Nt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,m=Math.imul(he,le),s=Math.imul(he,we),s=s+Math.imul(oe,le)|0,y=Math.imul(oe,we),m=m+Math.imul(te,me)|0,s=s+Math.imul(te,xe)|0,s=s+Math.imul(ce,me)|0,y=y+Math.imul(ce,xe)|0,m=m+Math.imul(H,ne)|0,s=s+Math.imul(H,_e)|0,s=s+Math.imul(X,ne)|0,y=y+Math.imul(X,_e)|0,m=m+Math.imul(ae,de)|0,s=s+Math.imul(ae,Ae)|0,s=s+Math.imul(be,de)|0,y=y+Math.imul(be,Ae)|0,m=m+Math.imul(ie,ve)|0,s=s+Math.imul(ie,Ie)|0,s=s+Math.imul(J,ve)|0,y=y+Math.imul(J,Ie)|0,m=m+Math.imul(ee,ye)|0,s=s+Math.imul(ee,Pe)|0,s=s+Math.imul(re,ye)|0,y=y+Math.imul(re,Pe)|0,m=m+Math.imul(U,ge)|0,s=s+Math.imul(U,Oe)|0,s=s+Math.imul(W,ge)|0,y=y+Math.imul(W,Oe)|0,m=m+Math.imul(G,Se)|0,s=s+Math.imul(G,ke)|0,s=s+Math.imul(Z,Se)|0,y=y+Math.imul(Z,ke)|0,m=m+Math.imul(B,Me)|0,s=s+Math.imul(B,Re)|0,s=s+Math.imul(L,Me)|0,y=y+Math.imul(L,Re)|0;var Dt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,m=Math.imul(he,me),s=Math.imul(he,xe),s=s+Math.imul(oe,me)|0,y=Math.imul(oe,xe),m=m+Math.imul(te,ne)|0,s=s+Math.imul(te,_e)|0,s=s+Math.imul(ce,ne)|0,y=y+Math.imul(ce,_e)|0,m=m+Math.imul(H,de)|0,s=s+Math.imul(H,Ae)|0,s=s+Math.imul(X,de)|0,y=y+Math.imul(X,Ae)|0,m=m+Math.imul(ae,ve)|0,s=s+Math.imul(ae,Ie)|0,s=s+Math.imul(be,ve)|0,y=y+Math.imul(be,Ie)|0,m=m+Math.imul(ie,ye)|0,s=s+Math.imul(ie,Pe)|0,s=s+Math.imul(J,ye)|0,y=y+Math.imul(J,Pe)|0,m=m+Math.imul(ee,ge)|0,s=s+Math.imul(ee,Oe)|0,s=s+Math.imul(re,ge)|0,y=y+Math.imul(re,Oe)|0,m=m+Math.imul(U,Se)|0,s=s+Math.imul(U,ke)|0,s=s+Math.imul(W,Se)|0,y=y+Math.imul(W,ke)|0,m=m+Math.imul(G,Me)|0,s=s+Math.imul(G,Re)|0,s=s+Math.imul(Z,Me)|0,y=y+Math.imul(Z,Re)|0;var Bt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,m=Math.imul(he,ne),s=Math.imul(he,_e),s=s+Math.imul(oe,ne)|0,y=Math.imul(oe,_e),m=m+Math.imul(te,de)|0,s=s+Math.imul(te,Ae)|0,s=s+Math.imul(ce,de)|0,y=y+Math.imul(ce,Ae)|0,m=m+Math.imul(H,ve)|0,s=s+Math.imul(H,Ie)|0,s=s+Math.imul(X,ve)|0,y=y+Math.imul(X,Ie)|0,m=m+Math.imul(ae,ye)|0,s=s+Math.imul(ae,Pe)|0,s=s+Math.imul(be,ye)|0,y=y+Math.imul(be,Pe)|0,m=m+Math.imul(ie,ge)|0,s=s+Math.imul(ie,Oe)|0,s=s+Math.imul(J,ge)|0,y=y+Math.imul(J,Oe)|0,m=m+Math.imul(ee,Se)|0,s=s+Math.imul(ee,ke)|0,s=s+Math.imul(re,Se)|0,y=y+Math.imul(re,ke)|0,m=m+Math.imul(U,Me)|0,s=s+Math.imul(U,Re)|0,s=s+Math.imul(W,Me)|0,y=y+Math.imul(W,Re)|0;var Ut=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,m=Math.imul(he,de),s=Math.imul(he,Ae),s=s+Math.imul(oe,de)|0,y=Math.imul(oe,Ae),m=m+Math.imul(te,ve)|0,s=s+Math.imul(te,Ie)|0,s=s+Math.imul(ce,ve)|0,y=y+Math.imul(ce,Ie)|0,m=m+Math.imul(H,ye)|0,s=s+Math.imul(H,Pe)|0,s=s+Math.imul(X,ye)|0,y=y+Math.imul(X,Pe)|0,m=m+Math.imul(ae,ge)|0,s=s+Math.imul(ae,Oe)|0,s=s+Math.imul(be,ge)|0,y=y+Math.imul(be,Oe)|0,m=m+Math.imul(ie,Se)|0,s=s+Math.imul(ie,ke)|0,s=s+Math.imul(J,Se)|0,y=y+Math.imul(J,ke)|0,m=m+Math.imul(ee,Me)|0,s=s+Math.imul(ee,Re)|0,s=s+Math.imul(re,Me)|0,y=y+Math.imul(re,Re)|0;var Ft=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,m=Math.imul(he,ve),s=Math.imul(he,Ie),s=s+Math.imul(oe,ve)|0,y=Math.imul(oe,Ie),m=m+Math.imul(te,ye)|0,s=s+Math.imul(te,Pe)|0,s=s+Math.imul(ce,ye)|0,y=y+Math.imul(ce,Pe)|0,m=m+Math.imul(H,ge)|0,s=s+Math.imul(H,Oe)|0,s=s+Math.imul(X,ge)|0,y=y+Math.imul(X,Oe)|0,m=m+Math.imul(ae,Se)|0,s=s+Math.imul(ae,ke)|0,s=s+Math.imul(be,Se)|0,y=y+Math.imul(be,ke)|0,m=m+Math.imul(ie,Me)|0,s=s+Math.imul(ie,Re)|0,s=s+Math.imul(J,Me)|0,y=y+Math.imul(J,Re)|0;var Lt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,m=Math.imul(he,ye),s=Math.imul(he,Pe),s=s+Math.imul(oe,ye)|0,y=Math.imul(oe,Pe),m=m+Math.imul(te,ge)|0,s=s+Math.imul(te,Oe)|0,s=s+Math.imul(ce,ge)|0,y=y+Math.imul(ce,Oe)|0,m=m+Math.imul(H,Se)|0,s=s+Math.imul(H,ke)|0,s=s+Math.imul(X,Se)|0,y=y+Math.imul(X,ke)|0,m=m+Math.imul(ae,Me)|0,s=s+Math.imul(ae,Re)|0,s=s+Math.imul(be,Me)|0,y=y+Math.imul(be,Re)|0;var qt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(qt>>>26)|0,qt&=67108863,m=Math.imul(he,ge),s=Math.imul(he,Oe),s=s+Math.imul(oe,ge)|0,y=Math.imul(oe,Oe),m=m+Math.imul(te,Se)|0,s=s+Math.imul(te,ke)|0,s=s+Math.imul(ce,Se)|0,y=y+Math.imul(ce,ke)|0,m=m+Math.imul(H,Me)|0,s=s+Math.imul(H,Re)|0,s=s+Math.imul(X,Me)|0,y=y+Math.imul(X,Re)|0;var jt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(jt>>>26)|0,jt&=67108863,m=Math.imul(he,Se),s=Math.imul(he,ke),s=s+Math.imul(oe,Se)|0,y=Math.imul(oe,ke),m=m+Math.imul(te,Me)|0,s=s+Math.imul(te,Re)|0,s=s+Math.imul(ce,Me)|0,y=y+Math.imul(ce,Re)|0;var $t=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+($t>>>26)|0,$t&=67108863,m=Math.imul(he,Me),s=Math.imul(he,Re),s=s+Math.imul(oe,Me)|0,y=Math.imul(oe,Re);var Vt=(S+m|0)+((s&8191)<<13)|0;return S=(y+(s>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,w[0]=nt,w[1]=it,w[2]=It,w[3]=Tt,w[4]=Ct,w[5]=Ot,w[6]=Pt,w[7]=kt,w[8]=Rt,w[9]=Nt,w[10]=Dt,w[11]=Bt,w[12]=Ut,w[13]=Ft,w[14]=Lt,w[15]=qt,w[16]=jt,w[17]=$t,w[18]=Vt,S!==0&&(w[19]=S,c.length++),c};Math.imul||(I=A);function O(b,o,u){u.negative=o.negative^b.negative,u.length=b.length+o.length;for(var c=0,d=0,p=0;p<u.length-1;p++){var w=d;d=0;for(var S=c&67108863,m=Math.min(p,o.length-1),s=Math.max(0,p-b.length+1);s<=m;s++){var y=p-s,x=b.words[y]|0,C=o.words[s]|0,N=x*C,j=N&67108863;w=w+(N/67108864|0)|0,j=j+S|0,S=j&67108863,w=w+(j>>>26)|0,d+=w>>>26,w&=67108863}u.words[p]=S,c=w,w=d}return c!==0?u.words[p]=c:u.length--,u.strip()}function T(b,o,u){var c=new P;return c.mulp(b,o,u)}i.prototype.mulTo=function(o,u){var c,d=this.length+o.length;return this.length===10&&o.length===10?c=I(this,o,u):d<63?c=A(this,o,u):d<1024?c=O(this,o,u):c=T(this,o,u),c};function P(b,o){this.x=b,this.y=o}P.prototype.makeRBT=function(o){for(var u=new Array(o),c=i.prototype._countBits(o)-1,d=0;d<o;d++)u[d]=this.revBin(d,c,o);return u},P.prototype.revBin=function(o,u,c){if(o===0||o===c-1)return o;for(var d=0,p=0;p<u;p++)d|=(o&1)<<u-p-1,o>>=1;return d},P.prototype.permute=function(o,u,c,d,p,w){for(var S=0;S<w;S++)d[S]=u[o[S]],p[S]=c[o[S]]},P.prototype.transform=function(o,u,c,d,p,w){this.permute(w,o,u,c,d,p);for(var S=1;S<p;S<<=1)for(var m=S<<1,s=Math.cos(2*Math.PI/m),y=Math.sin(2*Math.PI/m),x=0;x<p;x+=m)for(var C=s,N=y,j=0;j<S;j++){var B=c[x+j],L=d[x+j],Y=c[x+j+S],G=d[x+j+S],Z=C*Y-N*G;G=C*G+N*Y,Y=Z,c[x+j]=B+Y,d[x+j]=L+G,c[x+j+S]=B-Y,d[x+j+S]=L-G,j!==m&&(Z=s*C-y*N,N=s*N+y*C,C=Z)}},P.prototype.guessLen13b=function(o,u){var c=Math.max(u,o)|1,d=c&1,p=0;for(c=c/2|0;c;c=c>>>1)p++;return 1<<p+1+d},P.prototype.conjugate=function(o,u,c){if(!(c<=1))for(var d=0;d<c/2;d++){var p=o[d];o[d]=o[c-d-1],o[c-d-1]=p,p=u[d],u[d]=-u[c-d-1],u[c-d-1]=-p}},P.prototype.normalize13b=function(o,u){for(var c=0,d=0;d<u/2;d++){var p=Math.round(o[2*d+1]/u)*8192+Math.round(o[2*d]/u)+c;o[d]=p&67108863,p<67108864?c=0:c=p/67108864|0}return o},P.prototype.convert13b=function(o,u,c,d){for(var p=0,w=0;w<u;w++)p=p+(o[w]|0),c[2*w]=p&8191,p=p>>>13,c[2*w+1]=p&8191,p=p>>>13;for(w=2*u;w<d;++w)c[w]=0;n(p===0),n((p&-8192)===0)},P.prototype.stub=function(o){for(var u=new Array(o),c=0;c<o;c++)u[c]=0;return u},P.prototype.mulp=function(o,u,c){var d=2*this.guessLen13b(o.length,u.length),p=this.makeRBT(d),w=this.stub(d),S=new Array(d),m=new Array(d),s=new Array(d),y=new Array(d),x=new Array(d),C=new Array(d),N=c.words;N.length=d,this.convert13b(o.words,o.length,S,d),this.convert13b(u.words,u.length,y,d),this.transform(S,w,m,s,d,p),this.transform(y,w,x,C,d,p);for(var j=0;j<d;j++){var B=m[j]*x[j]-s[j]*C[j];s[j]=m[j]*C[j]+s[j]*x[j],m[j]=B}return this.conjugate(m,s,d),this.transform(m,s,N,w,d,p),this.conjugate(N,w,d),this.normalize13b(N,d),c.negative=o.negative^u.negative,c.length=o.length+u.length,c.strip()},i.prototype.mul=function(o){var u=new i(null);return u.words=new Array(this.length+o.length),this.mulTo(o,u)},i.prototype.mulf=function(o){var u=new i(null);return u.words=new Array(this.length+o.length),T(this,o,u)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){n(typeof o=="number"),n(o<67108864);for(var u=0,c=0;c<this.length;c++){var d=(this.words[c]|0)*o,p=(d&67108863)+(u&67108863);u>>=26,u+=d/67108864|0,u+=p>>>26,this.words[c]=p&67108863}return u!==0&&(this.words[c]=u,this.length++),this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var u=E(o);if(u.length===0)return new i(1);for(var c=this,d=0;d<u.length&&u[d]===0;d++,c=c.sqr());if(++d<u.length)for(var p=c.sqr();d<u.length;d++,p=p.sqr())u[d]!==0&&(c=c.mul(p));return c},i.prototype.iushln=function(o){n(typeof o=="number"&&o>=0);var u=o%26,c=(o-u)/26,d=67108863>>>26-u<<26-u,p;if(u!==0){var w=0;for(p=0;p<this.length;p++){var S=this.words[p]&d,m=(this.words[p]|0)-S<<u;this.words[p]=m|w,w=S>>>26-u}w&&(this.words[p]=w,this.length++)}if(c!==0){for(p=this.length-1;p>=0;p--)this.words[p+c]=this.words[p];for(p=0;p<c;p++)this.words[p]=0;this.length+=c}return this.strip()},i.prototype.ishln=function(o){return n(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,u,c){n(typeof o=="number"&&o>=0);var d;u?d=(u-u%26)/26:d=0;var p=o%26,w=Math.min((o-p)/26,this.length),S=67108863^67108863>>>p<<p,m=c;if(d-=w,d=Math.max(0,d),m){for(var s=0;s<w;s++)m.words[s]=this.words[s];m.length=w}if(w!==0)if(this.length>w)for(this.length-=w,s=0;s<this.length;s++)this.words[s]=this.words[s+w];else this.words[0]=0,this.length=1;var y=0;for(s=this.length-1;s>=0&&(y!==0||s>=d);s--){var x=this.words[s]|0;this.words[s]=y<<26-p|x>>>p,y=x&S}return m&&y!==0&&(m.words[m.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(o,u,c){return n(this.negative===0),this.iushrn(o,u,c)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){n(typeof o=="number"&&o>=0);var u=o%26,c=(o-u)/26,d=1<<u;if(this.length<=c)return!1;var p=this.words[c];return!!(p&d)},i.prototype.imaskn=function(o){n(typeof o=="number"&&o>=0);var u=o%26,c=(o-u)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(u!==0&&c++,this.length=Math.min(c,this.length),u!==0){var d=67108863^67108863>>>u<<u;this.words[this.length-1]&=d}return this.strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return n(typeof o=="number"),n(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(o){if(n(typeof o=="number"),n(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,u,c){var d=o.length+c,p;this._expand(d);var w,S=0;for(p=0;p<o.length;p++){w=(this.words[p+c]|0)+S;var m=(o.words[p]|0)*u;w-=m&67108863,S=(w>>26)-(m/67108864|0),this.words[p+c]=w&67108863}for(;p<this.length-c;p++)w=(this.words[p+c]|0)+S,S=w>>26,this.words[p+c]=w&67108863;if(S===0)return this.strip();for(n(S===-1),S=0,p=0;p<this.length;p++)w=-(this.words[p]|0)+S,S=w>>26,this.words[p]=w&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(o,u){var c=this.length-o.length,d=this.clone(),p=o,w=p.words[p.length-1]|0,S=this._countBits(w);c=26-S,c!==0&&(p=p.ushln(c),d.iushln(c),w=p.words[p.length-1]|0);var m=d.length-p.length,s;if(u!=="mod"){s=new i(null),s.length=m+1,s.words=new Array(s.length);for(var y=0;y<s.length;y++)s.words[y]=0}var x=d.clone()._ishlnsubmul(p,1,m);x.negative===0&&(d=x,s&&(s.words[m]=1));for(var C=m-1;C>=0;C--){var N=(d.words[p.length+C]|0)*67108864+(d.words[p.length+C-1]|0);for(N=Math.min(N/w|0,67108863),d._ishlnsubmul(p,N,C);d.negative!==0;)N--,d.negative=0,d._ishlnsubmul(p,1,C),d.isZero()||(d.negative^=1);s&&(s.words[C]=N)}return s&&s.strip(),d.strip(),u!=="div"&&c!==0&&d.iushrn(c),{div:s||null,mod:d}},i.prototype.divmod=function(o,u,c){if(n(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var d,p,w;return this.negative!==0&&o.negative===0?(w=this.neg().divmod(o,u),u!=="mod"&&(d=w.div.neg()),u!=="div"&&(p=w.mod.neg(),c&&p.negative!==0&&p.iadd(o)),{div:d,mod:p}):this.negative===0&&o.negative!==0?(w=this.divmod(o.neg(),u),u!=="mod"&&(d=w.div.neg()),{div:d,mod:w.mod}):(this.negative&o.negative)!==0?(w=this.neg().divmod(o.neg(),u),u!=="div"&&(p=w.mod.neg(),c&&p.negative!==0&&p.isub(o)),{div:w.div,mod:p}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?u==="div"?{div:this.divn(o.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modn(o.words[0]))}:this._wordDiv(o,u)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var u=this.divmod(o);if(u.mod.isZero())return u.div;var c=u.div.negative!==0?u.mod.isub(o):u.mod,d=o.ushrn(1),p=o.andln(1),w=c.cmp(d);return w<0||p===1&&w===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modn=function(o){n(o<=67108863);for(var u=(1<<26)%o,c=0,d=this.length-1;d>=0;d--)c=(u*c+(this.words[d]|0))%o;return c},i.prototype.idivn=function(o){n(o<=67108863);for(var u=0,c=this.length-1;c>=0;c--){var d=(this.words[c]|0)+u*67108864;this.words[c]=d/o|0,u=d%o}return this.strip()},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){n(o.negative===0),n(!o.isZero());var u=this,c=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var d=new i(1),p=new i(0),w=new i(0),S=new i(1),m=0;u.isEven()&&c.isEven();)u.iushrn(1),c.iushrn(1),++m;for(var s=c.clone(),y=u.clone();!u.isZero();){for(var x=0,C=1;(u.words[0]&C)===0&&x<26;++x,C<<=1);if(x>0)for(u.iushrn(x);x-- >0;)(d.isOdd()||p.isOdd())&&(d.iadd(s),p.isub(y)),d.iushrn(1),p.iushrn(1);for(var N=0,j=1;(c.words[0]&j)===0&&N<26;++N,j<<=1);if(N>0)for(c.iushrn(N);N-- >0;)(w.isOdd()||S.isOdd())&&(w.iadd(s),S.isub(y)),w.iushrn(1),S.iushrn(1);u.cmp(c)>=0?(u.isub(c),d.isub(w),p.isub(S)):(c.isub(u),w.isub(d),S.isub(p))}return{a:w,b:S,gcd:c.iushln(m)}},i.prototype._invmp=function(o){n(o.negative===0),n(!o.isZero());var u=this,c=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var d=new i(1),p=new i(0),w=c.clone();u.cmpn(1)>0&&c.cmpn(1)>0;){for(var S=0,m=1;(u.words[0]&m)===0&&S<26;++S,m<<=1);if(S>0)for(u.iushrn(S);S-- >0;)d.isOdd()&&d.iadd(w),d.iushrn(1);for(var s=0,y=1;(c.words[0]&y)===0&&s<26;++s,y<<=1);if(s>0)for(c.iushrn(s);s-- >0;)p.isOdd()&&p.iadd(w),p.iushrn(1);u.cmp(c)>=0?(u.isub(c),d.isub(p)):(c.isub(u),p.isub(d))}var x;return u.cmpn(1)===0?x=d:x=p,x.cmpn(0)<0&&x.iadd(o),x},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var u=this.clone(),c=o.clone();u.negative=0,c.negative=0;for(var d=0;u.isEven()&&c.isEven();d++)u.iushrn(1),c.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;c.isEven();)c.iushrn(1);var p=u.cmp(c);if(p<0){var w=u;u=c,c=w}else if(p===0||c.cmpn(1)===0)break;u.isub(c)}while(!0);return c.iushln(d)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){n(typeof o=="number");var u=o%26,c=(o-u)/26,d=1<<u;if(this.length<=c)return this._expand(c+1),this.words[c]|=d,this;for(var p=d,w=c;p!==0&&w<this.length;w++){var S=this.words[w]|0;S+=p,p=S>>>26,S&=67108863,this.words[w]=S}return p!==0&&(this.words[w]=p,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var u=o<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var c;if(this.length>1)c=1;else{u&&(o=-o),n(o<=67108863,"Number is too big");var d=this.words[0]|0;c=d===o?0:d<o?-1:1}return this.negative!==0?-c|0:c},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var u=this.ucmp(o);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var u=0,c=this.length-1;c>=0;c--){var d=this.words[c]|0,p=o.words[c]|0;if(d!==p){d<p?u=-1:d>p&&(u=1);break}}return u},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new F(o)},i.prototype.toRed=function(o){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return n(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return n(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var k={k256:null,p224:null,p192:null,p25519:null};function R(b,o){this.name=b,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}R.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},R.prototype.ireduce=function(o){var u=o,c;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),c=u.bitLength();while(c>this.n);var d=c<this.n?-1:u.ucmp(this.p);return d===0?(u.words[0]=0,u.length=1):d>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},R.prototype.split=function(o,u){o.iushrn(this.n,0,u)},R.prototype.imulK=function(o){return o.imul(this.k)};function D(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(D,R),D.prototype.split=function(o,u){for(var c=4194303,d=Math.min(o.length,9),p=0;p<d;p++)u.words[p]=o.words[p];if(u.length=d,o.length<=9){o.words[0]=0,o.length=1;return}var w=o.words[9];for(u.words[u.length++]=w&c,p=10;p<o.length;p++){var S=o.words[p]|0;o.words[p-10]=(S&c)<<4|w>>>22,w=S}w>>>=22,o.words[p-10]=w,w===0&&o.length>10?o.length-=10:o.length-=9},D.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var u=0,c=0;c<o.length;c++){var d=o.words[c]|0;u+=d*977,o.words[c]=u&67108863,u=d*64+(u/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function V(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(V,R);function q(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(q,R);function $(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a($,R),$.prototype.imulK=function(o){for(var u=0,c=0;c<o.length;c++){var d=(o.words[c]|0)*19+u,p=d&67108863;d>>>=26,o.words[c]=p,u=d}return u!==0&&(o.words[o.length++]=u),o},i._prime=function(o){if(k[o])return k[o];var u;if(o==="k256")u=new D;else if(o==="p224")u=new V;else if(o==="p192")u=new q;else if(o==="p25519")u=new $;else throw new Error("Unknown prime "+o);return k[o]=u,u};function F(b){if(typeof b=="string"){var o=i._prime(b);this.m=o.p,this.prime=o}else n(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}F.prototype._verify1=function(o){n(o.negative===0,"red works only with positives"),n(o.red,"red works only with red numbers")},F.prototype._verify2=function(o,u){n((o.negative|u.negative)===0,"red works only with positives"),n(o.red&&o.red===u.red,"red works only with red numbers")},F.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},F.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},F.prototype.add=function(o,u){this._verify2(o,u);var c=o.add(u);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},F.prototype.iadd=function(o,u){this._verify2(o,u);var c=o.iadd(u);return c.cmp(this.m)>=0&&c.isub(this.m),c},F.prototype.sub=function(o,u){this._verify2(o,u);var c=o.sub(u);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},F.prototype.isub=function(o,u){this._verify2(o,u);var c=o.isub(u);return c.cmpn(0)<0&&c.iadd(this.m),c},F.prototype.shl=function(o,u){return this._verify1(o),this.imod(o.ushln(u))},F.prototype.imul=function(o,u){return this._verify2(o,u),this.imod(o.imul(u))},F.prototype.mul=function(o,u){return this._verify2(o,u),this.imod(o.mul(u))},F.prototype.isqr=function(o){return this.imul(o,o.clone())},F.prototype.sqr=function(o){return this.mul(o,o)},F.prototype.sqrt=function(o){if(o.isZero())return o.clone();var u=this.m.andln(3);if(n(u%2===1),u===3){var c=this.m.add(new i(1)).iushrn(2);return this.pow(o,c)}for(var d=this.m.subn(1),p=0;!d.isZero()&&d.andln(1)===0;)p++,d.iushrn(1);n(!d.isZero());var w=new i(1).toRed(this),S=w.redNeg(),m=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new i(2*s*s).toRed(this);this.pow(s,m).cmp(S)!==0;)s.redIAdd(S);for(var y=this.pow(s,d),x=this.pow(o,d.addn(1).iushrn(1)),C=this.pow(o,d),N=p;C.cmp(w)!==0;){for(var j=C,B=0;j.cmp(w)!==0;B++)j=j.redSqr();n(B<N);var L=this.pow(y,new i(1).iushln(N-B-1));x=x.redMul(L),y=L.redSqr(),C=C.redMul(y),N=B}return x},F.prototype.invm=function(o){var u=o._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},F.prototype.pow=function(o,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return o.clone();var c=4,d=new Array(1<<c);d[0]=new i(1).toRed(this),d[1]=o;for(var p=2;p<d.length;p++)d[p]=this.mul(d[p-1],o);var w=d[0],S=0,m=0,s=u.bitLength()%26;for(s===0&&(s=26),p=u.length-1;p>=0;p--){for(var y=u.words[p],x=s-1;x>=0;x--){var C=y>>x&1;if(w!==d[0]&&(w=this.sqr(w)),C===0&&S===0){m=0;continue}S<<=1,S|=C,m++,!(m!==c&&(p!==0||x!==0))&&(w=this.mul(w,d[S]),m=0,S=0)}s=26}return w},F.prototype.convertTo=function(o){var u=o.umod(this.m);return u===o?u.clone():u},F.prototype.convertFrom=function(o){var u=o.clone();return u.red=null,u},i.mont=function(o){return new z(o)};function z(b){F.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(z,F),z.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},z.prototype.convertFrom=function(o){var u=this.imod(o.mul(this.rinv));return u.red=null,u},z.prototype.imul=function(o,u){if(o.isZero()||u.isZero())return o.words[0]=0,o.length=1,o;var c=o.imul(u),d=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=c.isub(d).iushrn(this.shift),w=p;return p.cmp(this.m)>=0?w=p.isub(this.m):p.cmpn(0)<0&&(w=p.iadd(this.m)),w._forceRed(this)},z.prototype.mul=function(o,u){if(o.isZero()||u.isZero())return new i(0)._forceRed(this);var c=o.mul(u),d=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=c.isub(d).iushrn(this.shift),w=p;return p.cmp(this.m)>=0?w=p.isub(this.m):p.cmpn(0)<0&&(w=p.iadd(this.m)),w._forceRed(this)},z.prototype.invm=function(o){var u=this.imod(o._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(e,Ve)})(li);var Dp={};(function(e){var t=e;function r(i,f){if(Array.isArray(i))return i.slice();if(!i)return[];var l=[];if(typeof i!="string"){for(var v=0;v<i.length;v++)l[v]=i[v]|0;return l}if(f==="hex"){i=i.replace(/[^a-z0-9]+/ig,""),i.length%2!==0&&(i="0"+i);for(var v=0;v<i.length;v+=2)l.push(parseInt(i[v]+i[v+1],16))}else for(var v=0;v<i.length;v++){var h=i.charCodeAt(v),g=h>>8,_=h&255;g?l.push(g,_):l.push(_)}return l}t.toArray=r;function n(i){return i.length===1?"0"+i:i}t.zero2=n;function a(i){for(var f="",l=0;l<i.length;l++)f+=n(i[l].toString(16));return f}t.toHex=a,t.encode=function(f,l){return l==="hex"?a(f):f}})(Dp);(function(e){var t=e,r=li.exports,n=Sn,a=Dp;t.assert=n,t.toArray=a.toArray,t.zero2=a.zero2,t.toHex=a.toHex,t.encode=a.encode;function i(g,_,M){var E=new Array(Math.max(g.bitLength(),M)+1);E.fill(0);for(var A=1<<_+1,I=g.clone(),O=0;O<E.length;O++){var T,P=I.andln(A-1);I.isOdd()?(P>(A>>1)-1?T=(A>>1)-P:T=P,I.isubn(T)):T=0,E[O]=T,I.iushrn(1)}return E}t.getNAF=i;function f(g,_){var M=[[],[]];g=g.clone(),_=_.clone();for(var E=0,A=0,I;g.cmpn(-E)>0||_.cmpn(-A)>0;){var O=g.andln(3)+E&3,T=_.andln(3)+A&3;O===3&&(O=-1),T===3&&(T=-1);var P;(O&1)===0?P=0:(I=g.andln(7)+E&7,(I===3||I===5)&&T===2?P=-O:P=O),M[0].push(P);var k;(T&1)===0?k=0:(I=_.andln(7)+A&7,(I===3||I===5)&&O===2?k=-T:k=T),M[1].push(k),2*E===P+1&&(E=1-E),2*A===k+1&&(A=1-A),g.iushrn(1),_.iushrn(1)}return M}t.getJSF=f;function l(g,_,M){var E="_"+_;g.prototype[_]=function(){return this[E]!==void 0?this[E]:this[E]=M.call(this)}}t.cachedProperty=l;function v(g){return typeof g=="string"?t.toArray(g,"hex"):g}t.parseBytes=v;function h(g){return new r(g,"hex","le")}t.intFromLE=h})(on);var Bp={},ya=li.exports,Pu=on,rc=Pu.getNAF,x9=Pu.getJSF,nc=Pu.assert;function ha(e,t){this.type=e,this.p=new ya(t.p,16),this.red=t.prime?ya.red(t.prime):ya.mont(this.p),this.zero=new ya(0).toRed(this.red),this.one=new ya(1).toRed(this.red),this.two=new ya(2).toRed(this.red),this.n=t.n&&new ya(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var bl=ha;ha.prototype.point=function(){throw new Error("Not implemented")};ha.prototype.validate=function(){throw new Error("Not implemented")};ha.prototype._fixedNafMul=function(t,r){nc(t.precomputed);var n=t._getDoubles(),a=rc(r,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var f=[],l,v;for(l=0;l<a.length;l+=n.step){v=0;for(var h=l+n.step-1;h>=l;h--)v=(v<<1)+a[h];f.push(v)}for(var g=this.jpoint(null,null,null),_=this.jpoint(null,null,null),M=i;M>0;M--){for(l=0;l<f.length;l++)v=f[l],v===M?_=_.mixedAdd(n.points[l]):v===-M&&(_=_.mixedAdd(n.points[l].neg()));g=g.add(_)}return g.toP()};ha.prototype._wnafMul=function(t,r){var n=4,a=t._getNAFPoints(n);n=a.wnd;for(var i=a.points,f=rc(r,n,this._bitLength),l=this.jpoint(null,null,null),v=f.length-1;v>=0;v--){for(var h=0;v>=0&&f[v]===0;v--)h++;if(v>=0&&h++,l=l.dblp(h),v<0)break;var g=f[v];nc(g!==0),t.type==="affine"?g>0?l=l.mixedAdd(i[g-1>>1]):l=l.mixedAdd(i[-g-1>>1].neg()):g>0?l=l.add(i[g-1>>1]):l=l.add(i[-g-1>>1].neg())}return t.type==="affine"?l.toP():l};ha.prototype._wnafMulAdd=function(t,r,n,a,i){var f=this._wnafT1,l=this._wnafT2,v=this._wnafT3,h=0,g,_,M;for(g=0;g<a;g++){M=r[g];var E=M._getNAFPoints(t);f[g]=E.wnd,l[g]=E.points}for(g=a-1;g>=1;g-=2){var A=g-1,I=g;if(f[A]!==1||f[I]!==1){v[A]=rc(n[A],f[A],this._bitLength),v[I]=rc(n[I],f[I],this._bitLength),h=Math.max(v[A].length,h),h=Math.max(v[I].length,h);continue}var O=[r[A],null,null,r[I]];r[A].y.cmp(r[I].y)===0?(O[1]=r[A].add(r[I]),O[2]=r[A].toJ().mixedAdd(r[I].neg())):r[A].y.cmp(r[I].y.redNeg())===0?(O[1]=r[A].toJ().mixedAdd(r[I]),O[2]=r[A].add(r[I].neg())):(O[1]=r[A].toJ().mixedAdd(r[I]),O[2]=r[A].toJ().mixedAdd(r[I].neg()));var T=[-3,-1,-5,-7,0,7,5,1,3],P=x9(n[A],n[I]);for(h=Math.max(P[0].length,h),v[A]=new Array(h),v[I]=new Array(h),_=0;_<h;_++){var k=P[0][_]|0,R=P[1][_]|0;v[A][_]=T[(k+1)*3+(R+1)],v[I][_]=0,l[A]=O}}var D=this.jpoint(null,null,null),V=this._wnafT4;for(g=h;g>=0;g--){for(var q=0;g>=0;){var $=!0;for(_=0;_<a;_++)V[_]=v[_][g]|0,V[_]!==0&&($=!1);if(!$)break;q++,g--}if(g>=0&&q++,D=D.dblp(q),g<0)break;for(_=0;_<a;_++){var F=V[_];F!==0&&(F>0?M=l[_][F-1>>1]:F<0&&(M=l[_][-F-1>>1].neg()),M.type==="affine"?D=D.mixedAdd(M):D=D.add(M))}}for(g=0;g<a;g++)l[g]=null;return i?D:D.toP()};function xn(e,t){this.curve=e,this.type=t,this.precomputed=null}ha.BasePoint=xn;xn.prototype.eq=function(){throw new Error("Not implemented")};xn.prototype.validate=function(){return this.curve.validate(this)};ha.prototype.decodePoint=function(t,r){t=Pu.toArray(t,r);var n=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*n){t[0]===6?nc(t[t.length-1]%2===0):t[0]===7&&nc(t[t.length-1]%2===1);var a=this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));return a}else if((t[0]===2||t[0]===3)&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),t[0]===3);throw new Error("Unknown point format")};xn.prototype.encodeCompressed=function(t){return this.encode(t,!0)};xn.prototype._encode=function(t){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};xn.prototype.encode=function(t,r){return Pu.encode(this._encode(r),t)};xn.prototype.precompute=function(t){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,t),r.beta=this._getBeta(),this.precomputed=r,this};xn.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((t.bitLength()+1)/r.step):!1};xn.prototype._getDoubles=function(t,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],a=this,i=0;i<r;i+=t){for(var f=0;f<t;f++)a=a.dbl();n.push(a)}return{step:t,points:n}};xn.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<t)-1,a=n===1?null:this.dbl(),i=1;i<n;i++)r[i]=r[i-1].add(a);return{wnd:t,points:r}};xn.prototype._getBeta=function(){return null};xn.prototype.dblp=function(t){for(var r=this,n=0;n<t;n++)r=r.dbl();return r};var E9=on,rr=li.exports,Up=at.exports,ws=bl,A9=E9.assert;function En(e){ws.call(this,"short",e),this.a=new rr(e.a,16).toRed(this.red),this.b=new rr(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Up(En,ws);var I9=En;En.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(t.beta)r=new rr(t.beta,16).toRed(this.red);else{var a=this._getEndoRoots(this.p);r=a[0].cmp(a[1])<0?a[0]:a[1],r=r.toRed(this.red)}if(t.lambda)n=new rr(t.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(r))===0?n=i[0]:(n=i[1],A9(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var f;return t.basis?f=t.basis.map(function(l){return{a:new rr(l.a,16),b:new rr(l.b,16)}}):f=this._getEndoBasis(n),{beta:r,lambda:n,basis:f}}};En.prototype._getEndoRoots=function(t){var r=t===this.p?this.red:rr.mont(t),n=new rr(2).toRed(r).redInvm(),a=n.redNeg(),i=new rr(3).toRed(r).redNeg().redSqrt().redMul(n),f=a.redAdd(i).fromRed(),l=a.redSub(i).fromRed();return[f,l]};En.prototype._getEndoBasis=function(t){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=t,a=this.n.clone(),i=new rr(1),f=new rr(0),l=new rr(0),v=new rr(1),h,g,_,M,E,A,I,O=0,T,P;n.cmpn(0)!==0;){var k=a.div(n);T=a.sub(k.mul(n)),P=l.sub(k.mul(i));var R=v.sub(k.mul(f));if(!_&&T.cmp(r)<0)h=I.neg(),g=i,_=T.neg(),M=P;else if(_&&++O===2)break;I=T,a=n,n=T,l=i,i=P,v=f,f=R}E=T.neg(),A=P;var D=_.sqr().add(M.sqr()),V=E.sqr().add(A.sqr());return V.cmp(D)>=0&&(E=h,A=g),_.negative&&(_=_.neg(),M=M.neg()),E.negative&&(E=E.neg(),A=A.neg()),[{a:_,b:M},{a:E,b:A}]};En.prototype._endoSplit=function(t){var r=this.endo.basis,n=r[0],a=r[1],i=a.b.mul(t).divRound(this.n),f=n.b.neg().mul(t).divRound(this.n),l=i.mul(n.a),v=f.mul(a.a),h=i.mul(n.b),g=f.mul(a.b),_=t.sub(l).sub(v),M=h.add(g).neg();return{k1:_,k2:M}};En.prototype.pointFromX=function(t,r){t=new rr(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),a=n.redSqrt();if(a.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var i=a.fromRed().isOdd();return(r&&!i||!r&&i)&&(a=a.redNeg()),this.point(t,a)};En.prototype.validate=function(t){if(t.inf)return!0;var r=t.x,n=t.y,a=this.a.redMul(r),i=r.redSqr().redMul(r).redIAdd(a).redIAdd(this.b);return n.redSqr().redISub(i).cmpn(0)===0};En.prototype._endoWnafMulAdd=function(t,r,n){for(var a=this._endoWnafT1,i=this._endoWnafT2,f=0;f<t.length;f++){var l=this._endoSplit(r[f]),v=t[f],h=v._getBeta();l.k1.negative&&(l.k1.ineg(),v=v.neg(!0)),l.k2.negative&&(l.k2.ineg(),h=h.neg(!0)),a[f*2]=v,a[f*2+1]=h,i[f*2]=l.k1,i[f*2+1]=l.k2}for(var g=this._wnafMulAdd(1,a,i,f*2,n),_=0;_<f*2;_++)a[_]=null,i[_]=null;return g};function mr(e,t,r,n){ws.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new rr(t,16),this.y=new rr(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Up(mr,ws.BasePoint);En.prototype.point=function(t,r,n){return new mr(this,t,r,n)};En.prototype.pointFromJSON=function(t,r){return mr.fromJSON(this,t,r)};mr.prototype._getBeta=function(){if(!!this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,a=function(i){return n.point(i.x.redMul(n.endo.beta),i.y)};t.beta=r,r.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(a)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(a)}}}return r}};mr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};mr.fromJSON=function(t,r,n){typeof r=="string"&&(r=JSON.parse(r));var a=t.point(r[0],r[1],n);if(!r[2])return a;function i(l){return t.point(l[0],l[1],n)}var f=r[2];return a.precomputed={beta:null,doubles:f.doubles&&{step:f.doubles.step,points:[a].concat(f.doubles.points.map(i))},naf:f.naf&&{wnd:f.naf.wnd,points:[a].concat(f.naf.points.map(i))}},a};mr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};mr.prototype.isInfinity=function(){return this.inf};mr.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var r=this.y.redSub(t.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(t.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(t.x),a=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,a)};mr.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),a=t.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(a),f=i.redSqr().redISub(this.x.redAdd(this.x)),l=i.redMul(this.x.redSub(f)).redISub(this.y);return this.curve.point(f,l)};mr.prototype.getX=function(){return this.x.fromRed()};mr.prototype.getY=function(){return this.y.fromRed()};mr.prototype.mul=function(t){return t=new rr(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)};mr.prototype.mulAdd=function(t,r,n){var a=[this,r],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(a,i):this.curve._wnafMulAdd(1,a,i,2)};mr.prototype.jmulAdd=function(t,r,n){var a=[this,r],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(a,i,!0):this.curve._wnafMulAdd(1,a,i,2,!0)};mr.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)};mr.prototype.neg=function(t){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,a=function(i){return i.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(a)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(a)}}}return r};mr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function Sr(e,t,r,n){ws.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new rr(0)):(this.x=new rr(t,16),this.y=new rr(r,16),this.z=new rr(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Up(Sr,ws.BasePoint);En.prototype.jpoint=function(t,r,n){return new Sr(this,t,r,n)};Sr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),r=t.redSqr(),n=this.x.redMul(r),a=this.y.redMul(r).redMul(t);return this.curve.point(n,a)};Sr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Sr.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var r=t.z.redSqr(),n=this.z.redSqr(),a=this.x.redMul(r),i=t.x.redMul(n),f=this.y.redMul(r.redMul(t.z)),l=t.y.redMul(n.redMul(this.z)),v=a.redSub(i),h=f.redSub(l);if(v.cmpn(0)===0)return h.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var g=v.redSqr(),_=g.redMul(v),M=a.redMul(g),E=h.redSqr().redIAdd(_).redISub(M).redISub(M),A=h.redMul(M.redISub(E)).redISub(f.redMul(_)),I=this.z.redMul(t.z).redMul(v);return this.curve.jpoint(E,A,I)};Sr.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var r=this.z.redSqr(),n=this.x,a=t.x.redMul(r),i=this.y,f=t.y.redMul(r).redMul(this.z),l=n.redSub(a),v=i.redSub(f);if(l.cmpn(0)===0)return v.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var h=l.redSqr(),g=h.redMul(l),_=n.redMul(h),M=v.redSqr().redIAdd(g).redISub(_).redISub(_),E=v.redMul(_.redISub(M)).redISub(i.redMul(g)),A=this.z.redMul(l);return this.curve.jpoint(M,E,A)};Sr.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<t;r++)n=n.dbl();return n}var a=this.curve.a,i=this.curve.tinv,f=this.x,l=this.y,v=this.z,h=v.redSqr().redSqr(),g=l.redAdd(l);for(r=0;r<t;r++){var _=f.redSqr(),M=g.redSqr(),E=M.redSqr(),A=_.redAdd(_).redIAdd(_).redIAdd(a.redMul(h)),I=f.redMul(M),O=A.redSqr().redISub(I.redAdd(I)),T=I.redISub(O),P=A.redMul(T);P=P.redIAdd(P).redISub(E);var k=g.redMul(v);r+1<t&&(h=h.redMul(E)),f=O,v=k,g=P}return this.curve.jpoint(f,g.redMul(i),v)};Sr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Sr.prototype._zeroDbl=function(){var t,r,n;if(this.zOne){var a=this.x.redSqr(),i=this.y.redSqr(),f=i.redSqr(),l=this.x.redAdd(i).redSqr().redISub(a).redISub(f);l=l.redIAdd(l);var v=a.redAdd(a).redIAdd(a),h=v.redSqr().redISub(l).redISub(l),g=f.redIAdd(f);g=g.redIAdd(g),g=g.redIAdd(g),t=h,r=v.redMul(l.redISub(h)).redISub(g),n=this.y.redAdd(this.y)}else{var _=this.x.redSqr(),M=this.y.redSqr(),E=M.redSqr(),A=this.x.redAdd(M).redSqr().redISub(_).redISub(E);A=A.redIAdd(A);var I=_.redAdd(_).redIAdd(_),O=I.redSqr(),T=E.redIAdd(E);T=T.redIAdd(T),T=T.redIAdd(T),t=O.redISub(A).redISub(A),r=I.redMul(A.redISub(t)).redISub(T),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(t,r,n)};Sr.prototype._threeDbl=function(){var t,r,n;if(this.zOne){var a=this.x.redSqr(),i=this.y.redSqr(),f=i.redSqr(),l=this.x.redAdd(i).redSqr().redISub(a).redISub(f);l=l.redIAdd(l);var v=a.redAdd(a).redIAdd(a).redIAdd(this.curve.a),h=v.redSqr().redISub(l).redISub(l);t=h;var g=f.redIAdd(f);g=g.redIAdd(g),g=g.redIAdd(g),r=v.redMul(l.redISub(h)).redISub(g),n=this.y.redAdd(this.y)}else{var _=this.z.redSqr(),M=this.y.redSqr(),E=this.x.redMul(M),A=this.x.redSub(_).redMul(this.x.redAdd(_));A=A.redAdd(A).redIAdd(A);var I=E.redIAdd(E);I=I.redIAdd(I);var O=I.redAdd(I);t=A.redSqr().redISub(O),n=this.y.redAdd(this.z).redSqr().redISub(M).redISub(_);var T=M.redSqr();T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T),r=A.redMul(I.redISub(t)).redISub(T)}return this.curve.jpoint(t,r,n)};Sr.prototype._dbl=function(){var t=this.curve.a,r=this.x,n=this.y,a=this.z,i=a.redSqr().redSqr(),f=r.redSqr(),l=n.redSqr(),v=f.redAdd(f).redIAdd(f).redIAdd(t.redMul(i)),h=r.redAdd(r);h=h.redIAdd(h);var g=h.redMul(l),_=v.redSqr().redISub(g.redAdd(g)),M=g.redISub(_),E=l.redSqr();E=E.redIAdd(E),E=E.redIAdd(E),E=E.redIAdd(E);var A=v.redMul(M).redISub(E),I=n.redAdd(n).redMul(a);return this.curve.jpoint(_,A,I)};Sr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),a=r.redSqr(),i=t.redAdd(t).redIAdd(t),f=i.redSqr(),l=this.x.redAdd(r).redSqr().redISub(t).redISub(a);l=l.redIAdd(l),l=l.redAdd(l).redIAdd(l),l=l.redISub(f);var v=l.redSqr(),h=a.redIAdd(a);h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var g=i.redIAdd(l).redSqr().redISub(f).redISub(v).redISub(h),_=r.redMul(g);_=_.redIAdd(_),_=_.redIAdd(_);var M=this.x.redMul(v).redISub(_);M=M.redIAdd(M),M=M.redIAdd(M);var E=this.y.redMul(g.redMul(h.redISub(g)).redISub(l.redMul(v)));E=E.redIAdd(E),E=E.redIAdd(E),E=E.redIAdd(E);var A=this.z.redAdd(l).redSqr().redISub(n).redISub(v);return this.curve.jpoint(M,E,A)};Sr.prototype.mul=function(t,r){return t=new rr(t,r),this.curve._wnafMul(this,t)};Sr.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var r=this.z.redSqr(),n=t.z.redSqr();if(this.x.redMul(n).redISub(t.x.redMul(r)).cmpn(0)!==0)return!1;var a=r.redMul(this.z),i=n.redMul(t.z);return this.y.redMul(i).redISub(t.y.redMul(a)).cmpn(0)===0};Sr.prototype.eqXToP=function(t){var r=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var a=t.clone(),i=this.curve.redN.redMul(r);;){if(a.iadd(this.curve.n),a.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),this.x.cmp(n)===0)return!0}};Sr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Sr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var To=li.exports,R_=at.exports,wl=bl,T9=on;function _s(e){wl.call(this,"mont",e),this.a=new To(e.a,16).toRed(this.red),this.b=new To(e.b,16).toRed(this.red),this.i4=new To(4).toRed(this.red).redInvm(),this.two=new To(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}R_(_s,wl);var C9=_s;_s.prototype.validate=function(t){var r=t.normalize().x,n=r.redSqr(),a=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),i=a.redSqrt();return i.redSqr().cmp(a)===0};function pr(e,t,r){wl.BasePoint.call(this,e,"projective"),t===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new To(t,16),this.z=new To(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}R_(pr,wl.BasePoint);_s.prototype.decodePoint=function(t,r){return this.point(T9.toArray(t,r),1)};_s.prototype.point=function(t,r){return new pr(this,t,r)};_s.prototype.pointFromJSON=function(t){return pr.fromJSON(this,t)};pr.prototype.precompute=function(){};pr.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};pr.fromJSON=function(t,r){return new pr(t,r[0],r[1]||t.one)};pr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};pr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};pr.prototype.dbl=function(){var t=this.x.redAdd(this.z),r=t.redSqr(),n=this.x.redSub(this.z),a=n.redSqr(),i=r.redSub(a),f=r.redMul(a),l=i.redMul(a.redAdd(this.curve.a24.redMul(i)));return this.curve.point(f,l)};pr.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};pr.prototype.diffAdd=function(t,r){var n=this.x.redAdd(this.z),a=this.x.redSub(this.z),i=t.x.redAdd(t.z),f=t.x.redSub(t.z),l=f.redMul(n),v=i.redMul(a),h=r.z.redMul(l.redAdd(v).redSqr()),g=r.x.redMul(l.redISub(v).redSqr());return this.curve.point(h,g)};pr.prototype.mul=function(t){for(var r=t.clone(),n=this,a=this.curve.point(null,null),i=this,f=[];r.cmpn(0)!==0;r.iushrn(1))f.push(r.andln(1));for(var l=f.length-1;l>=0;l--)f[l]===0?(n=n.diffAdd(a,i),a=a.dbl()):(a=n.diffAdd(a,i),n=n.dbl());return a};pr.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};pr.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};pr.prototype.eq=function(t){return this.getX().cmp(t.getX())===0};pr.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};pr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var O9=on,Ti=li.exports,N_=at.exports,_l=bl,P9=O9.assert;function hi(e){this.twisted=(e.a|0)!==1,this.mOneA=this.twisted&&(e.a|0)===-1,this.extended=this.mOneA,_l.call(this,"edwards",e),this.a=new Ti(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Ti(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Ti(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),P9(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(e.c|0)===1}N_(hi,_l);var k9=hi;hi.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)};hi.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)};hi.prototype.jpoint=function(t,r,n,a){return this.point(t,r,n,a)};hi.prototype.pointFromX=function(t,r){t=new Ti(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),a=this.c2.redSub(this.a.redMul(n)),i=this.one.redSub(this.c2.redMul(this.d).redMul(n)),f=a.redMul(i.redInvm()),l=f.redSqrt();if(l.redSqr().redSub(f).cmp(this.zero)!==0)throw new Error("invalid point");var v=l.fromRed().isOdd();return(r&&!v||!r&&v)&&(l=l.redNeg()),this.point(t,l)};hi.prototype.pointFromY=function(t,r){t=new Ti(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),a=n.redSub(this.c2),i=n.redMul(this.d).redMul(this.c2).redSub(this.a),f=a.redMul(i.redInvm());if(f.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,t)}var l=f.redSqrt();if(l.redSqr().redSub(f).cmp(this.zero)!==0)throw new Error("invalid point");return l.fromRed().isOdd()!==r&&(l=l.redNeg()),this.point(l,t)};hi.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var r=t.x.redSqr(),n=t.y.redSqr(),a=r.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return a.cmp(i)===0};function Ht(e,t,r,n,a){_l.BasePoint.call(this,e,"projective"),t===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Ti(t,16),this.y=new Ti(r,16),this.z=n?new Ti(n,16):this.curve.one,this.t=a&&new Ti(a,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}N_(Ht,_l.BasePoint);hi.prototype.pointFromJSON=function(t){return Ht.fromJSON(this,t)};hi.prototype.point=function(t,r,n,a){return new Ht(this,t,r,n,a)};Ht.fromJSON=function(t,r){return new Ht(t,r[0],r[1],r[2])};Ht.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Ht.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Ht.prototype._extDbl=function(){var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var a=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(r),f=a.redAdd(r),l=f.redSub(n),v=a.redSub(r),h=i.redMul(l),g=f.redMul(v),_=i.redMul(v),M=l.redMul(f);return this.curve.point(h,g,M,_)};Ht.prototype._projDbl=function(){var t=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),a,i,f,l,v,h;if(this.curve.twisted){l=this.curve._mulA(r);var g=l.redAdd(n);this.zOne?(a=t.redSub(r).redSub(n).redMul(g.redSub(this.curve.two)),i=g.redMul(l.redSub(n)),f=g.redSqr().redSub(g).redSub(g)):(v=this.z.redSqr(),h=g.redSub(v).redISub(v),a=t.redSub(r).redISub(n).redMul(h),i=g.redMul(l.redSub(n)),f=g.redMul(h))}else l=r.redAdd(n),v=this.curve._mulC(this.z).redSqr(),h=l.redSub(v).redSub(v),a=this.curve._mulC(t.redISub(l)).redMul(h),i=this.curve._mulC(l).redMul(r.redISub(n)),f=l.redMul(h);return this.curve.point(a,i,f)};Ht.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Ht.prototype._extAdd=function(t){var r=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),a=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),f=n.redSub(r),l=i.redSub(a),v=i.redAdd(a),h=n.redAdd(r),g=f.redMul(l),_=v.redMul(h),M=f.redMul(h),E=l.redMul(v);return this.curve.point(g,_,E,M)};Ht.prototype._projAdd=function(t){var r=this.z.redMul(t.z),n=r.redSqr(),a=this.x.redMul(t.x),i=this.y.redMul(t.y),f=this.curve.d.redMul(a).redMul(i),l=n.redSub(f),v=n.redAdd(f),h=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(a).redISub(i),g=r.redMul(l).redMul(h),_,M;return this.curve.twisted?(_=r.redMul(v).redMul(i.redSub(this.curve._mulA(a))),M=l.redMul(v)):(_=r.redMul(v).redMul(i.redSub(a)),M=this.curve._mulC(l).redMul(v)),this.curve.point(g,_,M)};Ht.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)};Ht.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)};Ht.prototype.mulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!1)};Ht.prototype.jmulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!0)};Ht.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this};Ht.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Ht.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Ht.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Ht.prototype.eq=function(t){return this===t||this.getX().cmp(t.getX())===0&&this.getY().cmp(t.getY())===0};Ht.prototype.eqXToP=function(t){var r=t.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=t.clone(),a=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(a),this.x.cmp(r)===0)return!0}};Ht.prototype.toP=Ht.prototype.normalize;Ht.prototype.mixedAdd=Ht.prototype.add;(function(e){var t=e;t.base=bl,t.short=I9,t.mont=C9,t.edwards=k9})(Bp);var Sl={},Ml={},dt={},R9=Sn,N9=at.exports;dt.inherits=N9;function D9(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function B9(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),a=0;a<e.length;a+=2)r.push(parseInt(e[a]+e[a+1],16))}else for(var n=0,a=0;a<e.length;a++){var i=e.charCodeAt(a);i<128?r[n++]=i:i<2048?(r[n++]=i>>6|192,r[n++]=i&63|128):D9(e,a)?(i=65536+((i&1023)<<10)+(e.charCodeAt(++a)&1023),r[n++]=i>>18|240,r[n++]=i>>12&63|128,r[n++]=i>>6&63|128,r[n++]=i&63|128):(r[n++]=i>>12|224,r[n++]=i>>6&63|128,r[n++]=i&63|128)}else for(a=0;a<e.length;a++)r[a]=e[a]|0;return r}dt.toArray=B9;function U9(e){for(var t="",r=0;r<e.length;r++)t+=B_(e[r].toString(16));return t}dt.toHex=U9;function D_(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}dt.htonl=D_;function F9(e,t){for(var r="",n=0;n<e.length;n++){var a=e[n];t==="little"&&(a=D_(a)),r+=U_(a.toString(16))}return r}dt.toHex32=F9;function B_(e){return e.length===1?"0"+e:e}dt.zero2=B_;function U_(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}dt.zero8=U_;function L9(e,t,r,n){var a=r-t;R9(a%4===0);for(var i=new Array(a/4),f=0,l=t;f<i.length;f++,l+=4){var v;n==="big"?v=e[l]<<24|e[l+1]<<16|e[l+2]<<8|e[l+3]:v=e[l+3]<<24|e[l+2]<<16|e[l+1]<<8|e[l],i[f]=v>>>0}return i}dt.join32=L9;function q9(e,t){for(var r=new Array(e.length*4),n=0,a=0;n<e.length;n++,a+=4){var i=e[n];t==="big"?(r[a]=i>>>24,r[a+1]=i>>>16&255,r[a+2]=i>>>8&255,r[a+3]=i&255):(r[a+3]=i>>>24,r[a+2]=i>>>16&255,r[a+1]=i>>>8&255,r[a]=i&255)}return r}dt.split32=q9;function j9(e,t){return e>>>t|e<<32-t}dt.rotr32=j9;function $9(e,t){return e<<t|e>>>32-t}dt.rotl32=$9;function V9(e,t){return e+t>>>0}dt.sum32=V9;function z9(e,t,r){return e+t+r>>>0}dt.sum32_3=z9;function K9(e,t,r,n){return e+t+r+n>>>0}dt.sum32_4=K9;function H9(e,t,r,n,a){return e+t+r+n+a>>>0}dt.sum32_5=H9;function G9(e,t,r,n){var a=e[t],i=e[t+1],f=n+i>>>0,l=(f<n?1:0)+r+a;e[t]=l>>>0,e[t+1]=f}dt.sum64=G9;function W9(e,t,r,n){var a=t+n>>>0,i=(a<t?1:0)+e+r;return i>>>0}dt.sum64_hi=W9;function J9(e,t,r,n){var a=t+n;return a>>>0}dt.sum64_lo=J9;function Z9(e,t,r,n,a,i,f,l){var v=0,h=t;h=h+n>>>0,v+=h<t?1:0,h=h+i>>>0,v+=h<i?1:0,h=h+l>>>0,v+=h<l?1:0;var g=e+r+a+f+v;return g>>>0}dt.sum64_4_hi=Z9;function Y9(e,t,r,n,a,i,f,l){var v=t+n+i+l;return v>>>0}dt.sum64_4_lo=Y9;function X9(e,t,r,n,a,i,f,l,v,h){var g=0,_=t;_=_+n>>>0,g+=_<t?1:0,_=_+i>>>0,g+=_<i?1:0,_=_+l>>>0,g+=_<l?1:0,_=_+h>>>0,g+=_<h?1:0;var M=e+r+a+f+v+g;return M>>>0}dt.sum64_5_hi=X9;function Q9(e,t,r,n,a,i,f,l,v,h){var g=t+n+i+l+h;return g>>>0}dt.sum64_5_lo=Q9;function eT(e,t,r){var n=t<<32-r|e>>>r;return n>>>0}dt.rotr64_hi=eT;function tT(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}dt.rotr64_lo=tT;function rT(e,t,r){return e>>>r}dt.shr64_hi=rT;function nT(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}dt.shr64_lo=nT;var Ss={},Zy=dt,iT=Sn;function xl(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Ss.BlockHash=xl;xl.prototype.update=function(t,r){if(t=Zy.toArray(t,r),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var n=t.length%this._delta8;this.pending=t.slice(t.length-n,t.length),this.pending.length===0&&(this.pending=null),t=Zy.join32(t,0,t.length-n,this.endian);for(var a=0;a<t.length;a+=this._delta32)this._update(t,a,a+this._delta32)}return this};xl.prototype.digest=function(t){return this.update(this._pad()),iT(this.pending===null),this._digest(t)};xl.prototype._pad=function(){var t=this.pendingTotal,r=this._delta8,n=r-(t+this.padLength)%r,a=new Array(n+this.padLength);a[0]=128;for(var i=1;i<n;i++)a[i]=0;if(t<<=3,this.endian==="big"){for(var f=8;f<this.padLength;f++)a[i++]=0;a[i++]=0,a[i++]=0,a[i++]=0,a[i++]=0,a[i++]=t>>>24&255,a[i++]=t>>>16&255,a[i++]=t>>>8&255,a[i++]=t&255}else for(a[i++]=t&255,a[i++]=t>>>8&255,a[i++]=t>>>16&255,a[i++]=t>>>24&255,a[i++]=0,a[i++]=0,a[i++]=0,a[i++]=0,f=8;f<this.padLength;f++)a[i++]=0;return a};var Ms={},di={},aT=dt,ri=aT.rotr32;function oT(e,t,r,n){if(e===0)return F_(t,r,n);if(e===1||e===3)return q_(t,r,n);if(e===2)return L_(t,r,n)}di.ft_1=oT;function F_(e,t,r){return e&t^~e&r}di.ch32=F_;function L_(e,t,r){return e&t^e&r^t&r}di.maj32=L_;function q_(e,t,r){return e^t^r}di.p32=q_;function sT(e){return ri(e,2)^ri(e,13)^ri(e,22)}di.s0_256=sT;function uT(e){return ri(e,6)^ri(e,11)^ri(e,25)}di.s1_256=uT;function fT(e){return ri(e,7)^ri(e,18)^e>>>3}di.g0_256=fT;function cT(e){return ri(e,17)^ri(e,19)^e>>>10}di.g1_256=cT;var rs=dt,lT=Ss,hT=di,Oh=rs.rotl32,Fs=rs.sum32,dT=rs.sum32_5,vT=hT.ft_1,j_=lT.BlockHash,pT=[1518500249,1859775393,2400959708,3395469782];function si(){if(!(this instanceof si))return new si;j_.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}rs.inherits(si,j_);var mT=si;si.blockSize=512;si.outSize=160;si.hmacStrength=80;si.padLength=64;si.prototype._update=function(t,r){for(var n=this.W,a=0;a<16;a++)n[a]=t[r+a];for(;a<n.length;a++)n[a]=Oh(n[a-3]^n[a-8]^n[a-14]^n[a-16],1);var i=this.h[0],f=this.h[1],l=this.h[2],v=this.h[3],h=this.h[4];for(a=0;a<n.length;a++){var g=~~(a/20),_=dT(Oh(i,5),vT(g,f,l,v),h,n[a],pT[g]);h=v,v=l,l=Oh(f,30),f=i,i=_}this.h[0]=Fs(this.h[0],i),this.h[1]=Fs(this.h[1],f),this.h[2]=Fs(this.h[2],l),this.h[3]=Fs(this.h[3],v),this.h[4]=Fs(this.h[4],h)};si.prototype._digest=function(t){return t==="hex"?rs.toHex32(this.h,"big"):rs.split32(this.h,"big")};var ns=dt,yT=Ss,xs=di,gT=Sn,In=ns.sum32,bT=ns.sum32_4,wT=ns.sum32_5,_T=xs.ch32,ST=xs.maj32,MT=xs.s0_256,xT=xs.s1_256,ET=xs.g0_256,AT=xs.g1_256,$_=yT.BlockHash,IT=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ui(){if(!(this instanceof ui))return new ui;$_.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=IT,this.W=new Array(64)}ns.inherits(ui,$_);var V_=ui;ui.blockSize=512;ui.outSize=256;ui.hmacStrength=192;ui.padLength=64;ui.prototype._update=function(t,r){for(var n=this.W,a=0;a<16;a++)n[a]=t[r+a];for(;a<n.length;a++)n[a]=bT(AT(n[a-2]),n[a-7],ET(n[a-15]),n[a-16]);var i=this.h[0],f=this.h[1],l=this.h[2],v=this.h[3],h=this.h[4],g=this.h[5],_=this.h[6],M=this.h[7];for(gT(this.k.length===n.length),a=0;a<n.length;a++){var E=wT(M,xT(h),_T(h,g,_),this.k[a],n[a]),A=In(MT(i),ST(i,f,l));M=_,_=g,g=h,h=In(v,E),v=l,l=f,f=i,i=In(E,A)}this.h[0]=In(this.h[0],i),this.h[1]=In(this.h[1],f),this.h[2]=In(this.h[2],l),this.h[3]=In(this.h[3],v),this.h[4]=In(this.h[4],h),this.h[5]=In(this.h[5],g),this.h[6]=In(this.h[6],_),this.h[7]=In(this.h[7],M)};ui.prototype._digest=function(t){return t==="hex"?ns.toHex32(this.h,"big"):ns.split32(this.h,"big")};var T0=dt,z_=V_;function Ui(){if(!(this instanceof Ui))return new Ui;z_.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}T0.inherits(Ui,z_);var TT=Ui;Ui.blockSize=512;Ui.outSize=224;Ui.hmacStrength=192;Ui.padLength=64;Ui.prototype._digest=function(t){return t==="hex"?T0.toHex32(this.h.slice(0,7),"big"):T0.split32(this.h.slice(0,7),"big")};var Hr=dt,CT=Ss,OT=Sn,ni=Hr.rotr64_hi,ii=Hr.rotr64_lo,K_=Hr.shr64_hi,H_=Hr.shr64_lo,Ki=Hr.sum64,Ph=Hr.sum64_hi,kh=Hr.sum64_lo,PT=Hr.sum64_4_hi,kT=Hr.sum64_4_lo,RT=Hr.sum64_5_hi,NT=Hr.sum64_5_lo,G_=CT.BlockHash,DT=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Fn(){if(!(this instanceof Fn))return new Fn;G_.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=DT,this.W=new Array(160)}Hr.inherits(Fn,G_);var W_=Fn;Fn.blockSize=1024;Fn.outSize=512;Fn.hmacStrength=192;Fn.padLength=128;Fn.prototype._prepareBlock=function(t,r){for(var n=this.W,a=0;a<32;a++)n[a]=t[r+a];for(;a<n.length;a+=2){var i=HT(n[a-4],n[a-3]),f=GT(n[a-4],n[a-3]),l=n[a-14],v=n[a-13],h=zT(n[a-30],n[a-29]),g=KT(n[a-30],n[a-29]),_=n[a-32],M=n[a-31];n[a]=PT(i,f,l,v,h,g,_,M),n[a+1]=kT(i,f,l,v,h,g,_,M)}};Fn.prototype._update=function(t,r){this._prepareBlock(t,r);var n=this.W,a=this.h[0],i=this.h[1],f=this.h[2],l=this.h[3],v=this.h[4],h=this.h[5],g=this.h[6],_=this.h[7],M=this.h[8],E=this.h[9],A=this.h[10],I=this.h[11],O=this.h[12],T=this.h[13],P=this.h[14],k=this.h[15];OT(this.k.length===n.length);for(var R=0;R<n.length;R+=2){var D=P,V=k,q=$T(M,E),$=VT(M,E),F=BT(M,E,A,I,O),z=UT(M,E,A,I,O,T),b=this.k[R],o=this.k[R+1],u=n[R],c=n[R+1],d=RT(D,V,q,$,F,z,b,o,u,c),p=NT(D,V,q,$,F,z,b,o,u,c);D=qT(a,i),V=jT(a,i),q=FT(a,i,f,l,v),$=LT(a,i,f,l,v,h);var w=Ph(D,V,q,$),S=kh(D,V,q,$);P=O,k=T,O=A,T=I,A=M,I=E,M=Ph(g,_,d,p),E=kh(_,_,d,p),g=v,_=h,v=f,h=l,f=a,l=i,a=Ph(d,p,w,S),i=kh(d,p,w,S)}Ki(this.h,0,a,i),Ki(this.h,2,f,l),Ki(this.h,4,v,h),Ki(this.h,6,g,_),Ki(this.h,8,M,E),Ki(this.h,10,A,I),Ki(this.h,12,O,T),Ki(this.h,14,P,k)};Fn.prototype._digest=function(t){return t==="hex"?Hr.toHex32(this.h,"big"):Hr.split32(this.h,"big")};function BT(e,t,r,n,a){var i=e&r^~e&a;return i<0&&(i+=4294967296),i}function UT(e,t,r,n,a,i){var f=t&n^~t&i;return f<0&&(f+=4294967296),f}function FT(e,t,r,n,a){var i=e&r^e&a^r&a;return i<0&&(i+=4294967296),i}function LT(e,t,r,n,a,i){var f=t&n^t&i^n&i;return f<0&&(f+=4294967296),f}function qT(e,t){var r=ni(e,t,28),n=ni(t,e,2),a=ni(t,e,7),i=r^n^a;return i<0&&(i+=4294967296),i}function jT(e,t){var r=ii(e,t,28),n=ii(t,e,2),a=ii(t,e,7),i=r^n^a;return i<0&&(i+=4294967296),i}function $T(e,t){var r=ni(e,t,14),n=ni(e,t,18),a=ni(t,e,9),i=r^n^a;return i<0&&(i+=4294967296),i}function VT(e,t){var r=ii(e,t,14),n=ii(e,t,18),a=ii(t,e,9),i=r^n^a;return i<0&&(i+=4294967296),i}function zT(e,t){var r=ni(e,t,1),n=ni(e,t,8),a=K_(e,t,7),i=r^n^a;return i<0&&(i+=4294967296),i}function KT(e,t){var r=ii(e,t,1),n=ii(e,t,8),a=H_(e,t,7),i=r^n^a;return i<0&&(i+=4294967296),i}function HT(e,t){var r=ni(e,t,19),n=ni(t,e,29),a=K_(e,t,6),i=r^n^a;return i<0&&(i+=4294967296),i}function GT(e,t){var r=ii(e,t,19),n=ii(t,e,29),a=H_(e,t,6),i=r^n^a;return i<0&&(i+=4294967296),i}var C0=dt,J_=W_;function Fi(){if(!(this instanceof Fi))return new Fi;J_.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}C0.inherits(Fi,J_);var WT=Fi;Fi.blockSize=1024;Fi.outSize=384;Fi.hmacStrength=192;Fi.padLength=128;Fi.prototype._digest=function(t){return t==="hex"?C0.toHex32(this.h.slice(0,12),"big"):C0.split32(this.h.slice(0,12),"big")};Ms.sha1=mT;Ms.sha224=TT;Ms.sha256=V_;Ms.sha384=WT;Ms.sha512=W_;var Z_={},Ga=dt,JT=Ss,Ku=Ga.rotl32,Yy=Ga.sum32,Ls=Ga.sum32_3,Xy=Ga.sum32_4,Y_=JT.BlockHash;function fi(){if(!(this instanceof fi))return new fi;Y_.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Ga.inherits(fi,Y_);Z_.ripemd160=fi;fi.blockSize=512;fi.outSize=160;fi.hmacStrength=192;fi.padLength=64;fi.prototype._update=function(t,r){for(var n=this.h[0],a=this.h[1],i=this.h[2],f=this.h[3],l=this.h[4],v=n,h=a,g=i,_=f,M=l,E=0;E<80;E++){var A=Yy(Ku(Xy(n,Qy(E,a,i,f),t[XT[E]+r],ZT(E)),eC[E]),l);n=l,l=f,f=Ku(i,10),i=a,a=A,A=Yy(Ku(Xy(v,Qy(79-E,h,g,_),t[QT[E]+r],YT(E)),tC[E]),M),v=M,M=_,_=Ku(g,10),g=h,h=A}A=Ls(this.h[1],i,_),this.h[1]=Ls(this.h[2],f,M),this.h[2]=Ls(this.h[3],l,v),this.h[3]=Ls(this.h[4],n,h),this.h[4]=Ls(this.h[0],a,g),this.h[0]=A};fi.prototype._digest=function(t){return t==="hex"?Ga.toHex32(this.h,"little"):Ga.split32(this.h,"little")};function Qy(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function ZT(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function YT(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var XT=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],QT=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],eC=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],tC=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],rC=dt,nC=Sn;function is(e,t,r){if(!(this instanceof is))return new is(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(rC.toArray(t,r))}var iC=is;is.prototype._init=function(t){t.length>this.blockSize&&(t=new this.Hash().update(t).digest()),nC(t.length<=this.blockSize);for(var r=t.length;r<this.blockSize;r++)t.push(0);for(r=0;r<t.length;r++)t[r]^=54;for(this.inner=new this.Hash().update(t),r=0;r<t.length;r++)t[r]^=106;this.outer=new this.Hash().update(t)};is.prototype.update=function(t,r){return this.inner.update(t,r),this};is.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)};(function(e){var t=e;t.utils=dt,t.common=Ss,t.sha=Ms,t.ripemd=Z_,t.hmac=iC,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160})(Ml);var Rh,eg;function aC(){return eg||(eg=1,Rh={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),Rh}(function(e){var t=e,r=Ml,n=Bp,a=on,i=a.assert;function f(h){h.type==="short"?this.curve=new n.short(h):h.type==="edwards"?this.curve=new n.edwards(h):this.curve=new n.mont(h),this.g=this.curve.g,this.n=this.curve.n,this.hash=h.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=f;function l(h,g){Object.defineProperty(t,h,{configurable:!0,enumerable:!0,get:function(){var _=new f(g);return Object.defineProperty(t,h,{configurable:!0,enumerable:!0,value:_}),_}})}l("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),l("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),l("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),l("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),l("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),l("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),l("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var v;try{v=aC()}catch{v=void 0}l("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",v]})})(Sl);var oC=Ml,Fa=Dp,X_=Sn;function oa(e){if(!(this instanceof oa))return new oa(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=Fa.toArray(e.entropy,e.entropyEnc||"hex"),r=Fa.toArray(e.nonce,e.nonceEnc||"hex"),n=Fa.toArray(e.pers,e.persEnc||"hex");X_(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var sC=oa;oa.prototype._init=function(t,r,n){var a=t.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(a),this._reseed=1,this.reseedInterval=281474976710656};oa.prototype._hmac=function(){return new oC.hmac(this.hash,this.K)};oa.prototype._update=function(t){var r=this._hmac().update(this.V).update([0]);t&&(r=r.update(t)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())};oa.prototype.reseed=function(t,r,n,a){typeof r!="string"&&(a=n,n=r,r=null),t=Fa.toArray(t,r),n=Fa.toArray(n,a),X_(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1};oa.prototype.generate=function(t,r,n,a){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(a=n,n=r,r=null),n&&(n=Fa.toArray(n,a||"hex"),this._update(n));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var f=i.slice(0,t);return this._update(n),this._reseed++,Fa.encode(f,r)};var uC=li.exports,fC=on,O0=fC.assert;function kr(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var cC=kr;kr.fromPublic=function(t,r,n){return r instanceof kr?r:new kr(t,{pub:r,pubEnc:n})};kr.fromPrivate=function(t,r,n){return r instanceof kr?r:new kr(t,{priv:r,privEnc:n})};kr.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};kr.prototype.getPublic=function(t,r){return typeof t=="string"&&(r=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,t):this.pub};kr.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv};kr.prototype._importPrivate=function(t,r){this.priv=new uC(t,r||16),this.priv=this.priv.umod(this.ec.curve.n)};kr.prototype._importPublic=function(t,r){if(t.x||t.y){this.ec.curve.type==="mont"?O0(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&O0(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,r)};kr.prototype.derive=function(t){return t.validate()||O0(t.validate(),"public point not validated"),t.mul(this.priv).getX()};kr.prototype.sign=function(t,r,n){return this.ec.sign(t,this,r,n)};kr.prototype.verify=function(t,r){return this.ec.verify(t,r,this)};kr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var ic=li.exports,Fp=on,lC=Fp.assert;function El(e,t){if(e instanceof El)return e;this._importDER(e,t)||(lC(e.r&&e.s,"Signature without r or s"),this.r=new ic(e.r,16),this.s=new ic(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var hC=El;function dC(){this.place=0}function Nh(e,t){var r=e[t.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var a=0,i=0,f=t.place;i<n;i++,f++)a<<=8,a|=e[f],a>>>=0;return a<=127?!1:(t.place=f,a)}function tg(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}El.prototype._importDER=function(t,r){t=Fp.toArray(t,r);var n=new dC;if(t[n.place++]!==48)return!1;var a=Nh(t,n);if(a===!1||a+n.place!==t.length||t[n.place++]!==2)return!1;var i=Nh(t,n);if(i===!1)return!1;var f=t.slice(n.place,i+n.place);if(n.place+=i,t[n.place++]!==2)return!1;var l=Nh(t,n);if(l===!1||t.length!==l+n.place)return!1;var v=t.slice(n.place,l+n.place);if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;if(v[0]===0)if(v[1]&128)v=v.slice(1);else return!1;return this.r=new ic(f),this.s=new ic(v),this.recoveryParam=null,!0};function Dh(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}El.prototype.toDER=function(t){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=tg(r),n=tg(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var a=[2];Dh(a,r.length),a=a.concat(r),a.push(2),Dh(a,n.length);var i=a.concat(n),f=[48];return Dh(f,i.length),f=f.concat(i),Fp.encode(f,t)};var Bh,rg;function vC(){if(rg)return Bh;rg=1;var e=li.exports,t=sC,r=on,n=Sl,a=Rp(),i=r.assert,f=cC,l=hC;function v(h){if(!(this instanceof v))return new v(h);typeof h=="string"&&(i(Object.prototype.hasOwnProperty.call(n,h),"Unknown curve "+h),h=n[h]),h instanceof n.PresetCurve&&(h={curve:h}),this.curve=h.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=h.curve.g,this.g.precompute(h.curve.n.bitLength()+1),this.hash=h.hash||h.curve.hash}return Bh=v,v.prototype.keyPair=function(g){return new f(this,g)},v.prototype.keyFromPrivate=function(g,_){return f.fromPrivate(this,g,_)},v.prototype.keyFromPublic=function(g,_){return f.fromPublic(this,g,_)},v.prototype.genKeyPair=function(g){g||(g={});for(var _=new t({hash:this.hash,pers:g.pers,persEnc:g.persEnc||"utf8",entropy:g.entropy||a(this.hash.hmacStrength),entropyEnc:g.entropy&&g.entropyEnc||"utf8",nonce:this.n.toArray()}),M=this.n.byteLength(),E=this.n.sub(new e(2));;){var A=new e(_.generate(M));if(!(A.cmp(E)>0))return A.iaddn(1),this.keyFromPrivate(A)}},v.prototype._truncateToN=function(g,_){var M=g.byteLength()*8-this.n.bitLength();return M>0&&(g=g.ushrn(M)),!_&&g.cmp(this.n)>=0?g.sub(this.n):g},v.prototype.sign=function(g,_,M,E){typeof M=="object"&&(E=M,M=null),E||(E={}),_=this.keyFromPrivate(_,M),g=this._truncateToN(new e(g,16));for(var A=this.n.byteLength(),I=_.getPrivate().toArray("be",A),O=g.toArray("be",A),T=new t({hash:this.hash,entropy:I,nonce:O,pers:E.pers,persEnc:E.persEnc||"utf8"}),P=this.n.sub(new e(1)),k=0;;k++){var R=E.k?E.k(k):new e(T.generate(this.n.byteLength()));if(R=this._truncateToN(R,!0),!(R.cmpn(1)<=0||R.cmp(P)>=0)){var D=this.g.mul(R);if(!D.isInfinity()){var V=D.getX(),q=V.umod(this.n);if(q.cmpn(0)!==0){var $=R.invm(this.n).mul(q.mul(_.getPrivate()).iadd(g));if($=$.umod(this.n),$.cmpn(0)!==0){var F=(D.getY().isOdd()?1:0)|(V.cmp(q)!==0?2:0);return E.canonical&&$.cmp(this.nh)>0&&($=this.n.sub($),F^=1),new l({r:q,s:$,recoveryParam:F})}}}}}},v.prototype.verify=function(g,_,M,E){g=this._truncateToN(new e(g,16)),M=this.keyFromPublic(M,E),_=new l(_,"hex");var A=_.r,I=_.s;if(A.cmpn(1)<0||A.cmp(this.n)>=0||I.cmpn(1)<0||I.cmp(this.n)>=0)return!1;var O=I.invm(this.n),T=O.mul(g).umod(this.n),P=O.mul(A).umod(this.n),k;return this.curve._maxwellTrick?(k=this.g.jmulAdd(T,M.getPublic(),P),k.isInfinity()?!1:k.eqXToP(A)):(k=this.g.mulAdd(T,M.getPublic(),P),k.isInfinity()?!1:k.getX().umod(this.n).cmp(A)===0)},v.prototype.recoverPubKey=function(h,g,_,M){i((3&_)===_,"The recovery param is more than two bits"),g=new l(g,M);var E=this.n,A=new e(h),I=g.r,O=g.s,T=_&1,P=_>>1;if(I.cmp(this.curve.p.umod(this.curve.n))>=0&&P)throw new Error("Unable to find sencond key candinate");P?I=this.curve.pointFromX(I.add(this.curve.n),T):I=this.curve.pointFromX(I,T);var k=g.r.invm(E),R=E.sub(A).mul(k).umod(E),D=O.mul(k).umod(E);return this.g.mulAdd(R,I,D)},v.prototype.getKeyRecoveryParam=function(h,g,_,M){if(g=new l(g,M),g.recoveryParam!==null)return g.recoveryParam;for(var E=0;E<4;E++){var A;try{A=this.recoverPubKey(h,g,E)}catch{continue}if(A.eq(_))return E}throw new Error("Unable to find valid recovery factor")},Bh}var ku=on,Q_=ku.assert,ng=ku.parseBytes,Es=ku.cachedProperty;function vr(e,t){this.eddsa=e,this._secret=ng(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=ng(t.pub)}vr.fromPublic=function(t,r){return r instanceof vr?r:new vr(t,{pub:r})};vr.fromSecret=function(t,r){return r instanceof vr?r:new vr(t,{secret:r})};vr.prototype.secret=function(){return this._secret};Es(vr,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Es(vr,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Es(vr,"privBytes",function(){var t=this.eddsa,r=this.hash(),n=t.encodingLength-1,a=r.slice(0,t.encodingLength);return a[0]&=248,a[n]&=127,a[n]|=64,a});Es(vr,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Es(vr,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Es(vr,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});vr.prototype.sign=function(t){return Q_(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)};vr.prototype.verify=function(t,r){return this.eddsa.verify(t,r,this)};vr.prototype.getSecret=function(t){return Q_(this._secret,"KeyPair is public only"),ku.encode(this.secret(),t)};vr.prototype.getPublic=function(t){return ku.encode(this.pubBytes(),t)};var pC=vr,mC=li.exports,Al=on,yC=Al.assert,Il=Al.cachedProperty,gC=Al.parseBytes;function uo(e,t){this.eddsa=e,typeof t!="object"&&(t=gC(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),yC(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof mC&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}Il(uo,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});Il(uo,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});Il(uo,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});Il(uo,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});uo.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};uo.prototype.toHex=function(){return Al.encode(this.toBytes(),"hex").toUpperCase()};var bC=uo,wC=Ml,_C=Sl,as=on,SC=as.assert,eS=as.parseBytes,tS=pC,ig=bC;function Gr(e){if(SC(e==="ed25519","only tested with ed25519 so far"),!(this instanceof Gr))return new Gr(e);e=_C[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=wC.sha512}var MC=Gr;Gr.prototype.sign=function(t,r){t=eS(t);var n=this.keyFromSecret(r),a=this.hashInt(n.messagePrefix(),t),i=this.g.mul(a),f=this.encodePoint(i),l=this.hashInt(f,n.pubBytes(),t).mul(n.priv()),v=a.add(l).umod(this.curve.n);return this.makeSignature({R:i,S:v,Rencoded:f})};Gr.prototype.verify=function(t,r,n){t=eS(t),r=this.makeSignature(r);var a=this.keyFromPublic(n),i=this.hashInt(r.Rencoded(),a.pubBytes(),t),f=this.g.mul(r.S()),l=r.R().add(a.pub().mul(i));return l.eq(f)};Gr.prototype.hashInt=function(){for(var t=this.hash(),r=0;r<arguments.length;r++)t.update(arguments[r]);return as.intFromLE(t.digest()).umod(this.curve.n)};Gr.prototype.keyFromPublic=function(t){return tS.fromPublic(this,t)};Gr.prototype.keyFromSecret=function(t){return tS.fromSecret(this,t)};Gr.prototype.makeSignature=function(t){return t instanceof ig?t:new ig(this,t)};Gr.prototype.encodePoint=function(t){var r=t.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=t.getX().isOdd()?128:0,r};Gr.prototype.decodePoint=function(t){t=as.parseBytes(t);var r=t.length-1,n=t.slice(0,r).concat(t[r]&-129),a=(t[r]&128)!==0,i=as.intFromLE(n);return this.curve.pointFromY(i,a)};Gr.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)};Gr.prototype.decodeInt=function(t){return as.intFromLE(t)};Gr.prototype.isPoint=function(t){return t instanceof this.pointClass};var ag;function Lp(){return ag||(ag=1,function(e){var t=e;t.version=M9.version,t.utils=on,t.rand=Rp(),t.curve=Bp,t.curves=Sl,t.ec=vC(),t.eddsa=MC}(Ch)),Ch}var jn={},qp={},jp={exports:{}};(function(e){(function(t,r){function n(b,o){if(!b)throw new Error(o||"Assertion failed")}function a(b,o){b.super_=o;var u=function(){};u.prototype=o.prototype,b.prototype=new u,b.prototype.constructor=b}function i(b,o,u){if(i.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((o==="le"||o==="be")&&(u=o,o=10),this._init(b||0,o||10,u||"be"))}typeof t=="object"?t.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var f;try{typeof window<"u"&&typeof window.Buffer<"u"?f=window.Buffer:f=Ue.Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,u){return o.cmp(u)>0?o:u},i.min=function(o,u){return o.cmp(u)<0?o:u},i.prototype._init=function(o,u,c){if(typeof o=="number")return this._initNumber(o,u,c);if(typeof o=="object")return this._initArray(o,u,c);u==="hex"&&(u=16),n(u===(u|0)&&u>=2&&u<=36),o=o.toString().replace(/\s+/g,"");var d=0;o[0]==="-"&&(d++,this.negative=1),d<o.length&&(u===16?this._parseHex(o,d,c):(this._parseBase(o,u,d),c==="le"&&this._initArray(this.toArray(),u,c)))},i.prototype._initNumber=function(o,u,c){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(n(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),u,c)},i.prototype._initArray=function(o,u,c){if(n(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var p,w,S=0;if(c==="be")for(d=o.length-1,p=0;d>=0;d-=3)w=o[d]|o[d-1]<<8|o[d-2]<<16,this.words[p]|=w<<S&67108863,this.words[p+1]=w>>>26-S&67108863,S+=24,S>=26&&(S-=26,p++);else if(c==="le")for(d=0,p=0;d<o.length;d+=3)w=o[d]|o[d+1]<<8|o[d+2]<<16,this.words[p]|=w<<S&67108863,this.words[p+1]=w>>>26-S&67108863,S+=24,S>=26&&(S-=26,p++);return this.strip()};function l(b,o){var u=b.charCodeAt(o);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function v(b,o,u){var c=l(b,u);return u-1>=o&&(c|=l(b,u-1)<<4),c}i.prototype._parseHex=function(o,u,c){this.length=Math.ceil((o.length-u)/6),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var p=0,w=0,S;if(c==="be")for(d=o.length-1;d>=u;d-=2)S=v(o,u,d)<<p,this.words[w]|=S&67108863,p>=18?(p-=18,w+=1,this.words[w]|=S>>>26):p+=8;else{var m=o.length-u;for(d=m%2===0?u+1:u;d<o.length;d+=2)S=v(o,u,d)<<p,this.words[w]|=S&67108863,p>=18?(p-=18,w+=1,this.words[w]|=S>>>26):p+=8}this.strip()};function h(b,o,u,c){for(var d=0,p=Math.min(b.length,u),w=o;w<p;w++){var S=b.charCodeAt(w)-48;d*=c,S>=49?d+=S-49+10:S>=17?d+=S-17+10:d+=S}return d}i.prototype._parseBase=function(o,u,c){this.words=[0],this.length=1;for(var d=0,p=1;p<=67108863;p*=u)d++;d--,p=p/u|0;for(var w=o.length-c,S=w%d,m=Math.min(w,w-S)+c,s=0,y=c;y<m;y+=d)s=h(o,y,y+d,u),this.imuln(p),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(S!==0){var x=1;for(s=h(o,y,o.length,u),y=0;y<S;y++)x*=u;this.imuln(x),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var u=0;u<this.length;u++)o.words[u]=this.words[u];o.length=this.length,o.negative=this.negative,o.red=this.red},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,u){o=o||10,u=u|0||1;var c;if(o===16||o==="hex"){c="";for(var d=0,p=0,w=0;w<this.length;w++){var S=this.words[w],m=((S<<d|p)&16777215).toString(16);p=S>>>24-d&16777215,p!==0||w!==this.length-1?c=g[6-m.length]+m+c:c=m+c,d+=2,d>=26&&(d-=26,w--)}for(p!==0&&(c=p.toString(16)+c);c.length%u!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(o===(o|0)&&o>=2&&o<=36){var s=_[o],y=M[o];c="";var x=this.clone();for(x.negative=0;!x.isZero();){var C=x.modn(y).toString(o);x=x.idivn(y),x.isZero()?c=C+c:c=g[s-C.length]+C+c}for(this.isZero()&&(c="0"+c);c.length%u!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(o,u){return n(typeof f<"u"),this.toArrayLike(f,o,u)},i.prototype.toArray=function(o,u){return this.toArrayLike(Array,o,u)},i.prototype.toArrayLike=function(o,u,c){var d=this.byteLength(),p=c||Math.max(1,d);n(d<=p,"byte array longer than desired length"),n(p>0,"Requested array length <= 0"),this.strip();var w=u==="le",S=new o(p),m,s,y=this.clone();if(w){for(s=0;!y.isZero();s++)m=y.andln(255),y.iushrn(8),S[s]=m;for(;s<p;s++)S[s]=0}else{for(s=0;s<p-d;s++)S[s]=0;for(s=0;!y.isZero();s++)m=y.andln(255),y.iushrn(8),S[p-s-1]=m}return S},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var u=o,c=0;return u>=4096&&(c+=13,u>>>=13),u>=64&&(c+=7,u>>>=7),u>=8&&(c+=4,u>>>=4),u>=2&&(c+=2,u>>>=2),c+u},i.prototype._zeroBits=function(o){if(o===0)return 26;var u=o,c=0;return(u&8191)===0&&(c+=13,u>>>=13),(u&127)===0&&(c+=7,u>>>=7),(u&15)===0&&(c+=4,u>>>=4),(u&3)===0&&(c+=2,u>>>=2),(u&1)===0&&c++,c},i.prototype.bitLength=function(){var o=this.words[this.length-1],u=this._countBits(o);return(this.length-1)*26+u};function E(b){for(var o=new Array(b.bitLength()),u=0;u<o.length;u++){var c=u/26|0,d=u%26;o[u]=(b.words[c]&1<<d)>>>d}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,u=0;u<this.length;u++){var c=this._zeroBits(this.words[u]);if(o+=c,c!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]|o.words[u];return this.strip()},i.prototype.ior=function(o){return n((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var u;this.length>o.length?u=o:u=this;for(var c=0;c<u.length;c++)this.words[c]=this.words[c]&o.words[c];return this.length=u.length,this.strip()},i.prototype.iand=function(o){return n((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var u,c;this.length>o.length?(u=this,c=o):(u=o,c=this);for(var d=0;d<c.length;d++)this.words[d]=u.words[d]^c.words[d];if(this!==u)for(;d<u.length;d++)this.words[d]=u.words[d];return this.length=u.length,this.strip()},i.prototype.ixor=function(o){return n((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){n(typeof o=="number"&&o>=0);var u=Math.ceil(o/26)|0,c=o%26;this._expand(u),c>0&&u--;for(var d=0;d<u;d++)this.words[d]=~this.words[d]&67108863;return c>0&&(this.words[d]=~this.words[d]&67108863>>26-c),this.strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,u){n(typeof o=="number"&&o>=0);var c=o/26|0,d=o%26;return this._expand(c+1),u?this.words[c]=this.words[c]|1<<d:this.words[c]=this.words[c]&~(1<<d),this.strip()},i.prototype.iadd=function(o){var u;if(this.negative!==0&&o.negative===0)return this.negative=0,u=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,u=this.isub(o),o.negative=1,u._normSign();var c,d;this.length>o.length?(c=this,d=o):(c=o,d=this);for(var p=0,w=0;w<d.length;w++)u=(c.words[w]|0)+(d.words[w]|0)+p,this.words[w]=u&67108863,p=u>>>26;for(;p!==0&&w<c.length;w++)u=(c.words[w]|0)+p,this.words[w]=u&67108863,p=u>>>26;if(this.length=c.length,p!==0)this.words[this.length]=p,this.length++;else if(c!==this)for(;w<c.length;w++)this.words[w]=c.words[w];return this},i.prototype.add=function(o){var u;return o.negative!==0&&this.negative===0?(o.negative=0,u=this.sub(o),o.negative^=1,u):o.negative===0&&this.negative!==0?(this.negative=0,u=o.sub(this),this.negative=1,u):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var u=this.iadd(o);return o.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var c=this.cmp(o);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var d,p;c>0?(d=this,p=o):(d=o,p=this);for(var w=0,S=0;S<p.length;S++)u=(d.words[S]|0)-(p.words[S]|0)+w,w=u>>26,this.words[S]=u&67108863;for(;w!==0&&S<d.length;S++)u=(d.words[S]|0)+w,w=u>>26,this.words[S]=u&67108863;if(w===0&&S<d.length&&d!==this)for(;S<d.length;S++)this.words[S]=d.words[S];return this.length=Math.max(this.length,S),d!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function A(b,o,u){u.negative=o.negative^b.negative;var c=b.length+o.length|0;u.length=c,c=c-1|0;var d=b.words[0]|0,p=o.words[0]|0,w=d*p,S=w&67108863,m=w/67108864|0;u.words[0]=S;for(var s=1;s<c;s++){for(var y=m>>>26,x=m&67108863,C=Math.min(s,o.length-1),N=Math.max(0,s-b.length+1);N<=C;N++){var j=s-N|0;d=b.words[j]|0,p=o.words[N]|0,w=d*p+x,y+=w/67108864|0,x=w&67108863}u.words[s]=x|0,m=y|0}return m!==0?u.words[s]=m|0:u.length--,u.strip()}var I=function(o,u,c){var d=o.words,p=u.words,w=c.words,S=0,m,s,y,x=d[0]|0,C=x&8191,N=x>>>13,j=d[1]|0,B=j&8191,L=j>>>13,Y=d[2]|0,G=Y&8191,Z=Y>>>13,K=d[3]|0,U=K&8191,W=K>>>13,Te=d[4]|0,ee=Te&8191,re=Te>>>13,De=d[5]|0,ie=De&8191,J=De>>>13,qe=d[6]|0,ae=qe&8191,be=qe>>>13,Ge=d[7]|0,H=Ge&8191,X=Ge>>>13,Q=d[8]|0,te=Q&8191,ce=Q>>>13,Ke=d[9]|0,he=Ke&8191,oe=Ke>>>13,We=p[0]|0,fe=We&8191,Ce=We>>>13,et=p[1]|0,le=et&8191,we=et>>>13,Ze=p[2]|0,me=Ze&8191,xe=Ze>>>13,tt=p[3]|0,ne=tt&8191,_e=tt>>>13,Je=p[4]|0,de=Je&8191,Ae=Je>>>13,st=p[5]|0,ve=st&8191,Ie=st>>>13,Qe=p[6]|0,ye=Qe&8191,Pe=Qe>>>13,rt=p[7]|0,ge=rt&8191,Oe=rt>>>13,ot=p[8]|0,Se=ot&8191,ke=ot>>>13,ft=p[9]|0,Me=ft&8191,Re=ft>>>13;c.negative=o.negative^u.negative,c.length=19,m=Math.imul(C,fe),s=Math.imul(C,Ce),s=s+Math.imul(N,fe)|0,y=Math.imul(N,Ce);var nt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(nt>>>26)|0,nt&=67108863,m=Math.imul(B,fe),s=Math.imul(B,Ce),s=s+Math.imul(L,fe)|0,y=Math.imul(L,Ce),m=m+Math.imul(C,le)|0,s=s+Math.imul(C,we)|0,s=s+Math.imul(N,le)|0,y=y+Math.imul(N,we)|0;var it=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(it>>>26)|0,it&=67108863,m=Math.imul(G,fe),s=Math.imul(G,Ce),s=s+Math.imul(Z,fe)|0,y=Math.imul(Z,Ce),m=m+Math.imul(B,le)|0,s=s+Math.imul(B,we)|0,s=s+Math.imul(L,le)|0,y=y+Math.imul(L,we)|0,m=m+Math.imul(C,me)|0,s=s+Math.imul(C,xe)|0,s=s+Math.imul(N,me)|0,y=y+Math.imul(N,xe)|0;var It=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(It>>>26)|0,It&=67108863,m=Math.imul(U,fe),s=Math.imul(U,Ce),s=s+Math.imul(W,fe)|0,y=Math.imul(W,Ce),m=m+Math.imul(G,le)|0,s=s+Math.imul(G,we)|0,s=s+Math.imul(Z,le)|0,y=y+Math.imul(Z,we)|0,m=m+Math.imul(B,me)|0,s=s+Math.imul(B,xe)|0,s=s+Math.imul(L,me)|0,y=y+Math.imul(L,xe)|0,m=m+Math.imul(C,ne)|0,s=s+Math.imul(C,_e)|0,s=s+Math.imul(N,ne)|0,y=y+Math.imul(N,_e)|0;var Tt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,m=Math.imul(ee,fe),s=Math.imul(ee,Ce),s=s+Math.imul(re,fe)|0,y=Math.imul(re,Ce),m=m+Math.imul(U,le)|0,s=s+Math.imul(U,we)|0,s=s+Math.imul(W,le)|0,y=y+Math.imul(W,we)|0,m=m+Math.imul(G,me)|0,s=s+Math.imul(G,xe)|0,s=s+Math.imul(Z,me)|0,y=y+Math.imul(Z,xe)|0,m=m+Math.imul(B,ne)|0,s=s+Math.imul(B,_e)|0,s=s+Math.imul(L,ne)|0,y=y+Math.imul(L,_e)|0,m=m+Math.imul(C,de)|0,s=s+Math.imul(C,Ae)|0,s=s+Math.imul(N,de)|0,y=y+Math.imul(N,Ae)|0;var Ct=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,m=Math.imul(ie,fe),s=Math.imul(ie,Ce),s=s+Math.imul(J,fe)|0,y=Math.imul(J,Ce),m=m+Math.imul(ee,le)|0,s=s+Math.imul(ee,we)|0,s=s+Math.imul(re,le)|0,y=y+Math.imul(re,we)|0,m=m+Math.imul(U,me)|0,s=s+Math.imul(U,xe)|0,s=s+Math.imul(W,me)|0,y=y+Math.imul(W,xe)|0,m=m+Math.imul(G,ne)|0,s=s+Math.imul(G,_e)|0,s=s+Math.imul(Z,ne)|0,y=y+Math.imul(Z,_e)|0,m=m+Math.imul(B,de)|0,s=s+Math.imul(B,Ae)|0,s=s+Math.imul(L,de)|0,y=y+Math.imul(L,Ae)|0,m=m+Math.imul(C,ve)|0,s=s+Math.imul(C,Ie)|0,s=s+Math.imul(N,ve)|0,y=y+Math.imul(N,Ie)|0;var Ot=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,m=Math.imul(ae,fe),s=Math.imul(ae,Ce),s=s+Math.imul(be,fe)|0,y=Math.imul(be,Ce),m=m+Math.imul(ie,le)|0,s=s+Math.imul(ie,we)|0,s=s+Math.imul(J,le)|0,y=y+Math.imul(J,we)|0,m=m+Math.imul(ee,me)|0,s=s+Math.imul(ee,xe)|0,s=s+Math.imul(re,me)|0,y=y+Math.imul(re,xe)|0,m=m+Math.imul(U,ne)|0,s=s+Math.imul(U,_e)|0,s=s+Math.imul(W,ne)|0,y=y+Math.imul(W,_e)|0,m=m+Math.imul(G,de)|0,s=s+Math.imul(G,Ae)|0,s=s+Math.imul(Z,de)|0,y=y+Math.imul(Z,Ae)|0,m=m+Math.imul(B,ve)|0,s=s+Math.imul(B,Ie)|0,s=s+Math.imul(L,ve)|0,y=y+Math.imul(L,Ie)|0,m=m+Math.imul(C,ye)|0,s=s+Math.imul(C,Pe)|0,s=s+Math.imul(N,ye)|0,y=y+Math.imul(N,Pe)|0;var Pt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,m=Math.imul(H,fe),s=Math.imul(H,Ce),s=s+Math.imul(X,fe)|0,y=Math.imul(X,Ce),m=m+Math.imul(ae,le)|0,s=s+Math.imul(ae,we)|0,s=s+Math.imul(be,le)|0,y=y+Math.imul(be,we)|0,m=m+Math.imul(ie,me)|0,s=s+Math.imul(ie,xe)|0,s=s+Math.imul(J,me)|0,y=y+Math.imul(J,xe)|0,m=m+Math.imul(ee,ne)|0,s=s+Math.imul(ee,_e)|0,s=s+Math.imul(re,ne)|0,y=y+Math.imul(re,_e)|0,m=m+Math.imul(U,de)|0,s=s+Math.imul(U,Ae)|0,s=s+Math.imul(W,de)|0,y=y+Math.imul(W,Ae)|0,m=m+Math.imul(G,ve)|0,s=s+Math.imul(G,Ie)|0,s=s+Math.imul(Z,ve)|0,y=y+Math.imul(Z,Ie)|0,m=m+Math.imul(B,ye)|0,s=s+Math.imul(B,Pe)|0,s=s+Math.imul(L,ye)|0,y=y+Math.imul(L,Pe)|0,m=m+Math.imul(C,ge)|0,s=s+Math.imul(C,Oe)|0,s=s+Math.imul(N,ge)|0,y=y+Math.imul(N,Oe)|0;var kt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(kt>>>26)|0,kt&=67108863,m=Math.imul(te,fe),s=Math.imul(te,Ce),s=s+Math.imul(ce,fe)|0,y=Math.imul(ce,Ce),m=m+Math.imul(H,le)|0,s=s+Math.imul(H,we)|0,s=s+Math.imul(X,le)|0,y=y+Math.imul(X,we)|0,m=m+Math.imul(ae,me)|0,s=s+Math.imul(ae,xe)|0,s=s+Math.imul(be,me)|0,y=y+Math.imul(be,xe)|0,m=m+Math.imul(ie,ne)|0,s=s+Math.imul(ie,_e)|0,s=s+Math.imul(J,ne)|0,y=y+Math.imul(J,_e)|0,m=m+Math.imul(ee,de)|0,s=s+Math.imul(ee,Ae)|0,s=s+Math.imul(re,de)|0,y=y+Math.imul(re,Ae)|0,m=m+Math.imul(U,ve)|0,s=s+Math.imul(U,Ie)|0,s=s+Math.imul(W,ve)|0,y=y+Math.imul(W,Ie)|0,m=m+Math.imul(G,ye)|0,s=s+Math.imul(G,Pe)|0,s=s+Math.imul(Z,ye)|0,y=y+Math.imul(Z,Pe)|0,m=m+Math.imul(B,ge)|0,s=s+Math.imul(B,Oe)|0,s=s+Math.imul(L,ge)|0,y=y+Math.imul(L,Oe)|0,m=m+Math.imul(C,Se)|0,s=s+Math.imul(C,ke)|0,s=s+Math.imul(N,Se)|0,y=y+Math.imul(N,ke)|0;var Rt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,m=Math.imul(he,fe),s=Math.imul(he,Ce),s=s+Math.imul(oe,fe)|0,y=Math.imul(oe,Ce),m=m+Math.imul(te,le)|0,s=s+Math.imul(te,we)|0,s=s+Math.imul(ce,le)|0,y=y+Math.imul(ce,we)|0,m=m+Math.imul(H,me)|0,s=s+Math.imul(H,xe)|0,s=s+Math.imul(X,me)|0,y=y+Math.imul(X,xe)|0,m=m+Math.imul(ae,ne)|0,s=s+Math.imul(ae,_e)|0,s=s+Math.imul(be,ne)|0,y=y+Math.imul(be,_e)|0,m=m+Math.imul(ie,de)|0,s=s+Math.imul(ie,Ae)|0,s=s+Math.imul(J,de)|0,y=y+Math.imul(J,Ae)|0,m=m+Math.imul(ee,ve)|0,s=s+Math.imul(ee,Ie)|0,s=s+Math.imul(re,ve)|0,y=y+Math.imul(re,Ie)|0,m=m+Math.imul(U,ye)|0,s=s+Math.imul(U,Pe)|0,s=s+Math.imul(W,ye)|0,y=y+Math.imul(W,Pe)|0,m=m+Math.imul(G,ge)|0,s=s+Math.imul(G,Oe)|0,s=s+Math.imul(Z,ge)|0,y=y+Math.imul(Z,Oe)|0,m=m+Math.imul(B,Se)|0,s=s+Math.imul(B,ke)|0,s=s+Math.imul(L,Se)|0,y=y+Math.imul(L,ke)|0,m=m+Math.imul(C,Me)|0,s=s+Math.imul(C,Re)|0,s=s+Math.imul(N,Me)|0,y=y+Math.imul(N,Re)|0;var Nt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,m=Math.imul(he,le),s=Math.imul(he,we),s=s+Math.imul(oe,le)|0,y=Math.imul(oe,we),m=m+Math.imul(te,me)|0,s=s+Math.imul(te,xe)|0,s=s+Math.imul(ce,me)|0,y=y+Math.imul(ce,xe)|0,m=m+Math.imul(H,ne)|0,s=s+Math.imul(H,_e)|0,s=s+Math.imul(X,ne)|0,y=y+Math.imul(X,_e)|0,m=m+Math.imul(ae,de)|0,s=s+Math.imul(ae,Ae)|0,s=s+Math.imul(be,de)|0,y=y+Math.imul(be,Ae)|0,m=m+Math.imul(ie,ve)|0,s=s+Math.imul(ie,Ie)|0,s=s+Math.imul(J,ve)|0,y=y+Math.imul(J,Ie)|0,m=m+Math.imul(ee,ye)|0,s=s+Math.imul(ee,Pe)|0,s=s+Math.imul(re,ye)|0,y=y+Math.imul(re,Pe)|0,m=m+Math.imul(U,ge)|0,s=s+Math.imul(U,Oe)|0,s=s+Math.imul(W,ge)|0,y=y+Math.imul(W,Oe)|0,m=m+Math.imul(G,Se)|0,s=s+Math.imul(G,ke)|0,s=s+Math.imul(Z,Se)|0,y=y+Math.imul(Z,ke)|0,m=m+Math.imul(B,Me)|0,s=s+Math.imul(B,Re)|0,s=s+Math.imul(L,Me)|0,y=y+Math.imul(L,Re)|0;var Dt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,m=Math.imul(he,me),s=Math.imul(he,xe),s=s+Math.imul(oe,me)|0,y=Math.imul(oe,xe),m=m+Math.imul(te,ne)|0,s=s+Math.imul(te,_e)|0,s=s+Math.imul(ce,ne)|0,y=y+Math.imul(ce,_e)|0,m=m+Math.imul(H,de)|0,s=s+Math.imul(H,Ae)|0,s=s+Math.imul(X,de)|0,y=y+Math.imul(X,Ae)|0,m=m+Math.imul(ae,ve)|0,s=s+Math.imul(ae,Ie)|0,s=s+Math.imul(be,ve)|0,y=y+Math.imul(be,Ie)|0,m=m+Math.imul(ie,ye)|0,s=s+Math.imul(ie,Pe)|0,s=s+Math.imul(J,ye)|0,y=y+Math.imul(J,Pe)|0,m=m+Math.imul(ee,ge)|0,s=s+Math.imul(ee,Oe)|0,s=s+Math.imul(re,ge)|0,y=y+Math.imul(re,Oe)|0,m=m+Math.imul(U,Se)|0,s=s+Math.imul(U,ke)|0,s=s+Math.imul(W,Se)|0,y=y+Math.imul(W,ke)|0,m=m+Math.imul(G,Me)|0,s=s+Math.imul(G,Re)|0,s=s+Math.imul(Z,Me)|0,y=y+Math.imul(Z,Re)|0;var Bt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,m=Math.imul(he,ne),s=Math.imul(he,_e),s=s+Math.imul(oe,ne)|0,y=Math.imul(oe,_e),m=m+Math.imul(te,de)|0,s=s+Math.imul(te,Ae)|0,s=s+Math.imul(ce,de)|0,y=y+Math.imul(ce,Ae)|0,m=m+Math.imul(H,ve)|0,s=s+Math.imul(H,Ie)|0,s=s+Math.imul(X,ve)|0,y=y+Math.imul(X,Ie)|0,m=m+Math.imul(ae,ye)|0,s=s+Math.imul(ae,Pe)|0,s=s+Math.imul(be,ye)|0,y=y+Math.imul(be,Pe)|0,m=m+Math.imul(ie,ge)|0,s=s+Math.imul(ie,Oe)|0,s=s+Math.imul(J,ge)|0,y=y+Math.imul(J,Oe)|0,m=m+Math.imul(ee,Se)|0,s=s+Math.imul(ee,ke)|0,s=s+Math.imul(re,Se)|0,y=y+Math.imul(re,ke)|0,m=m+Math.imul(U,Me)|0,s=s+Math.imul(U,Re)|0,s=s+Math.imul(W,Me)|0,y=y+Math.imul(W,Re)|0;var Ut=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,m=Math.imul(he,de),s=Math.imul(he,Ae),s=s+Math.imul(oe,de)|0,y=Math.imul(oe,Ae),m=m+Math.imul(te,ve)|0,s=s+Math.imul(te,Ie)|0,s=s+Math.imul(ce,ve)|0,y=y+Math.imul(ce,Ie)|0,m=m+Math.imul(H,ye)|0,s=s+Math.imul(H,Pe)|0,s=s+Math.imul(X,ye)|0,y=y+Math.imul(X,Pe)|0,m=m+Math.imul(ae,ge)|0,s=s+Math.imul(ae,Oe)|0,s=s+Math.imul(be,ge)|0,y=y+Math.imul(be,Oe)|0,m=m+Math.imul(ie,Se)|0,s=s+Math.imul(ie,ke)|0,s=s+Math.imul(J,Se)|0,y=y+Math.imul(J,ke)|0,m=m+Math.imul(ee,Me)|0,s=s+Math.imul(ee,Re)|0,s=s+Math.imul(re,Me)|0,y=y+Math.imul(re,Re)|0;var Ft=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,m=Math.imul(he,ve),s=Math.imul(he,Ie),s=s+Math.imul(oe,ve)|0,y=Math.imul(oe,Ie),m=m+Math.imul(te,ye)|0,s=s+Math.imul(te,Pe)|0,s=s+Math.imul(ce,ye)|0,y=y+Math.imul(ce,Pe)|0,m=m+Math.imul(H,ge)|0,s=s+Math.imul(H,Oe)|0,s=s+Math.imul(X,ge)|0,y=y+Math.imul(X,Oe)|0,m=m+Math.imul(ae,Se)|0,s=s+Math.imul(ae,ke)|0,s=s+Math.imul(be,Se)|0,y=y+Math.imul(be,ke)|0,m=m+Math.imul(ie,Me)|0,s=s+Math.imul(ie,Re)|0,s=s+Math.imul(J,Me)|0,y=y+Math.imul(J,Re)|0;var Lt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,m=Math.imul(he,ye),s=Math.imul(he,Pe),s=s+Math.imul(oe,ye)|0,y=Math.imul(oe,Pe),m=m+Math.imul(te,ge)|0,s=s+Math.imul(te,Oe)|0,s=s+Math.imul(ce,ge)|0,y=y+Math.imul(ce,Oe)|0,m=m+Math.imul(H,Se)|0,s=s+Math.imul(H,ke)|0,s=s+Math.imul(X,Se)|0,y=y+Math.imul(X,ke)|0,m=m+Math.imul(ae,Me)|0,s=s+Math.imul(ae,Re)|0,s=s+Math.imul(be,Me)|0,y=y+Math.imul(be,Re)|0;var qt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(qt>>>26)|0,qt&=67108863,m=Math.imul(he,ge),s=Math.imul(he,Oe),s=s+Math.imul(oe,ge)|0,y=Math.imul(oe,Oe),m=m+Math.imul(te,Se)|0,s=s+Math.imul(te,ke)|0,s=s+Math.imul(ce,Se)|0,y=y+Math.imul(ce,ke)|0,m=m+Math.imul(H,Me)|0,s=s+Math.imul(H,Re)|0,s=s+Math.imul(X,Me)|0,y=y+Math.imul(X,Re)|0;var jt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(jt>>>26)|0,jt&=67108863,m=Math.imul(he,Se),s=Math.imul(he,ke),s=s+Math.imul(oe,Se)|0,y=Math.imul(oe,ke),m=m+Math.imul(te,Me)|0,s=s+Math.imul(te,Re)|0,s=s+Math.imul(ce,Me)|0,y=y+Math.imul(ce,Re)|0;var $t=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+($t>>>26)|0,$t&=67108863,m=Math.imul(he,Me),s=Math.imul(he,Re),s=s+Math.imul(oe,Me)|0,y=Math.imul(oe,Re);var Vt=(S+m|0)+((s&8191)<<13)|0;return S=(y+(s>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,w[0]=nt,w[1]=it,w[2]=It,w[3]=Tt,w[4]=Ct,w[5]=Ot,w[6]=Pt,w[7]=kt,w[8]=Rt,w[9]=Nt,w[10]=Dt,w[11]=Bt,w[12]=Ut,w[13]=Ft,w[14]=Lt,w[15]=qt,w[16]=jt,w[17]=$t,w[18]=Vt,S!==0&&(w[19]=S,c.length++),c};Math.imul||(I=A);function O(b,o,u){u.negative=o.negative^b.negative,u.length=b.length+o.length;for(var c=0,d=0,p=0;p<u.length-1;p++){var w=d;d=0;for(var S=c&67108863,m=Math.min(p,o.length-1),s=Math.max(0,p-b.length+1);s<=m;s++){var y=p-s,x=b.words[y]|0,C=o.words[s]|0,N=x*C,j=N&67108863;w=w+(N/67108864|0)|0,j=j+S|0,S=j&67108863,w=w+(j>>>26)|0,d+=w>>>26,w&=67108863}u.words[p]=S,c=w,w=d}return c!==0?u.words[p]=c:u.length--,u.strip()}function T(b,o,u){var c=new P;return c.mulp(b,o,u)}i.prototype.mulTo=function(o,u){var c,d=this.length+o.length;return this.length===10&&o.length===10?c=I(this,o,u):d<63?c=A(this,o,u):d<1024?c=O(this,o,u):c=T(this,o,u),c};function P(b,o){this.x=b,this.y=o}P.prototype.makeRBT=function(o){for(var u=new Array(o),c=i.prototype._countBits(o)-1,d=0;d<o;d++)u[d]=this.revBin(d,c,o);return u},P.prototype.revBin=function(o,u,c){if(o===0||o===c-1)return o;for(var d=0,p=0;p<u;p++)d|=(o&1)<<u-p-1,o>>=1;return d},P.prototype.permute=function(o,u,c,d,p,w){for(var S=0;S<w;S++)d[S]=u[o[S]],p[S]=c[o[S]]},P.prototype.transform=function(o,u,c,d,p,w){this.permute(w,o,u,c,d,p);for(var S=1;S<p;S<<=1)for(var m=S<<1,s=Math.cos(2*Math.PI/m),y=Math.sin(2*Math.PI/m),x=0;x<p;x+=m)for(var C=s,N=y,j=0;j<S;j++){var B=c[x+j],L=d[x+j],Y=c[x+j+S],G=d[x+j+S],Z=C*Y-N*G;G=C*G+N*Y,Y=Z,c[x+j]=B+Y,d[x+j]=L+G,c[x+j+S]=B-Y,d[x+j+S]=L-G,j!==m&&(Z=s*C-y*N,N=s*N+y*C,C=Z)}},P.prototype.guessLen13b=function(o,u){var c=Math.max(u,o)|1,d=c&1,p=0;for(c=c/2|0;c;c=c>>>1)p++;return 1<<p+1+d},P.prototype.conjugate=function(o,u,c){if(!(c<=1))for(var d=0;d<c/2;d++){var p=o[d];o[d]=o[c-d-1],o[c-d-1]=p,p=u[d],u[d]=-u[c-d-1],u[c-d-1]=-p}},P.prototype.normalize13b=function(o,u){for(var c=0,d=0;d<u/2;d++){var p=Math.round(o[2*d+1]/u)*8192+Math.round(o[2*d]/u)+c;o[d]=p&67108863,p<67108864?c=0:c=p/67108864|0}return o},P.prototype.convert13b=function(o,u,c,d){for(var p=0,w=0;w<u;w++)p=p+(o[w]|0),c[2*w]=p&8191,p=p>>>13,c[2*w+1]=p&8191,p=p>>>13;for(w=2*u;w<d;++w)c[w]=0;n(p===0),n((p&-8192)===0)},P.prototype.stub=function(o){for(var u=new Array(o),c=0;c<o;c++)u[c]=0;return u},P.prototype.mulp=function(o,u,c){var d=2*this.guessLen13b(o.length,u.length),p=this.makeRBT(d),w=this.stub(d),S=new Array(d),m=new Array(d),s=new Array(d),y=new Array(d),x=new Array(d),C=new Array(d),N=c.words;N.length=d,this.convert13b(o.words,o.length,S,d),this.convert13b(u.words,u.length,y,d),this.transform(S,w,m,s,d,p),this.transform(y,w,x,C,d,p);for(var j=0;j<d;j++){var B=m[j]*x[j]-s[j]*C[j];s[j]=m[j]*C[j]+s[j]*x[j],m[j]=B}return this.conjugate(m,s,d),this.transform(m,s,N,w,d,p),this.conjugate(N,w,d),this.normalize13b(N,d),c.negative=o.negative^u.negative,c.length=o.length+u.length,c.strip()},i.prototype.mul=function(o){var u=new i(null);return u.words=new Array(this.length+o.length),this.mulTo(o,u)},i.prototype.mulf=function(o){var u=new i(null);return u.words=new Array(this.length+o.length),T(this,o,u)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){n(typeof o=="number"),n(o<67108864);for(var u=0,c=0;c<this.length;c++){var d=(this.words[c]|0)*o,p=(d&67108863)+(u&67108863);u>>=26,u+=d/67108864|0,u+=p>>>26,this.words[c]=p&67108863}return u!==0&&(this.words[c]=u,this.length++),this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var u=E(o);if(u.length===0)return new i(1);for(var c=this,d=0;d<u.length&&u[d]===0;d++,c=c.sqr());if(++d<u.length)for(var p=c.sqr();d<u.length;d++,p=p.sqr())u[d]!==0&&(c=c.mul(p));return c},i.prototype.iushln=function(o){n(typeof o=="number"&&o>=0);var u=o%26,c=(o-u)/26,d=67108863>>>26-u<<26-u,p;if(u!==0){var w=0;for(p=0;p<this.length;p++){var S=this.words[p]&d,m=(this.words[p]|0)-S<<u;this.words[p]=m|w,w=S>>>26-u}w&&(this.words[p]=w,this.length++)}if(c!==0){for(p=this.length-1;p>=0;p--)this.words[p+c]=this.words[p];for(p=0;p<c;p++)this.words[p]=0;this.length+=c}return this.strip()},i.prototype.ishln=function(o){return n(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,u,c){n(typeof o=="number"&&o>=0);var d;u?d=(u-u%26)/26:d=0;var p=o%26,w=Math.min((o-p)/26,this.length),S=67108863^67108863>>>p<<p,m=c;if(d-=w,d=Math.max(0,d),m){for(var s=0;s<w;s++)m.words[s]=this.words[s];m.length=w}if(w!==0)if(this.length>w)for(this.length-=w,s=0;s<this.length;s++)this.words[s]=this.words[s+w];else this.words[0]=0,this.length=1;var y=0;for(s=this.length-1;s>=0&&(y!==0||s>=d);s--){var x=this.words[s]|0;this.words[s]=y<<26-p|x>>>p,y=x&S}return m&&y!==0&&(m.words[m.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(o,u,c){return n(this.negative===0),this.iushrn(o,u,c)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){n(typeof o=="number"&&o>=0);var u=o%26,c=(o-u)/26,d=1<<u;if(this.length<=c)return!1;var p=this.words[c];return!!(p&d)},i.prototype.imaskn=function(o){n(typeof o=="number"&&o>=0);var u=o%26,c=(o-u)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(u!==0&&c++,this.length=Math.min(c,this.length),u!==0){var d=67108863^67108863>>>u<<u;this.words[this.length-1]&=d}return this.strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return n(typeof o=="number"),n(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(o){if(n(typeof o=="number"),n(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,u,c){var d=o.length+c,p;this._expand(d);var w,S=0;for(p=0;p<o.length;p++){w=(this.words[p+c]|0)+S;var m=(o.words[p]|0)*u;w-=m&67108863,S=(w>>26)-(m/67108864|0),this.words[p+c]=w&67108863}for(;p<this.length-c;p++)w=(this.words[p+c]|0)+S,S=w>>26,this.words[p+c]=w&67108863;if(S===0)return this.strip();for(n(S===-1),S=0,p=0;p<this.length;p++)w=-(this.words[p]|0)+S,S=w>>26,this.words[p]=w&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(o,u){var c=this.length-o.length,d=this.clone(),p=o,w=p.words[p.length-1]|0,S=this._countBits(w);c=26-S,c!==0&&(p=p.ushln(c),d.iushln(c),w=p.words[p.length-1]|0);var m=d.length-p.length,s;if(u!=="mod"){s=new i(null),s.length=m+1,s.words=new Array(s.length);for(var y=0;y<s.length;y++)s.words[y]=0}var x=d.clone()._ishlnsubmul(p,1,m);x.negative===0&&(d=x,s&&(s.words[m]=1));for(var C=m-1;C>=0;C--){var N=(d.words[p.length+C]|0)*67108864+(d.words[p.length+C-1]|0);for(N=Math.min(N/w|0,67108863),d._ishlnsubmul(p,N,C);d.negative!==0;)N--,d.negative=0,d._ishlnsubmul(p,1,C),d.isZero()||(d.negative^=1);s&&(s.words[C]=N)}return s&&s.strip(),d.strip(),u!=="div"&&c!==0&&d.iushrn(c),{div:s||null,mod:d}},i.prototype.divmod=function(o,u,c){if(n(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var d,p,w;return this.negative!==0&&o.negative===0?(w=this.neg().divmod(o,u),u!=="mod"&&(d=w.div.neg()),u!=="div"&&(p=w.mod.neg(),c&&p.negative!==0&&p.iadd(o)),{div:d,mod:p}):this.negative===0&&o.negative!==0?(w=this.divmod(o.neg(),u),u!=="mod"&&(d=w.div.neg()),{div:d,mod:w.mod}):(this.negative&o.negative)!==0?(w=this.neg().divmod(o.neg(),u),u!=="div"&&(p=w.mod.neg(),c&&p.negative!==0&&p.isub(o)),{div:w.div,mod:p}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?u==="div"?{div:this.divn(o.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modn(o.words[0]))}:this._wordDiv(o,u)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var u=this.divmod(o);if(u.mod.isZero())return u.div;var c=u.div.negative!==0?u.mod.isub(o):u.mod,d=o.ushrn(1),p=o.andln(1),w=c.cmp(d);return w<0||p===1&&w===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modn=function(o){n(o<=67108863);for(var u=(1<<26)%o,c=0,d=this.length-1;d>=0;d--)c=(u*c+(this.words[d]|0))%o;return c},i.prototype.idivn=function(o){n(o<=67108863);for(var u=0,c=this.length-1;c>=0;c--){var d=(this.words[c]|0)+u*67108864;this.words[c]=d/o|0,u=d%o}return this.strip()},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){n(o.negative===0),n(!o.isZero());var u=this,c=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var d=new i(1),p=new i(0),w=new i(0),S=new i(1),m=0;u.isEven()&&c.isEven();)u.iushrn(1),c.iushrn(1),++m;for(var s=c.clone(),y=u.clone();!u.isZero();){for(var x=0,C=1;(u.words[0]&C)===0&&x<26;++x,C<<=1);if(x>0)for(u.iushrn(x);x-- >0;)(d.isOdd()||p.isOdd())&&(d.iadd(s),p.isub(y)),d.iushrn(1),p.iushrn(1);for(var N=0,j=1;(c.words[0]&j)===0&&N<26;++N,j<<=1);if(N>0)for(c.iushrn(N);N-- >0;)(w.isOdd()||S.isOdd())&&(w.iadd(s),S.isub(y)),w.iushrn(1),S.iushrn(1);u.cmp(c)>=0?(u.isub(c),d.isub(w),p.isub(S)):(c.isub(u),w.isub(d),S.isub(p))}return{a:w,b:S,gcd:c.iushln(m)}},i.prototype._invmp=function(o){n(o.negative===0),n(!o.isZero());var u=this,c=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var d=new i(1),p=new i(0),w=c.clone();u.cmpn(1)>0&&c.cmpn(1)>0;){for(var S=0,m=1;(u.words[0]&m)===0&&S<26;++S,m<<=1);if(S>0)for(u.iushrn(S);S-- >0;)d.isOdd()&&d.iadd(w),d.iushrn(1);for(var s=0,y=1;(c.words[0]&y)===0&&s<26;++s,y<<=1);if(s>0)for(c.iushrn(s);s-- >0;)p.isOdd()&&p.iadd(w),p.iushrn(1);u.cmp(c)>=0?(u.isub(c),d.isub(p)):(c.isub(u),p.isub(d))}var x;return u.cmpn(1)===0?x=d:x=p,x.cmpn(0)<0&&x.iadd(o),x},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var u=this.clone(),c=o.clone();u.negative=0,c.negative=0;for(var d=0;u.isEven()&&c.isEven();d++)u.iushrn(1),c.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;c.isEven();)c.iushrn(1);var p=u.cmp(c);if(p<0){var w=u;u=c,c=w}else if(p===0||c.cmpn(1)===0)break;u.isub(c)}while(!0);return c.iushln(d)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){n(typeof o=="number");var u=o%26,c=(o-u)/26,d=1<<u;if(this.length<=c)return this._expand(c+1),this.words[c]|=d,this;for(var p=d,w=c;p!==0&&w<this.length;w++){var S=this.words[w]|0;S+=p,p=S>>>26,S&=67108863,this.words[w]=S}return p!==0&&(this.words[w]=p,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var u=o<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var c;if(this.length>1)c=1;else{u&&(o=-o),n(o<=67108863,"Number is too big");var d=this.words[0]|0;c=d===o?0:d<o?-1:1}return this.negative!==0?-c|0:c},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var u=this.ucmp(o);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var u=0,c=this.length-1;c>=0;c--){var d=this.words[c]|0,p=o.words[c]|0;if(d!==p){d<p?u=-1:d>p&&(u=1);break}}return u},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new F(o)},i.prototype.toRed=function(o){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return n(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return n(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var k={k256:null,p224:null,p192:null,p25519:null};function R(b,o){this.name=b,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}R.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},R.prototype.ireduce=function(o){var u=o,c;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),c=u.bitLength();while(c>this.n);var d=c<this.n?-1:u.ucmp(this.p);return d===0?(u.words[0]=0,u.length=1):d>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},R.prototype.split=function(o,u){o.iushrn(this.n,0,u)},R.prototype.imulK=function(o){return o.imul(this.k)};function D(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(D,R),D.prototype.split=function(o,u){for(var c=4194303,d=Math.min(o.length,9),p=0;p<d;p++)u.words[p]=o.words[p];if(u.length=d,o.length<=9){o.words[0]=0,o.length=1;return}var w=o.words[9];for(u.words[u.length++]=w&c,p=10;p<o.length;p++){var S=o.words[p]|0;o.words[p-10]=(S&c)<<4|w>>>22,w=S}w>>>=22,o.words[p-10]=w,w===0&&o.length>10?o.length-=10:o.length-=9},D.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var u=0,c=0;c<o.length;c++){var d=o.words[c]|0;u+=d*977,o.words[c]=u&67108863,u=d*64+(u/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function V(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(V,R);function q(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(q,R);function $(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a($,R),$.prototype.imulK=function(o){for(var u=0,c=0;c<o.length;c++){var d=(o.words[c]|0)*19+u,p=d&67108863;d>>>=26,o.words[c]=p,u=d}return u!==0&&(o.words[o.length++]=u),o},i._prime=function(o){if(k[o])return k[o];var u;if(o==="k256")u=new D;else if(o==="p224")u=new V;else if(o==="p192")u=new q;else if(o==="p25519")u=new $;else throw new Error("Unknown prime "+o);return k[o]=u,u};function F(b){if(typeof b=="string"){var o=i._prime(b);this.m=o.p,this.prime=o}else n(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}F.prototype._verify1=function(o){n(o.negative===0,"red works only with positives"),n(o.red,"red works only with red numbers")},F.prototype._verify2=function(o,u){n((o.negative|u.negative)===0,"red works only with positives"),n(o.red&&o.red===u.red,"red works only with red numbers")},F.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},F.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},F.prototype.add=function(o,u){this._verify2(o,u);var c=o.add(u);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},F.prototype.iadd=function(o,u){this._verify2(o,u);var c=o.iadd(u);return c.cmp(this.m)>=0&&c.isub(this.m),c},F.prototype.sub=function(o,u){this._verify2(o,u);var c=o.sub(u);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},F.prototype.isub=function(o,u){this._verify2(o,u);var c=o.isub(u);return c.cmpn(0)<0&&c.iadd(this.m),c},F.prototype.shl=function(o,u){return this._verify1(o),this.imod(o.ushln(u))},F.prototype.imul=function(o,u){return this._verify2(o,u),this.imod(o.imul(u))},F.prototype.mul=function(o,u){return this._verify2(o,u),this.imod(o.mul(u))},F.prototype.isqr=function(o){return this.imul(o,o.clone())},F.prototype.sqr=function(o){return this.mul(o,o)},F.prototype.sqrt=function(o){if(o.isZero())return o.clone();var u=this.m.andln(3);if(n(u%2===1),u===3){var c=this.m.add(new i(1)).iushrn(2);return this.pow(o,c)}for(var d=this.m.subn(1),p=0;!d.isZero()&&d.andln(1)===0;)p++,d.iushrn(1);n(!d.isZero());var w=new i(1).toRed(this),S=w.redNeg(),m=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new i(2*s*s).toRed(this);this.pow(s,m).cmp(S)!==0;)s.redIAdd(S);for(var y=this.pow(s,d),x=this.pow(o,d.addn(1).iushrn(1)),C=this.pow(o,d),N=p;C.cmp(w)!==0;){for(var j=C,B=0;j.cmp(w)!==0;B++)j=j.redSqr();n(B<N);var L=this.pow(y,new i(1).iushln(N-B-1));x=x.redMul(L),y=L.redSqr(),C=C.redMul(y),N=B}return x},F.prototype.invm=function(o){var u=o._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},F.prototype.pow=function(o,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return o.clone();var c=4,d=new Array(1<<c);d[0]=new i(1).toRed(this),d[1]=o;for(var p=2;p<d.length;p++)d[p]=this.mul(d[p-1],o);var w=d[0],S=0,m=0,s=u.bitLength()%26;for(s===0&&(s=26),p=u.length-1;p>=0;p--){for(var y=u.words[p],x=s-1;x>=0;x--){var C=y>>x&1;if(w!==d[0]&&(w=this.sqr(w)),C===0&&S===0){m=0;continue}S<<=1,S|=C,m++,!(m!==c&&(p!==0||x!==0))&&(w=this.mul(w,d[S]),m=0,S=0)}s=26}return w},F.prototype.convertTo=function(o){var u=o.umod(this.m);return u===o?u.clone():u},F.prototype.convertFrom=function(o){var u=o.clone();return u.red=null,u},i.mont=function(o){return new z(o)};function z(b){F.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(z,F),z.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},z.prototype.convertFrom=function(o){var u=this.imod(o.mul(this.rinv));return u.red=null,u},z.prototype.imul=function(o,u){if(o.isZero()||u.isZero())return o.words[0]=0,o.length=1,o;var c=o.imul(u),d=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=c.isub(d).iushrn(this.shift),w=p;return p.cmp(this.m)>=0?w=p.isub(this.m):p.cmpn(0)<0&&(w=p.iadd(this.m)),w._forceRed(this)},z.prototype.mul=function(o,u){if(o.isZero()||u.isZero())return new i(0)._forceRed(this);var c=o.mul(u),d=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=c.isub(d).iushrn(this.shift),w=p;return p.cmp(this.m)>=0?w=p.isub(this.m):p.cmpn(0)<0&&(w=p.iadd(this.m)),w._forceRed(this)},z.prototype.invm=function(o){var u=this.imod(o._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(e,Ve)})(jp);var rS={},$p={},Af=Ue,qo=Af.Buffer,dn={},vn;for(vn in Af)!Af.hasOwnProperty(vn)||vn==="SlowBuffer"||vn==="Buffer"||(dn[vn]=Af[vn]);var jo=dn.Buffer={};for(vn in qo)!qo.hasOwnProperty(vn)||vn==="allocUnsafe"||vn==="allocUnsafeSlow"||(jo[vn]=qo[vn]);dn.Buffer.prototype=qo.prototype;(!jo.from||jo.from===Uint8Array.from)&&(jo.from=function(e,t,r){if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&typeof e.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return qo(e,t,r)});jo.alloc||(jo.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=qo(e);return!t||t.length===0?n.fill(0):typeof r=="string"?n.fill(t,r):n.fill(t),n});if(!dn.kStringMaxLength)try{dn.kStringMaxLength=ze.exports.binding("buffer").kStringMaxLength}catch{}dn.constants||(dn.constants={MAX_LENGTH:dn.kMaxLength},dn.kStringMaxLength&&(dn.constants.MAX_STRING_LENGTH=dn.kStringMaxLength));var Vp=dn,Tl={};const xC=at.exports;function An(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}Tl.Reporter=An;An.prototype.isError=function(t){return t instanceof os};An.prototype.save=function(){const t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}};An.prototype.restore=function(t){const r=this._reporterState;r.obj=t.obj,r.path=r.path.slice(0,t.pathLen)};An.prototype.enterKey=function(t){return this._reporterState.path.push(t)};An.prototype.exitKey=function(t){const r=this._reporterState;r.path=r.path.slice(0,t-1)};An.prototype.leaveKey=function(t,r,n){const a=this._reporterState;this.exitKey(t),a.obj!==null&&(a.obj[r]=n)};An.prototype.path=function(){return this._reporterState.path.join("/")};An.prototype.enterObject=function(){const t=this._reporterState,r=t.obj;return t.obj={},r};An.prototype.leaveObject=function(t){const r=this._reporterState,n=r.obj;return r.obj=t,n};An.prototype.error=function(t){let r;const n=this._reporterState,a=t instanceof os;if(a?r=t:r=new os(n.path.map(function(i){return"["+JSON.stringify(i)+"]"}).join(""),t.message||t,t.stack),!n.options.partial)throw r;return a||n.errors.push(r),r};An.prototype.wrapResult=function(t){const r=this._reporterState;return r.options.partial?{result:this.isError(t)?null:t,errors:r.errors}:t};function os(e,t){this.path=e,this.rethrow(t)}xC(os,Error);os.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,os),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this};var Wa={};const EC=at.exports,Cl=Tl.Reporter,ss=Vp.Buffer;function wn(e,t){if(Cl.call(this,t),!ss.isBuffer(e)){this.error("Input not Buffer");return}this.base=e,this.offset=0,this.length=e.length}EC(wn,Cl);Wa.DecoderBuffer=wn;wn.isDecoderBuffer=function(t){return t instanceof wn?!0:typeof t=="object"&&ss.isBuffer(t.base)&&t.constructor.name==="DecoderBuffer"&&typeof t.offset=="number"&&typeof t.length=="number"&&typeof t.save=="function"&&typeof t.restore=="function"&&typeof t.isEmpty=="function"&&typeof t.readUInt8=="function"&&typeof t.skip=="function"&&typeof t.raw=="function"};wn.prototype.save=function(){return{offset:this.offset,reporter:Cl.prototype.save.call(this)}};wn.prototype.restore=function(t){const r=new wn(this.base);return r.offset=t.offset,r.length=this.offset,this.offset=t.offset,Cl.prototype.restore.call(this,t.reporter),r};wn.prototype.isEmpty=function(){return this.offset===this.length};wn.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")};wn.prototype.skip=function(t,r){if(!(this.offset+t<=this.length))return this.error(r||"DecoderBuffer overrun");const n=new wn(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+t,this.offset+=t,n};wn.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)};function us(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(r){return us.isEncoderBuffer(r)||(r=new us(r,t)),this.length+=r.length,r},this);else if(typeof e=="number"){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if(typeof e=="string")this.value=e,this.length=ss.byteLength(e);else if(ss.isBuffer(e))this.value=e,this.length=e.length;else return t.error("Unsupported type: "+typeof e)}Wa.EncoderBuffer=us;us.isEncoderBuffer=function(t){return t instanceof us?!0:typeof t=="object"&&t.constructor.name==="EncoderBuffer"&&typeof t.length=="number"&&typeof t.join=="function"};us.prototype.join=function(t,r){return t||(t=ss.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(n){n.join(t,r),r+=n.length}):(typeof this.value=="number"?t[r]=this.value:typeof this.value=="string"?t.write(this.value,r):ss.isBuffer(this.value)&&this.value.copy(t,r),r+=this.length)),t};const AC=Tl.Reporter,IC=Wa.EncoderBuffer,TC=Wa.DecoderBuffer,Ur=Sn,nS=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],CC=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(nS),OC=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function At(e,t,r){const n={};this._baseState=n,n.name=r,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}var zp=At;const PC=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];At.prototype.clone=function(){const t=this._baseState,r={};PC.forEach(function(a){r[a]=t[a]});const n=new this.constructor(r.parent);return n._baseState=r,n};At.prototype._wrap=function(){const t=this._baseState;CC.forEach(function(r){this[r]=function(){const a=new this.constructor(this);return t.children.push(a),a[r].apply(a,arguments)}},this)};At.prototype._init=function(t){const r=this._baseState;Ur(r.parent===null),t.call(this),r.children=r.children.filter(function(n){return n._baseState.parent===this},this),Ur.equal(r.children.length,1,"Root node can have only one child")};At.prototype._useArgs=function(t){const r=this._baseState,n=t.filter(function(a){return a instanceof this.constructor},this);t=t.filter(function(a){return!(a instanceof this.constructor)},this),n.length!==0&&(Ur(r.children===null),r.children=n,n.forEach(function(a){a._baseState.parent=this},this)),t.length!==0&&(Ur(r.args===null),r.args=t,r.reverseArgs=t.map(function(a){if(typeof a!="object"||a.constructor!==Object)return a;const i={};return Object.keys(a).forEach(function(f){f==(f|0)&&(f|=0);const l=a[f];i[l]=f}),i}))};OC.forEach(function(e){At.prototype[e]=function(){const r=this._baseState;throw new Error(e+" not implemented for encoding: "+r.enc)}});nS.forEach(function(e){At.prototype[e]=function(){const r=this._baseState,n=Array.prototype.slice.call(arguments);return Ur(r.tag===null),r.tag=e,this._useArgs(n),this}});At.prototype.use=function(t){Ur(t);const r=this._baseState;return Ur(r.use===null),r.use=t,this};At.prototype.optional=function(){const t=this._baseState;return t.optional=!0,this};At.prototype.def=function(t){const r=this._baseState;return Ur(r.default===null),r.default=t,r.optional=!0,this};At.prototype.explicit=function(t){const r=this._baseState;return Ur(r.explicit===null&&r.implicit===null),r.explicit=t,this};At.prototype.implicit=function(t){const r=this._baseState;return Ur(r.explicit===null&&r.implicit===null),r.implicit=t,this};At.prototype.obj=function(){const t=this._baseState,r=Array.prototype.slice.call(arguments);return t.obj=!0,r.length!==0&&this._useArgs(r),this};At.prototype.key=function(t){const r=this._baseState;return Ur(r.key===null),r.key=t,this};At.prototype.any=function(){const t=this._baseState;return t.any=!0,this};At.prototype.choice=function(t){const r=this._baseState;return Ur(r.choice===null),r.choice=t,this._useArgs(Object.keys(t).map(function(n){return t[n]})),this};At.prototype.contains=function(t){const r=this._baseState;return Ur(r.use===null),r.contains=t,this};At.prototype._decode=function(t,r){const n=this._baseState;if(n.parent===null)return t.wrapResult(n.children[0]._decode(t,r));let a=n.default,i=!0,f=null;if(n.key!==null&&(f=t.enterKey(n.key)),n.optional){let v=null;if(n.explicit!==null?v=n.explicit:n.implicit!==null?v=n.implicit:n.tag!==null&&(v=n.tag),v===null&&!n.any){const h=t.save();try{n.choice===null?this._decodeGeneric(n.tag,t,r):this._decodeChoice(t,r),i=!0}catch{i=!1}t.restore(h)}else if(i=this._peekTag(t,v,n.any),t.isError(i))return i}let l;if(n.obj&&i&&(l=t.enterObject()),i){if(n.explicit!==null){const h=this._decodeTag(t,n.explicit);if(t.isError(h))return h;t=h}const v=t.offset;if(n.use===null&&n.choice===null){let h;n.any&&(h=t.save());const g=this._decodeTag(t,n.implicit!==null?n.implicit:n.tag,n.any);if(t.isError(g))return g;n.any?a=t.raw(h):t=g}if(r&&r.track&&n.tag!==null&&r.track(t.path(),v,t.length,"tagged"),r&&r.track&&n.tag!==null&&r.track(t.path(),t.offset,t.length,"content"),n.any||(n.choice===null?a=this._decodeGeneric(n.tag,t,r):a=this._decodeChoice(t,r)),t.isError(a))return a;if(!n.any&&n.choice===null&&n.children!==null&&n.children.forEach(function(g){g._decode(t,r)}),n.contains&&(n.tag==="octstr"||n.tag==="bitstr")){const h=new TC(a);a=this._getUse(n.contains,t._reporterState.obj)._decode(h,r)}}return n.obj&&i&&(a=t.leaveObject(l)),n.key!==null&&(a!==null||i===!0)?t.leaveKey(f,n.key,a):f!==null&&t.exitKey(f),a};At.prototype._decodeGeneric=function(t,r,n){const a=this._baseState;return t==="seq"||t==="set"?null:t==="seqof"||t==="setof"?this._decodeList(r,t,a.args[0],n):/str$/.test(t)?this._decodeStr(r,t,n):t==="objid"&&a.args?this._decodeObjid(r,a.args[0],a.args[1],n):t==="objid"?this._decodeObjid(r,null,null,n):t==="gentime"||t==="utctime"?this._decodeTime(r,t,n):t==="null_"?this._decodeNull(r,n):t==="bool"?this._decodeBool(r,n):t==="objDesc"?this._decodeStr(r,t,n):t==="int"||t==="enum"?this._decodeInt(r,a.args&&a.args[0],n):a.use!==null?this._getUse(a.use,r._reporterState.obj)._decode(r,n):r.error("unknown tag: "+t)};At.prototype._getUse=function(t,r){const n=this._baseState;return n.useDecoder=this._use(t,r),Ur(n.useDecoder._baseState.parent===null),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder};At.prototype._decodeChoice=function(t,r){const n=this._baseState;let a=null,i=!1;return Object.keys(n.choice).some(function(f){const l=t.save(),v=n.choice[f];try{const h=v._decode(t,r);if(t.isError(h))return!1;a={type:f,value:h},i=!0}catch{return t.restore(l),!1}return!0},this),i?a:t.error("Choice not matched")};At.prototype._createEncoderBuffer=function(t){return new IC(t,this.reporter)};At.prototype._encode=function(t,r,n){const a=this._baseState;if(a.default!==null&&a.default===t)return;const i=this._encodeValue(t,r,n);if(i!==void 0&&!this._skipDefault(i,r,n))return i};At.prototype._encodeValue=function(t,r,n){const a=this._baseState;if(a.parent===null)return a.children[0]._encode(t,r||new AC);let i=null;if(this.reporter=r,a.optional&&t===void 0)if(a.default!==null)t=a.default;else return;let f=null,l=!1;if(a.any)i=this._createEncoderBuffer(t);else if(a.choice)i=this._encodeChoice(t,r);else if(a.contains)f=this._getUse(a.contains,n)._encode(t,r),l=!0;else if(a.children)f=a.children.map(function(v){if(v._baseState.tag==="null_")return v._encode(null,r,t);if(v._baseState.key===null)return r.error("Child should have a key");const h=r.enterKey(v._baseState.key);if(typeof t!="object")return r.error("Child expected, but input is not object");const g=v._encode(t[v._baseState.key],r,t);return r.leaveKey(h),g},this).filter(function(v){return v}),f=this._createEncoderBuffer(f);else if(a.tag==="seqof"||a.tag==="setof"){if(!(a.args&&a.args.length===1))return r.error("Too many args for : "+a.tag);if(!Array.isArray(t))return r.error("seqof/setof, but data is not Array");const v=this.clone();v._baseState.implicit=null,f=this._createEncoderBuffer(t.map(function(h){const g=this._baseState;return this._getUse(g.args[0],t)._encode(h,r)},v))}else a.use!==null?i=this._getUse(a.use,n)._encode(t,r):(f=this._encodePrimitive(a.tag,t),l=!0);if(!a.any&&a.choice===null){const v=a.implicit!==null?a.implicit:a.tag,h=a.implicit===null?"universal":"context";v===null?a.use===null&&r.error("Tag could be omitted only for .use()"):a.use===null&&(i=this._encodeComposite(v,l,h,f))}return a.explicit!==null&&(i=this._encodeComposite(a.explicit,!1,"context",i)),i};At.prototype._encodeChoice=function(t,r){const n=this._baseState,a=n.choice[t.type];return a||Ur(!1,t.type+" not found in "+JSON.stringify(Object.keys(n.choice))),a._encode(t.value,r)};At.prototype._encodePrimitive=function(t,r){const n=this._baseState;if(/str$/.test(t))return this._encodeStr(r,t);if(t==="objid"&&n.args)return this._encodeObjid(r,n.reverseArgs[0],n.args[1]);if(t==="objid")return this._encodeObjid(r,null,null);if(t==="gentime"||t==="utctime")return this._encodeTime(r,t);if(t==="null_")return this._encodeNull();if(t==="int"||t==="enum")return this._encodeInt(r,n.args&&n.reverseArgs[0]);if(t==="bool")return this._encodeBool(r);if(t==="objDesc")return this._encodeStr(r,t);throw new Error("Unsupported tag: "+t)};At.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)};At.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)};var Ol={};(function(e){function t(r){const n={};return Object.keys(r).forEach(function(a){(a|0)==a&&(a=a|0);const i=r[a];n[i]=a}),n}e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=t(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=t(e.tag)})(Ol);const kC=at.exports,Ii=Vp.Buffer,iS=zp,Uh=Ol;function aS(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new $n,this.tree._init(e.body)}var oS=aS;aS.prototype.encode=function(t,r){return this.tree._encode(t,r).join()};function $n(e){iS.call(this,"der",e)}kC($n,iS);$n.prototype._encodeComposite=function(t,r,n,a){const i=RC(t,r,n,this.reporter);if(a.length<128){const v=Ii.alloc(2);return v[0]=i,v[1]=a.length,this._createEncoderBuffer([v,a])}let f=1;for(let v=a.length;v>=256;v>>=8)f++;const l=Ii.alloc(1+1+f);l[0]=i,l[1]=128|f;for(let v=1+f,h=a.length;h>0;v--,h>>=8)l[v]=h&255;return this._createEncoderBuffer([l,a])};$n.prototype._encodeStr=function(t,r){if(r==="bitstr")return this._createEncoderBuffer([t.unused|0,t.data]);if(r==="bmpstr"){const n=Ii.alloc(t.length*2);for(let a=0;a<t.length;a++)n.writeUInt16BE(t.charCodeAt(a),a*2);return this._createEncoderBuffer(n)}else return r==="numstr"?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(t):r==="objDesc"?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+r+" unsupported")};$n.prototype._encodeObjid=function(t,r,n){if(typeof t=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=r[t].split(/[\s.]+/g);for(let l=0;l<t.length;l++)t[l]|=0}else if(Array.isArray(t)){t=t.slice();for(let l=0;l<t.length;l++)t[l]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!n){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,t[0]*40+t[1])}let a=0;for(let l=0;l<t.length;l++){let v=t[l];for(a++;v>=128;v>>=7)a++}const i=Ii.alloc(a);let f=i.length-1;for(let l=t.length-1;l>=0;l--){let v=t[l];for(i[f--]=v&127;(v>>=7)>0;)i[f--]=128|v&127}return this._createEncoderBuffer(i)};function fn(e){return e<10?"0"+e:e}$n.prototype._encodeTime=function(t,r){let n;const a=new Date(t);return r==="gentime"?n=[fn(a.getUTCFullYear()),fn(a.getUTCMonth()+1),fn(a.getUTCDate()),fn(a.getUTCHours()),fn(a.getUTCMinutes()),fn(a.getUTCSeconds()),"Z"].join(""):r==="utctime"?n=[fn(a.getUTCFullYear()%100),fn(a.getUTCMonth()+1),fn(a.getUTCDate()),fn(a.getUTCHours()),fn(a.getUTCMinutes()),fn(a.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(n,"octstr")};$n.prototype._encodeNull=function(){return this._createEncoderBuffer("")};$n.prototype._encodeInt=function(t,r){if(typeof t=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=r[t]}if(typeof t!="number"&&!Ii.isBuffer(t)){const i=t.toArray();!t.sign&&i[0]&128&&i.unshift(0),t=Ii.from(i)}if(Ii.isBuffer(t)){let i=t.length;t.length===0&&i++;const f=Ii.alloc(i);return t.copy(f),t.length===0&&(f[0]=0),this._createEncoderBuffer(f)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let n=1;for(let i=t;i>=256;i>>=8)n++;const a=new Array(n);for(let i=a.length-1;i>=0;i--)a[i]=t&255,t>>=8;return a[0]&128&&a.unshift(0),this._createEncoderBuffer(Ii.from(a))};$n.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)};$n.prototype._use=function(t,r){return typeof t=="function"&&(t=t(r)),t._getEncoder("der").tree};$n.prototype._skipDefault=function(t,r,n){const a=this._baseState;let i;if(a.default===null)return!1;const f=t.join();if(a.defaultBuffer===void 0&&(a.defaultBuffer=this._encodeValue(a.default,r,n).join()),f.length!==a.defaultBuffer.length)return!1;for(i=0;i<f.length;i++)if(f[i]!==a.defaultBuffer[i])return!1;return!0};function RC(e,t,r,n){let a;if(e==="seqof"?e="seq":e==="setof"&&(e="set"),Uh.tagByName.hasOwnProperty(e))a=Uh.tagByName[e];else if(typeof e=="number"&&(e|0)===e)a=e;else return n.error("Unknown tag: "+e);return a>=31?n.error("Multi-octet tag encoding unsupported"):(t||(a|=32),a|=Uh.tagClassByName[r||"universal"]<<6,a)}const NC=at.exports,Kp=oS;function Hp(e){Kp.call(this,e),this.enc="pem"}NC(Hp,Kp);var DC=Hp;Hp.prototype.encode=function(t,r){const a=Kp.prototype.encode.call(this,t).toString("base64"),i=["-----BEGIN "+r.label+"-----"];for(let f=0;f<a.length;f+=64)i.push(a.slice(f,f+64));return i.push("-----END "+r.label+"-----"),i.join(`
`)};(function(e){const t=e;t.der=oS,t.pem=DC})($p);var Gp={};const BC=at.exports,UC=jp.exports,og=Wa.DecoderBuffer,sS=zp,sg=Ol;function uS(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new sn,this.tree._init(e.body)}var fS=uS;uS.prototype.decode=function(t,r){return og.isDecoderBuffer(t)||(t=new og(t,r)),this.tree._decode(t,r)};function sn(e){sS.call(this,"der",e)}BC(sn,sS);sn.prototype._peekTag=function(t,r,n){if(t.isEmpty())return!1;const a=t.save(),i=Wp(t,'Failed to peek tag: "'+r+'"');return t.isError(i)?i:(t.restore(a),i.tag===r||i.tagStr===r||i.tagStr+"of"===r||n)};sn.prototype._decodeTag=function(t,r,n){const a=Wp(t,'Failed to decode tag of "'+r+'"');if(t.isError(a))return a;let i=cS(t,a.primitive,'Failed to get length of "'+r+'"');if(t.isError(i))return i;if(!n&&a.tag!==r&&a.tagStr!==r&&a.tagStr+"of"!==r)return t.error('Failed to match tag: "'+r+'"');if(a.primitive||i!==null)return t.skip(i,'Failed to match body of: "'+r+'"');const f=t.save(),l=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(l)?l:(i=t.offset-f.offset,t.restore(f),t.skip(i,'Failed to match body of: "'+r+'"'))};sn.prototype._skipUntilEnd=function(t,r){for(;;){const n=Wp(t,r);if(t.isError(n))return n;const a=cS(t,n.primitive,r);if(t.isError(a))return a;let i;if(n.primitive||a!==null?i=t.skip(a):i=this._skipUntilEnd(t,r),t.isError(i))return i;if(n.tagStr==="end")break}};sn.prototype._decodeList=function(t,r,n,a){const i=[];for(;!t.isEmpty();){const f=this._peekTag(t,"end");if(t.isError(f))return f;const l=n.decode(t,"der",a);if(t.isError(l)&&f)break;i.push(l)}return i};sn.prototype._decodeStr=function(t,r){if(r==="bitstr"){const n=t.readUInt8();return t.isError(n)?n:{unused:n,data:t.raw()}}else if(r==="bmpstr"){const n=t.raw();if(n.length%2===1)return t.error("Decoding of string type: bmpstr length mismatch");let a="";for(let i=0;i<n.length/2;i++)a+=String.fromCharCode(n.readUInt16BE(i*2));return a}else if(r==="numstr"){const n=t.raw().toString("ascii");return this._isNumstr(n)?n:t.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return t.raw();if(r==="objDesc")return t.raw();if(r==="printstr"){const n=t.raw().toString("ascii");return this._isPrintstr(n)?n:t.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?t.raw().toString():t.error("Decoding of string type: "+r+" unsupported")}};sn.prototype._decodeObjid=function(t,r,n){let a;const i=[];let f=0,l=0;for(;!t.isEmpty();)l=t.readUInt8(),f<<=7,f|=l&127,(l&128)===0&&(i.push(f),f=0);l&128&&i.push(f);const v=i[0]/40|0,h=i[0]%40;if(n?a=i:a=[v,h].concat(i.slice(1)),r){let g=r[a.join(" ")];g===void 0&&(g=r[a.join(".")]),g!==void 0&&(a=g)}return a};sn.prototype._decodeTime=function(t,r){const n=t.raw().toString();let a,i,f,l,v,h;if(r==="gentime")a=n.slice(0,4)|0,i=n.slice(4,6)|0,f=n.slice(6,8)|0,l=n.slice(8,10)|0,v=n.slice(10,12)|0,h=n.slice(12,14)|0;else if(r==="utctime")a=n.slice(0,2)|0,i=n.slice(2,4)|0,f=n.slice(4,6)|0,l=n.slice(6,8)|0,v=n.slice(8,10)|0,h=n.slice(10,12)|0,a<70?a=2e3+a:a=1900+a;else return t.error("Decoding "+r+" time is not supported yet");return Date.UTC(a,i-1,f,l,v,h,0)};sn.prototype._decodeNull=function(){return null};sn.prototype._decodeBool=function(t){const r=t.readUInt8();return t.isError(r)?r:r!==0};sn.prototype._decodeInt=function(t,r){const n=t.raw();let a=new UC(n);return r&&(a=r[a.toString(10)]||a),a};sn.prototype._use=function(t,r){return typeof t=="function"&&(t=t(r)),t._getDecoder("der").tree};function Wp(e,t){let r=e.readUInt8(t);if(e.isError(r))return r;const n=sg.tagClass[r>>6],a=(r&32)===0;if((r&31)===31){let f=r;for(r=0;(f&128)===128;){if(f=e.readUInt8(t),e.isError(f))return f;r<<=7,r|=f&127}}else r&=31;const i=sg.tag[r];return{cls:n,primitive:a,tag:r,tagStr:i}}function cS(e,t,r){let n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&n===128)return null;if((n&128)===0)return n;const a=n&127;if(a>4)return e.error("length octect is too long");n=0;for(let i=0;i<a;i++){n<<=8;const f=e.readUInt8(r);if(e.isError(f))return f;n|=f}return n}const FC=at.exports,LC=Vp.Buffer,Jp=fS;function Zp(e){Jp.call(this,e),this.enc="pem"}FC(Zp,Jp);var qC=Zp;Zp.prototype.decode=function(t,r){const n=t.toString().split(/[\r\n]+/g),a=r.label.toUpperCase(),i=/^-----(BEGIN|END) ([^-]+)-----$/;let f=-1,l=-1;for(let g=0;g<n.length;g++){const _=n[g].match(i);if(_!==null&&_[2]===a)if(f===-1){if(_[1]!=="BEGIN")break;f=g}else{if(_[1]!=="END")break;l=g;break}}if(f===-1||l===-1)throw new Error("PEM section not found for: "+a);const v=n.slice(f+1,l).join("");v.replace(/[^a-z0-9+/=]+/gi,"");const h=LC.from(v,"base64");return Jp.prototype.decode.call(this,h,r)};(function(e){const t=e;t.der=fS,t.pem=qC})(Gp);(function(e){const t=$p,r=Gp,n=at.exports,a=e;a.define=function(l,v){return new i(l,v)};function i(f,l){this.name=f,this.body=l,this.decoders={},this.encoders={}}i.prototype._createNamed=function(l){const v=this.name;function h(g){this._initNamed(g,v)}return n(h,l),h.prototype._initNamed=function(_,M){l.call(this,_,M)},new h(this)},i.prototype._getDecoder=function(l){return l=l||"der",this.decoders.hasOwnProperty(l)||(this.decoders[l]=this._createNamed(r[l])),this.decoders[l]},i.prototype.decode=function(l,v,h){return this._getDecoder(v).decode(l,h)},i.prototype._getEncoder=function(l){return l=l||"der",this.encoders.hasOwnProperty(l)||(this.encoders[l]=this._createNamed(t[l])),this.encoders[l]},i.prototype.encode=function(l,v,h){return this._getEncoder(v).encode(l,h)}})(rS);var lS={};(function(e){const t=e;t.Reporter=Tl.Reporter,t.DecoderBuffer=Wa.DecoderBuffer,t.EncoderBuffer=Wa.EncoderBuffer,t.Node=zp})(lS);var hS={};(function(e){const t=e;t._reverse=function(n){const a={};return Object.keys(n).forEach(function(i){(i|0)==i&&(i=i|0);const f=n[i];a[f]=i}),a},t.der=Ol})(hS);(function(e){const t=e;t.bignum=jp.exports,t.define=rS.define,t.base=lS,t.constants=hS,t.decoders=Gp,t.encoders=$p})(qp);var Vn=qp,ug=Vn.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),jC=Vn.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),Yp=Vn.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),$C=Vn.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(Yp),this.key("subjectPublicKey").bitstr())}),VC=Vn.define("RelativeDistinguishedName",function(){this.setof(jC)}),zC=Vn.define("RDNSequence",function(){this.seqof(VC)}),fg=Vn.define("Name",function(){this.choice({rdnSequence:this.use(zC)})}),KC=Vn.define("Validity",function(){this.seq().obj(this.key("notBefore").use(ug),this.key("notAfter").use(ug))}),HC=Vn.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),GC=Vn.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(Yp),this.key("issuer").use(fg),this.key("validity").use(KC),this.key("subject").use(fg),this.key("subjectPublicKeyInfo").use($C),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(HC).optional())}),WC=Vn.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(GC),this.key("signatureAlgorithm").use(Yp),this.key("signatureValue").bitstr())}),JC=WC,zn=qp;jn.certificate=JC;var ZC=zn.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});jn.RSAPrivateKey=ZC;var YC=zn.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});jn.RSAPublicKey=YC;var XC=zn.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(dS),this.key("subjectPublicKey").bitstr())});jn.PublicKey=XC;var dS=zn.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),QC=zn.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(dS),this.key("subjectPrivateKey").octstr())});jn.PrivateKey=QC;var eO=zn.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});jn.EncryptedPrivateKey=eO;var tO=zn.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});jn.DSAPrivateKey=tO;jn.DSAparam=zn.define("DSAparam",function(){this.int()});var rO=zn.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(nO),this.key("publicKey").optional().explicit(1).bitstr())});jn.ECPrivateKey=rO;var nO=zn.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});jn.signature=zn.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())});const iO={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var aO=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,oO=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,sO=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,uO=pl,fO=tn,Hu=ht.exports.Buffer,cO=function(e,t){var r=e.toString(),n=r.match(aO),a;if(n){var f="aes"+n[1],l=Hu.from(n[2],"hex"),v=Hu.from(n[3].replace(/[\r\n]/g,""),"base64"),h=uO(t,l.slice(0,8),parseInt(n[1],10)).key,g=[],_=fO.createDecipheriv(f,h,l);g.push(_.update(v)),g.push(_.final()),a=Hu.concat(g)}else{var i=r.match(sO);a=Hu.from(i[2].replace(/[\r\n]/g,""),"base64")}var M=r.match(oO)[1];return{tag:M,data:a}},Fr=jn,lO=iO,hO=cO,dO=tn,vO=hl,P0=ht.exports.Buffer,Pl=vS;function vS(e){var t;typeof e=="object"&&!P0.isBuffer(e)&&(t=e.passphrase,e=e.key),typeof e=="string"&&(e=P0.from(e));var r=hO(e,t),n=r.tag,a=r.data,i,f;switch(n){case"CERTIFICATE":f=Fr.certificate.decode(a,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(f||(f=Fr.PublicKey.decode(a,"der")),i=f.algorithm.algorithm.join("."),i){case"1.2.840.113549.1.1.1":return Fr.RSAPublicKey.decode(f.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return f.subjectPrivateKey=f.subjectPublicKey,{type:"ec",data:f};case"1.2.840.10040.4.1":return f.algorithm.params.pub_key=Fr.DSAparam.decode(f.subjectPublicKey.data,"der"),{type:"dsa",data:f.algorithm.params};default:throw new Error("unknown key id "+i)}case"ENCRYPTED PRIVATE KEY":a=Fr.EncryptedPrivateKey.decode(a,"der"),a=pO(a,t);case"PRIVATE KEY":switch(f=Fr.PrivateKey.decode(a,"der"),i=f.algorithm.algorithm.join("."),i){case"1.2.840.113549.1.1.1":return Fr.RSAPrivateKey.decode(f.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:f.algorithm.curve,privateKey:Fr.ECPrivateKey.decode(f.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return f.algorithm.params.priv_key=Fr.DSAparam.decode(f.subjectPrivateKey,"der"),{type:"dsa",params:f.algorithm.params};default:throw new Error("unknown key id "+i)}case"RSA PUBLIC KEY":return Fr.RSAPublicKey.decode(a,"der");case"RSA PRIVATE KEY":return Fr.RSAPrivateKey.decode(a,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:Fr.DSAPrivateKey.decode(a,"der")};case"EC PRIVATE KEY":return a=Fr.ECPrivateKey.decode(a,"der"),{curve:a.parameters.value,privateKey:a.privateKey};default:throw new Error("unknown key type "+n)}}vS.signature=Fr.signature;function pO(e,t){var r=e.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),a=lO[e.algorithm.decrypt.cipher.algo.join(".")],i=e.algorithm.decrypt.cipher.iv,f=e.subjectPrivateKey,l=parseInt(a.split("-")[1],10)/8,v=vO.pbkdf2Sync(t,r,n,l,"sha1"),h=dO.createDecipheriv(a,v,i),g=[];return g.push(h.update(f)),g.push(h.final()),P0.concat(g)}const pS={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var cg;function mO(){if(cg)return Us.exports;cg=1;var e=ou.exports.Buffer,t=F3,r=Np,n=Lp().ec,a=gl.exports,i=Pl,f=pS;function l(O,T,P,k,R){var D=i(T);if(D.curve){if(k!=="ecdsa"&&k!=="ecdsa/rsa")throw new Error("wrong private key type");return v(O,D)}else if(D.type==="dsa"){if(k!=="dsa")throw new Error("wrong private key type");return h(O,D,P)}else if(k!=="rsa"&&k!=="ecdsa/rsa")throw new Error("wrong private key type");O=e.concat([R,O]);for(var V=D.modulus.byteLength(),q=[0,1];O.length+q.length+1<V;)q.push(255);q.push(0);for(var $=-1;++$<O.length;)q.push(O[$]);var F=r(q,D);return F}function v(O,T){var P=f[T.curve.join(".")];if(!P)throw new Error("unknown curve "+T.curve.join("."));var k=new n(P),R=k.keyFromPrivate(T.privateKey),D=R.sign(O);return e.from(D.toDER())}function h(O,T,P){for(var k=T.params.priv_key,R=T.params.p,D=T.params.q,V=T.params.g,q=new a(0),$,F=M(O,D).mod(D),z=!1,b=_(k,D,O,P);z===!1;)$=A(D,b,P),q=I(V,$,R,D),z=$.invm(D).imul(F.add(k.mul(q))).mod(D),z.cmpn(0)===0&&(z=!1,q=new a(0));return g(q,z)}function g(O,T){O=O.toArray(),T=T.toArray(),O[0]&128&&(O=[0].concat(O)),T[0]&128&&(T=[0].concat(T));var P=O.length+T.length+4,k=[48,P,2,O.length];return k=k.concat(O,[2,T.length],T),e.from(k)}function _(O,T,P,k){if(O=e.from(O.toArray()),O.length<T.byteLength()){var R=e.alloc(T.byteLength()-O.length);O=e.concat([R,O])}var D=P.length,V=E(P,T),q=e.alloc(D);q.fill(1);var $=e.alloc(D);return $=t(k,$).update(q).update(e.from([0])).update(O).update(V).digest(),q=t(k,$).update(q).digest(),$=t(k,$).update(q).update(e.from([1])).update(O).update(V).digest(),q=t(k,$).update(q).digest(),{k:$,v:q}}function M(O,T){var P=new a(O),k=(O.length<<3)-T.bitLength();return k>0&&P.ishrn(k),P}function E(O,T){O=M(O,T),O=O.mod(T);var P=e.from(O.toArray());if(P.length<T.byteLength()){var k=e.alloc(T.byteLength()-P.length);P=e.concat([k,P])}return P}function A(O,T,P){var k,R;do{for(k=e.alloc(0);k.length*8<O.bitLength();)T.v=t(P,T.k).update(T.v).digest(),k=e.concat([k,T.v]);R=M(k,O),T.k=t(P,T.k).update(T.v).update(e.from([0])).digest(),T.v=t(P,T.k).update(T.v).digest()}while(R.cmp(O)!==-1);return R}function I(O,T,P,k){return O.toRed(a.mont(P)).redPow(T).fromRed().mod(k)}return Us.exports=l,Us.exports.getKey=_,Us.exports.makeKey=A,Us.exports}var Fh,lg;function yO(){if(lg)return Fh;lg=1;var e=ou.exports.Buffer,t=gl.exports,r=Lp().ec,n=Pl,a=pS;function i(h,g,_,M,E){var A=n(_);if(A.type==="ec"){if(M!=="ecdsa"&&M!=="ecdsa/rsa")throw new Error("wrong public key type");return f(h,g,A)}else if(A.type==="dsa"){if(M!=="dsa")throw new Error("wrong public key type");return l(h,g,A)}else if(M!=="rsa"&&M!=="ecdsa/rsa")throw new Error("wrong public key type");g=e.concat([E,g]);for(var I=A.modulus.byteLength(),O=[1],T=0;g.length+O.length+2<I;)O.push(255),T++;O.push(0);for(var P=-1;++P<g.length;)O.push(g[P]);O=e.from(O);var k=t.mont(A.modulus);h=new t(h).toRed(k),h=h.redPow(new t(A.publicExponent)),h=e.from(h.fromRed().toArray());var R=T<8?1:0;for(I=Math.min(h.length,O.length),h.length!==O.length&&(R=1),P=-1;++P<I;)R|=h[P]^O[P];return R===0}function f(h,g,_){var M=a[_.data.algorithm.curve.join(".")];if(!M)throw new Error("unknown curve "+_.data.algorithm.curve.join("."));var E=new r(M),A=_.data.subjectPrivateKey.data;return E.verify(g,h,A)}function l(h,g,_){var M=_.data.p,E=_.data.q,A=_.data.g,I=_.data.pub_key,O=n.signature.decode(h,"der"),T=O.s,P=O.r;v(T,E),v(P,E);var k=t.mont(M),R=T.invm(E),D=A.toRed(k).redPow(new t(g).mul(R).mod(E)).fromRed().mul(I.toRed(k).redPow(P.mul(R).mod(E)).fromRed()).mod(M).mod(E);return D.cmp(P)===0}function v(h,g){if(h.cmpn(0)<=0)throw new Error("invalid sig");if(h.cmp(g)>=g)throw new Error("invalid sig")}return Fh=i,Fh}var Lh,hg;function gO(){if(hg)return Lh;hg=1;var e=ou.exports.Buffer,t=Eu,r=Yo.exports,n=at.exports,a=mO(),i=yO(),f=q3;Object.keys(f).forEach(function(_){f[_].id=e.from(f[_].id,"hex"),f[_.toLowerCase()]=f[_]});function l(_){r.Writable.call(this);var M=f[_];if(!M)throw new Error("Unknown message digest");this._hashType=M.hash,this._hash=t(M.hash),this._tag=M.id,this._signType=M.sign}n(l,r.Writable),l.prototype._write=function(M,E,A){this._hash.update(M),A()},l.prototype.update=function(M,E){return typeof M=="string"&&(M=e.from(M,E)),this._hash.update(M),this},l.prototype.sign=function(M,E){this.end();var A=this._hash.digest(),I=a(A,M,this._hashType,this._signType,this._tag);return E?I.toString(E):I};function v(_){r.Writable.call(this);var M=f[_];if(!M)throw new Error("Unknown message digest");this._hash=t(M.hash),this._tag=M.id,this._signType=M.sign}n(v,r.Writable),v.prototype._write=function(M,E,A){this._hash.update(M),A()},v.prototype.update=function(M,E){return typeof M=="string"&&(M=e.from(M,E)),this._hash.update(M),this},v.prototype.verify=function(M,E,A){typeof E=="string"&&(E=e.from(E,A)),this.end();var I=this._hash.digest();return i(E,I,M,this._signType,this._tag)};function h(_){return new l(_)}function g(_){return new v(_)}return Lh={Sign:h,Verify:g,createSign:h,createVerify:g},Lh}var mS={exports:{}};(function(e){(function(t,r){function n(b,o){if(!b)throw new Error(o||"Assertion failed")}function a(b,o){b.super_=o;var u=function(){};u.prototype=o.prototype,b.prototype=new u,b.prototype.constructor=b}function i(b,o,u){if(i.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((o==="le"||o==="be")&&(u=o,o=10),this._init(b||0,o||10,u||"be"))}typeof t=="object"?t.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var f;try{typeof window<"u"&&typeof window.Buffer<"u"?f=window.Buffer:f=Ue.Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,u){return o.cmp(u)>0?o:u},i.min=function(o,u){return o.cmp(u)<0?o:u},i.prototype._init=function(o,u,c){if(typeof o=="number")return this._initNumber(o,u,c);if(typeof o=="object")return this._initArray(o,u,c);u==="hex"&&(u=16),n(u===(u|0)&&u>=2&&u<=36),o=o.toString().replace(/\s+/g,"");var d=0;o[0]==="-"&&(d++,this.negative=1),d<o.length&&(u===16?this._parseHex(o,d,c):(this._parseBase(o,u,d),c==="le"&&this._initArray(this.toArray(),u,c)))},i.prototype._initNumber=function(o,u,c){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(n(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),u,c)},i.prototype._initArray=function(o,u,c){if(n(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var p,w,S=0;if(c==="be")for(d=o.length-1,p=0;d>=0;d-=3)w=o[d]|o[d-1]<<8|o[d-2]<<16,this.words[p]|=w<<S&67108863,this.words[p+1]=w>>>26-S&67108863,S+=24,S>=26&&(S-=26,p++);else if(c==="le")for(d=0,p=0;d<o.length;d+=3)w=o[d]|o[d+1]<<8|o[d+2]<<16,this.words[p]|=w<<S&67108863,this.words[p+1]=w>>>26-S&67108863,S+=24,S>=26&&(S-=26,p++);return this.strip()};function l(b,o){var u=b.charCodeAt(o);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function v(b,o,u){var c=l(b,u);return u-1>=o&&(c|=l(b,u-1)<<4),c}i.prototype._parseHex=function(o,u,c){this.length=Math.ceil((o.length-u)/6),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var p=0,w=0,S;if(c==="be")for(d=o.length-1;d>=u;d-=2)S=v(o,u,d)<<p,this.words[w]|=S&67108863,p>=18?(p-=18,w+=1,this.words[w]|=S>>>26):p+=8;else{var m=o.length-u;for(d=m%2===0?u+1:u;d<o.length;d+=2)S=v(o,u,d)<<p,this.words[w]|=S&67108863,p>=18?(p-=18,w+=1,this.words[w]|=S>>>26):p+=8}this.strip()};function h(b,o,u,c){for(var d=0,p=Math.min(b.length,u),w=o;w<p;w++){var S=b.charCodeAt(w)-48;d*=c,S>=49?d+=S-49+10:S>=17?d+=S-17+10:d+=S}return d}i.prototype._parseBase=function(o,u,c){this.words=[0],this.length=1;for(var d=0,p=1;p<=67108863;p*=u)d++;d--,p=p/u|0;for(var w=o.length-c,S=w%d,m=Math.min(w,w-S)+c,s=0,y=c;y<m;y+=d)s=h(o,y,y+d,u),this.imuln(p),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(S!==0){var x=1;for(s=h(o,y,o.length,u),y=0;y<S;y++)x*=u;this.imuln(x),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var u=0;u<this.length;u++)o.words[u]=this.words[u];o.length=this.length,o.negative=this.negative,o.red=this.red},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,u){o=o||10,u=u|0||1;var c;if(o===16||o==="hex"){c="";for(var d=0,p=0,w=0;w<this.length;w++){var S=this.words[w],m=((S<<d|p)&16777215).toString(16);p=S>>>24-d&16777215,p!==0||w!==this.length-1?c=g[6-m.length]+m+c:c=m+c,d+=2,d>=26&&(d-=26,w--)}for(p!==0&&(c=p.toString(16)+c);c.length%u!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(o===(o|0)&&o>=2&&o<=36){var s=_[o],y=M[o];c="";var x=this.clone();for(x.negative=0;!x.isZero();){var C=x.modn(y).toString(o);x=x.idivn(y),x.isZero()?c=C+c:c=g[s-C.length]+C+c}for(this.isZero()&&(c="0"+c);c.length%u!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(o,u){return n(typeof f<"u"),this.toArrayLike(f,o,u)},i.prototype.toArray=function(o,u){return this.toArrayLike(Array,o,u)},i.prototype.toArrayLike=function(o,u,c){var d=this.byteLength(),p=c||Math.max(1,d);n(d<=p,"byte array longer than desired length"),n(p>0,"Requested array length <= 0"),this.strip();var w=u==="le",S=new o(p),m,s,y=this.clone();if(w){for(s=0;!y.isZero();s++)m=y.andln(255),y.iushrn(8),S[s]=m;for(;s<p;s++)S[s]=0}else{for(s=0;s<p-d;s++)S[s]=0;for(s=0;!y.isZero();s++)m=y.andln(255),y.iushrn(8),S[p-s-1]=m}return S},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var u=o,c=0;return u>=4096&&(c+=13,u>>>=13),u>=64&&(c+=7,u>>>=7),u>=8&&(c+=4,u>>>=4),u>=2&&(c+=2,u>>>=2),c+u},i.prototype._zeroBits=function(o){if(o===0)return 26;var u=o,c=0;return(u&8191)===0&&(c+=13,u>>>=13),(u&127)===0&&(c+=7,u>>>=7),(u&15)===0&&(c+=4,u>>>=4),(u&3)===0&&(c+=2,u>>>=2),(u&1)===0&&c++,c},i.prototype.bitLength=function(){var o=this.words[this.length-1],u=this._countBits(o);return(this.length-1)*26+u};function E(b){for(var o=new Array(b.bitLength()),u=0;u<o.length;u++){var c=u/26|0,d=u%26;o[u]=(b.words[c]&1<<d)>>>d}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,u=0;u<this.length;u++){var c=this._zeroBits(this.words[u]);if(o+=c,c!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]|o.words[u];return this.strip()},i.prototype.ior=function(o){return n((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var u;this.length>o.length?u=o:u=this;for(var c=0;c<u.length;c++)this.words[c]=this.words[c]&o.words[c];return this.length=u.length,this.strip()},i.prototype.iand=function(o){return n((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var u,c;this.length>o.length?(u=this,c=o):(u=o,c=this);for(var d=0;d<c.length;d++)this.words[d]=u.words[d]^c.words[d];if(this!==u)for(;d<u.length;d++)this.words[d]=u.words[d];return this.length=u.length,this.strip()},i.prototype.ixor=function(o){return n((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){n(typeof o=="number"&&o>=0);var u=Math.ceil(o/26)|0,c=o%26;this._expand(u),c>0&&u--;for(var d=0;d<u;d++)this.words[d]=~this.words[d]&67108863;return c>0&&(this.words[d]=~this.words[d]&67108863>>26-c),this.strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,u){n(typeof o=="number"&&o>=0);var c=o/26|0,d=o%26;return this._expand(c+1),u?this.words[c]=this.words[c]|1<<d:this.words[c]=this.words[c]&~(1<<d),this.strip()},i.prototype.iadd=function(o){var u;if(this.negative!==0&&o.negative===0)return this.negative=0,u=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,u=this.isub(o),o.negative=1,u._normSign();var c,d;this.length>o.length?(c=this,d=o):(c=o,d=this);for(var p=0,w=0;w<d.length;w++)u=(c.words[w]|0)+(d.words[w]|0)+p,this.words[w]=u&67108863,p=u>>>26;for(;p!==0&&w<c.length;w++)u=(c.words[w]|0)+p,this.words[w]=u&67108863,p=u>>>26;if(this.length=c.length,p!==0)this.words[this.length]=p,this.length++;else if(c!==this)for(;w<c.length;w++)this.words[w]=c.words[w];return this},i.prototype.add=function(o){var u;return o.negative!==0&&this.negative===0?(o.negative=0,u=this.sub(o),o.negative^=1,u):o.negative===0&&this.negative!==0?(this.negative=0,u=o.sub(this),this.negative=1,u):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var u=this.iadd(o);return o.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var c=this.cmp(o);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var d,p;c>0?(d=this,p=o):(d=o,p=this);for(var w=0,S=0;S<p.length;S++)u=(d.words[S]|0)-(p.words[S]|0)+w,w=u>>26,this.words[S]=u&67108863;for(;w!==0&&S<d.length;S++)u=(d.words[S]|0)+w,w=u>>26,this.words[S]=u&67108863;if(w===0&&S<d.length&&d!==this)for(;S<d.length;S++)this.words[S]=d.words[S];return this.length=Math.max(this.length,S),d!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function A(b,o,u){u.negative=o.negative^b.negative;var c=b.length+o.length|0;u.length=c,c=c-1|0;var d=b.words[0]|0,p=o.words[0]|0,w=d*p,S=w&67108863,m=w/67108864|0;u.words[0]=S;for(var s=1;s<c;s++){for(var y=m>>>26,x=m&67108863,C=Math.min(s,o.length-1),N=Math.max(0,s-b.length+1);N<=C;N++){var j=s-N|0;d=b.words[j]|0,p=o.words[N]|0,w=d*p+x,y+=w/67108864|0,x=w&67108863}u.words[s]=x|0,m=y|0}return m!==0?u.words[s]=m|0:u.length--,u.strip()}var I=function(o,u,c){var d=o.words,p=u.words,w=c.words,S=0,m,s,y,x=d[0]|0,C=x&8191,N=x>>>13,j=d[1]|0,B=j&8191,L=j>>>13,Y=d[2]|0,G=Y&8191,Z=Y>>>13,K=d[3]|0,U=K&8191,W=K>>>13,Te=d[4]|0,ee=Te&8191,re=Te>>>13,De=d[5]|0,ie=De&8191,J=De>>>13,qe=d[6]|0,ae=qe&8191,be=qe>>>13,Ge=d[7]|0,H=Ge&8191,X=Ge>>>13,Q=d[8]|0,te=Q&8191,ce=Q>>>13,Ke=d[9]|0,he=Ke&8191,oe=Ke>>>13,We=p[0]|0,fe=We&8191,Ce=We>>>13,et=p[1]|0,le=et&8191,we=et>>>13,Ze=p[2]|0,me=Ze&8191,xe=Ze>>>13,tt=p[3]|0,ne=tt&8191,_e=tt>>>13,Je=p[4]|0,de=Je&8191,Ae=Je>>>13,st=p[5]|0,ve=st&8191,Ie=st>>>13,Qe=p[6]|0,ye=Qe&8191,Pe=Qe>>>13,rt=p[7]|0,ge=rt&8191,Oe=rt>>>13,ot=p[8]|0,Se=ot&8191,ke=ot>>>13,ft=p[9]|0,Me=ft&8191,Re=ft>>>13;c.negative=o.negative^u.negative,c.length=19,m=Math.imul(C,fe),s=Math.imul(C,Ce),s=s+Math.imul(N,fe)|0,y=Math.imul(N,Ce);var nt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(nt>>>26)|0,nt&=67108863,m=Math.imul(B,fe),s=Math.imul(B,Ce),s=s+Math.imul(L,fe)|0,y=Math.imul(L,Ce),m=m+Math.imul(C,le)|0,s=s+Math.imul(C,we)|0,s=s+Math.imul(N,le)|0,y=y+Math.imul(N,we)|0;var it=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(it>>>26)|0,it&=67108863,m=Math.imul(G,fe),s=Math.imul(G,Ce),s=s+Math.imul(Z,fe)|0,y=Math.imul(Z,Ce),m=m+Math.imul(B,le)|0,s=s+Math.imul(B,we)|0,s=s+Math.imul(L,le)|0,y=y+Math.imul(L,we)|0,m=m+Math.imul(C,me)|0,s=s+Math.imul(C,xe)|0,s=s+Math.imul(N,me)|0,y=y+Math.imul(N,xe)|0;var It=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(It>>>26)|0,It&=67108863,m=Math.imul(U,fe),s=Math.imul(U,Ce),s=s+Math.imul(W,fe)|0,y=Math.imul(W,Ce),m=m+Math.imul(G,le)|0,s=s+Math.imul(G,we)|0,s=s+Math.imul(Z,le)|0,y=y+Math.imul(Z,we)|0,m=m+Math.imul(B,me)|0,s=s+Math.imul(B,xe)|0,s=s+Math.imul(L,me)|0,y=y+Math.imul(L,xe)|0,m=m+Math.imul(C,ne)|0,s=s+Math.imul(C,_e)|0,s=s+Math.imul(N,ne)|0,y=y+Math.imul(N,_e)|0;var Tt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,m=Math.imul(ee,fe),s=Math.imul(ee,Ce),s=s+Math.imul(re,fe)|0,y=Math.imul(re,Ce),m=m+Math.imul(U,le)|0,s=s+Math.imul(U,we)|0,s=s+Math.imul(W,le)|0,y=y+Math.imul(W,we)|0,m=m+Math.imul(G,me)|0,s=s+Math.imul(G,xe)|0,s=s+Math.imul(Z,me)|0,y=y+Math.imul(Z,xe)|0,m=m+Math.imul(B,ne)|0,s=s+Math.imul(B,_e)|0,s=s+Math.imul(L,ne)|0,y=y+Math.imul(L,_e)|0,m=m+Math.imul(C,de)|0,s=s+Math.imul(C,Ae)|0,s=s+Math.imul(N,de)|0,y=y+Math.imul(N,Ae)|0;var Ct=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,m=Math.imul(ie,fe),s=Math.imul(ie,Ce),s=s+Math.imul(J,fe)|0,y=Math.imul(J,Ce),m=m+Math.imul(ee,le)|0,s=s+Math.imul(ee,we)|0,s=s+Math.imul(re,le)|0,y=y+Math.imul(re,we)|0,m=m+Math.imul(U,me)|0,s=s+Math.imul(U,xe)|0,s=s+Math.imul(W,me)|0,y=y+Math.imul(W,xe)|0,m=m+Math.imul(G,ne)|0,s=s+Math.imul(G,_e)|0,s=s+Math.imul(Z,ne)|0,y=y+Math.imul(Z,_e)|0,m=m+Math.imul(B,de)|0,s=s+Math.imul(B,Ae)|0,s=s+Math.imul(L,de)|0,y=y+Math.imul(L,Ae)|0,m=m+Math.imul(C,ve)|0,s=s+Math.imul(C,Ie)|0,s=s+Math.imul(N,ve)|0,y=y+Math.imul(N,Ie)|0;var Ot=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,m=Math.imul(ae,fe),s=Math.imul(ae,Ce),s=s+Math.imul(be,fe)|0,y=Math.imul(be,Ce),m=m+Math.imul(ie,le)|0,s=s+Math.imul(ie,we)|0,s=s+Math.imul(J,le)|0,y=y+Math.imul(J,we)|0,m=m+Math.imul(ee,me)|0,s=s+Math.imul(ee,xe)|0,s=s+Math.imul(re,me)|0,y=y+Math.imul(re,xe)|0,m=m+Math.imul(U,ne)|0,s=s+Math.imul(U,_e)|0,s=s+Math.imul(W,ne)|0,y=y+Math.imul(W,_e)|0,m=m+Math.imul(G,de)|0,s=s+Math.imul(G,Ae)|0,s=s+Math.imul(Z,de)|0,y=y+Math.imul(Z,Ae)|0,m=m+Math.imul(B,ve)|0,s=s+Math.imul(B,Ie)|0,s=s+Math.imul(L,ve)|0,y=y+Math.imul(L,Ie)|0,m=m+Math.imul(C,ye)|0,s=s+Math.imul(C,Pe)|0,s=s+Math.imul(N,ye)|0,y=y+Math.imul(N,Pe)|0;var Pt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,m=Math.imul(H,fe),s=Math.imul(H,Ce),s=s+Math.imul(X,fe)|0,y=Math.imul(X,Ce),m=m+Math.imul(ae,le)|0,s=s+Math.imul(ae,we)|0,s=s+Math.imul(be,le)|0,y=y+Math.imul(be,we)|0,m=m+Math.imul(ie,me)|0,s=s+Math.imul(ie,xe)|0,s=s+Math.imul(J,me)|0,y=y+Math.imul(J,xe)|0,m=m+Math.imul(ee,ne)|0,s=s+Math.imul(ee,_e)|0,s=s+Math.imul(re,ne)|0,y=y+Math.imul(re,_e)|0,m=m+Math.imul(U,de)|0,s=s+Math.imul(U,Ae)|0,s=s+Math.imul(W,de)|0,y=y+Math.imul(W,Ae)|0,m=m+Math.imul(G,ve)|0,s=s+Math.imul(G,Ie)|0,s=s+Math.imul(Z,ve)|0,y=y+Math.imul(Z,Ie)|0,m=m+Math.imul(B,ye)|0,s=s+Math.imul(B,Pe)|0,s=s+Math.imul(L,ye)|0,y=y+Math.imul(L,Pe)|0,m=m+Math.imul(C,ge)|0,s=s+Math.imul(C,Oe)|0,s=s+Math.imul(N,ge)|0,y=y+Math.imul(N,Oe)|0;var kt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(kt>>>26)|0,kt&=67108863,m=Math.imul(te,fe),s=Math.imul(te,Ce),s=s+Math.imul(ce,fe)|0,y=Math.imul(ce,Ce),m=m+Math.imul(H,le)|0,s=s+Math.imul(H,we)|0,s=s+Math.imul(X,le)|0,y=y+Math.imul(X,we)|0,m=m+Math.imul(ae,me)|0,s=s+Math.imul(ae,xe)|0,s=s+Math.imul(be,me)|0,y=y+Math.imul(be,xe)|0,m=m+Math.imul(ie,ne)|0,s=s+Math.imul(ie,_e)|0,s=s+Math.imul(J,ne)|0,y=y+Math.imul(J,_e)|0,m=m+Math.imul(ee,de)|0,s=s+Math.imul(ee,Ae)|0,s=s+Math.imul(re,de)|0,y=y+Math.imul(re,Ae)|0,m=m+Math.imul(U,ve)|0,s=s+Math.imul(U,Ie)|0,s=s+Math.imul(W,ve)|0,y=y+Math.imul(W,Ie)|0,m=m+Math.imul(G,ye)|0,s=s+Math.imul(G,Pe)|0,s=s+Math.imul(Z,ye)|0,y=y+Math.imul(Z,Pe)|0,m=m+Math.imul(B,ge)|0,s=s+Math.imul(B,Oe)|0,s=s+Math.imul(L,ge)|0,y=y+Math.imul(L,Oe)|0,m=m+Math.imul(C,Se)|0,s=s+Math.imul(C,ke)|0,s=s+Math.imul(N,Se)|0,y=y+Math.imul(N,ke)|0;var Rt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,m=Math.imul(he,fe),s=Math.imul(he,Ce),s=s+Math.imul(oe,fe)|0,y=Math.imul(oe,Ce),m=m+Math.imul(te,le)|0,s=s+Math.imul(te,we)|0,s=s+Math.imul(ce,le)|0,y=y+Math.imul(ce,we)|0,m=m+Math.imul(H,me)|0,s=s+Math.imul(H,xe)|0,s=s+Math.imul(X,me)|0,y=y+Math.imul(X,xe)|0,m=m+Math.imul(ae,ne)|0,s=s+Math.imul(ae,_e)|0,s=s+Math.imul(be,ne)|0,y=y+Math.imul(be,_e)|0,m=m+Math.imul(ie,de)|0,s=s+Math.imul(ie,Ae)|0,s=s+Math.imul(J,de)|0,y=y+Math.imul(J,Ae)|0,m=m+Math.imul(ee,ve)|0,s=s+Math.imul(ee,Ie)|0,s=s+Math.imul(re,ve)|0,y=y+Math.imul(re,Ie)|0,m=m+Math.imul(U,ye)|0,s=s+Math.imul(U,Pe)|0,s=s+Math.imul(W,ye)|0,y=y+Math.imul(W,Pe)|0,m=m+Math.imul(G,ge)|0,s=s+Math.imul(G,Oe)|0,s=s+Math.imul(Z,ge)|0,y=y+Math.imul(Z,Oe)|0,m=m+Math.imul(B,Se)|0,s=s+Math.imul(B,ke)|0,s=s+Math.imul(L,Se)|0,y=y+Math.imul(L,ke)|0,m=m+Math.imul(C,Me)|0,s=s+Math.imul(C,Re)|0,s=s+Math.imul(N,Me)|0,y=y+Math.imul(N,Re)|0;var Nt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,m=Math.imul(he,le),s=Math.imul(he,we),s=s+Math.imul(oe,le)|0,y=Math.imul(oe,we),m=m+Math.imul(te,me)|0,s=s+Math.imul(te,xe)|0,s=s+Math.imul(ce,me)|0,y=y+Math.imul(ce,xe)|0,m=m+Math.imul(H,ne)|0,s=s+Math.imul(H,_e)|0,s=s+Math.imul(X,ne)|0,y=y+Math.imul(X,_e)|0,m=m+Math.imul(ae,de)|0,s=s+Math.imul(ae,Ae)|0,s=s+Math.imul(be,de)|0,y=y+Math.imul(be,Ae)|0,m=m+Math.imul(ie,ve)|0,s=s+Math.imul(ie,Ie)|0,s=s+Math.imul(J,ve)|0,y=y+Math.imul(J,Ie)|0,m=m+Math.imul(ee,ye)|0,s=s+Math.imul(ee,Pe)|0,s=s+Math.imul(re,ye)|0,y=y+Math.imul(re,Pe)|0,m=m+Math.imul(U,ge)|0,s=s+Math.imul(U,Oe)|0,s=s+Math.imul(W,ge)|0,y=y+Math.imul(W,Oe)|0,m=m+Math.imul(G,Se)|0,s=s+Math.imul(G,ke)|0,s=s+Math.imul(Z,Se)|0,y=y+Math.imul(Z,ke)|0,m=m+Math.imul(B,Me)|0,s=s+Math.imul(B,Re)|0,s=s+Math.imul(L,Me)|0,y=y+Math.imul(L,Re)|0;var Dt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,m=Math.imul(he,me),s=Math.imul(he,xe),s=s+Math.imul(oe,me)|0,y=Math.imul(oe,xe),m=m+Math.imul(te,ne)|0,s=s+Math.imul(te,_e)|0,s=s+Math.imul(ce,ne)|0,y=y+Math.imul(ce,_e)|0,m=m+Math.imul(H,de)|0,s=s+Math.imul(H,Ae)|0,s=s+Math.imul(X,de)|0,y=y+Math.imul(X,Ae)|0,m=m+Math.imul(ae,ve)|0,s=s+Math.imul(ae,Ie)|0,s=s+Math.imul(be,ve)|0,y=y+Math.imul(be,Ie)|0,m=m+Math.imul(ie,ye)|0,s=s+Math.imul(ie,Pe)|0,s=s+Math.imul(J,ye)|0,y=y+Math.imul(J,Pe)|0,m=m+Math.imul(ee,ge)|0,s=s+Math.imul(ee,Oe)|0,s=s+Math.imul(re,ge)|0,y=y+Math.imul(re,Oe)|0,m=m+Math.imul(U,Se)|0,s=s+Math.imul(U,ke)|0,s=s+Math.imul(W,Se)|0,y=y+Math.imul(W,ke)|0,m=m+Math.imul(G,Me)|0,s=s+Math.imul(G,Re)|0,s=s+Math.imul(Z,Me)|0,y=y+Math.imul(Z,Re)|0;var Bt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,m=Math.imul(he,ne),s=Math.imul(he,_e),s=s+Math.imul(oe,ne)|0,y=Math.imul(oe,_e),m=m+Math.imul(te,de)|0,s=s+Math.imul(te,Ae)|0,s=s+Math.imul(ce,de)|0,y=y+Math.imul(ce,Ae)|0,m=m+Math.imul(H,ve)|0,s=s+Math.imul(H,Ie)|0,s=s+Math.imul(X,ve)|0,y=y+Math.imul(X,Ie)|0,m=m+Math.imul(ae,ye)|0,s=s+Math.imul(ae,Pe)|0,s=s+Math.imul(be,ye)|0,y=y+Math.imul(be,Pe)|0,m=m+Math.imul(ie,ge)|0,s=s+Math.imul(ie,Oe)|0,s=s+Math.imul(J,ge)|0,y=y+Math.imul(J,Oe)|0,m=m+Math.imul(ee,Se)|0,s=s+Math.imul(ee,ke)|0,s=s+Math.imul(re,Se)|0,y=y+Math.imul(re,ke)|0,m=m+Math.imul(U,Me)|0,s=s+Math.imul(U,Re)|0,s=s+Math.imul(W,Me)|0,y=y+Math.imul(W,Re)|0;var Ut=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,m=Math.imul(he,de),s=Math.imul(he,Ae),s=s+Math.imul(oe,de)|0,y=Math.imul(oe,Ae),m=m+Math.imul(te,ve)|0,s=s+Math.imul(te,Ie)|0,s=s+Math.imul(ce,ve)|0,y=y+Math.imul(ce,Ie)|0,m=m+Math.imul(H,ye)|0,s=s+Math.imul(H,Pe)|0,s=s+Math.imul(X,ye)|0,y=y+Math.imul(X,Pe)|0,m=m+Math.imul(ae,ge)|0,s=s+Math.imul(ae,Oe)|0,s=s+Math.imul(be,ge)|0,y=y+Math.imul(be,Oe)|0,m=m+Math.imul(ie,Se)|0,s=s+Math.imul(ie,ke)|0,s=s+Math.imul(J,Se)|0,y=y+Math.imul(J,ke)|0,m=m+Math.imul(ee,Me)|0,s=s+Math.imul(ee,Re)|0,s=s+Math.imul(re,Me)|0,y=y+Math.imul(re,Re)|0;var Ft=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,m=Math.imul(he,ve),s=Math.imul(he,Ie),s=s+Math.imul(oe,ve)|0,y=Math.imul(oe,Ie),m=m+Math.imul(te,ye)|0,s=s+Math.imul(te,Pe)|0,s=s+Math.imul(ce,ye)|0,y=y+Math.imul(ce,Pe)|0,m=m+Math.imul(H,ge)|0,s=s+Math.imul(H,Oe)|0,s=s+Math.imul(X,ge)|0,y=y+Math.imul(X,Oe)|0,m=m+Math.imul(ae,Se)|0,s=s+Math.imul(ae,ke)|0,s=s+Math.imul(be,Se)|0,y=y+Math.imul(be,ke)|0,m=m+Math.imul(ie,Me)|0,s=s+Math.imul(ie,Re)|0,s=s+Math.imul(J,Me)|0,y=y+Math.imul(J,Re)|0;var Lt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,m=Math.imul(he,ye),s=Math.imul(he,Pe),s=s+Math.imul(oe,ye)|0,y=Math.imul(oe,Pe),m=m+Math.imul(te,ge)|0,s=s+Math.imul(te,Oe)|0,s=s+Math.imul(ce,ge)|0,y=y+Math.imul(ce,Oe)|0,m=m+Math.imul(H,Se)|0,s=s+Math.imul(H,ke)|0,s=s+Math.imul(X,Se)|0,y=y+Math.imul(X,ke)|0,m=m+Math.imul(ae,Me)|0,s=s+Math.imul(ae,Re)|0,s=s+Math.imul(be,Me)|0,y=y+Math.imul(be,Re)|0;var qt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(qt>>>26)|0,qt&=67108863,m=Math.imul(he,ge),s=Math.imul(he,Oe),s=s+Math.imul(oe,ge)|0,y=Math.imul(oe,Oe),m=m+Math.imul(te,Se)|0,s=s+Math.imul(te,ke)|0,s=s+Math.imul(ce,Se)|0,y=y+Math.imul(ce,ke)|0,m=m+Math.imul(H,Me)|0,s=s+Math.imul(H,Re)|0,s=s+Math.imul(X,Me)|0,y=y+Math.imul(X,Re)|0;var jt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(jt>>>26)|0,jt&=67108863,m=Math.imul(he,Se),s=Math.imul(he,ke),s=s+Math.imul(oe,Se)|0,y=Math.imul(oe,ke),m=m+Math.imul(te,Me)|0,s=s+Math.imul(te,Re)|0,s=s+Math.imul(ce,Me)|0,y=y+Math.imul(ce,Re)|0;var $t=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+($t>>>26)|0,$t&=67108863,m=Math.imul(he,Me),s=Math.imul(he,Re),s=s+Math.imul(oe,Me)|0,y=Math.imul(oe,Re);var Vt=(S+m|0)+((s&8191)<<13)|0;return S=(y+(s>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,w[0]=nt,w[1]=it,w[2]=It,w[3]=Tt,w[4]=Ct,w[5]=Ot,w[6]=Pt,w[7]=kt,w[8]=Rt,w[9]=Nt,w[10]=Dt,w[11]=Bt,w[12]=Ut,w[13]=Ft,w[14]=Lt,w[15]=qt,w[16]=jt,w[17]=$t,w[18]=Vt,S!==0&&(w[19]=S,c.length++),c};Math.imul||(I=A);function O(b,o,u){u.negative=o.negative^b.negative,u.length=b.length+o.length;for(var c=0,d=0,p=0;p<u.length-1;p++){var w=d;d=0;for(var S=c&67108863,m=Math.min(p,o.length-1),s=Math.max(0,p-b.length+1);s<=m;s++){var y=p-s,x=b.words[y]|0,C=o.words[s]|0,N=x*C,j=N&67108863;w=w+(N/67108864|0)|0,j=j+S|0,S=j&67108863,w=w+(j>>>26)|0,d+=w>>>26,w&=67108863}u.words[p]=S,c=w,w=d}return c!==0?u.words[p]=c:u.length--,u.strip()}function T(b,o,u){var c=new P;return c.mulp(b,o,u)}i.prototype.mulTo=function(o,u){var c,d=this.length+o.length;return this.length===10&&o.length===10?c=I(this,o,u):d<63?c=A(this,o,u):d<1024?c=O(this,o,u):c=T(this,o,u),c};function P(b,o){this.x=b,this.y=o}P.prototype.makeRBT=function(o){for(var u=new Array(o),c=i.prototype._countBits(o)-1,d=0;d<o;d++)u[d]=this.revBin(d,c,o);return u},P.prototype.revBin=function(o,u,c){if(o===0||o===c-1)return o;for(var d=0,p=0;p<u;p++)d|=(o&1)<<u-p-1,o>>=1;return d},P.prototype.permute=function(o,u,c,d,p,w){for(var S=0;S<w;S++)d[S]=u[o[S]],p[S]=c[o[S]]},P.prototype.transform=function(o,u,c,d,p,w){this.permute(w,o,u,c,d,p);for(var S=1;S<p;S<<=1)for(var m=S<<1,s=Math.cos(2*Math.PI/m),y=Math.sin(2*Math.PI/m),x=0;x<p;x+=m)for(var C=s,N=y,j=0;j<S;j++){var B=c[x+j],L=d[x+j],Y=c[x+j+S],G=d[x+j+S],Z=C*Y-N*G;G=C*G+N*Y,Y=Z,c[x+j]=B+Y,d[x+j]=L+G,c[x+j+S]=B-Y,d[x+j+S]=L-G,j!==m&&(Z=s*C-y*N,N=s*N+y*C,C=Z)}},P.prototype.guessLen13b=function(o,u){var c=Math.max(u,o)|1,d=c&1,p=0;for(c=c/2|0;c;c=c>>>1)p++;return 1<<p+1+d},P.prototype.conjugate=function(o,u,c){if(!(c<=1))for(var d=0;d<c/2;d++){var p=o[d];o[d]=o[c-d-1],o[c-d-1]=p,p=u[d],u[d]=-u[c-d-1],u[c-d-1]=-p}},P.prototype.normalize13b=function(o,u){for(var c=0,d=0;d<u/2;d++){var p=Math.round(o[2*d+1]/u)*8192+Math.round(o[2*d]/u)+c;o[d]=p&67108863,p<67108864?c=0:c=p/67108864|0}return o},P.prototype.convert13b=function(o,u,c,d){for(var p=0,w=0;w<u;w++)p=p+(o[w]|0),c[2*w]=p&8191,p=p>>>13,c[2*w+1]=p&8191,p=p>>>13;for(w=2*u;w<d;++w)c[w]=0;n(p===0),n((p&-8192)===0)},P.prototype.stub=function(o){for(var u=new Array(o),c=0;c<o;c++)u[c]=0;return u},P.prototype.mulp=function(o,u,c){var d=2*this.guessLen13b(o.length,u.length),p=this.makeRBT(d),w=this.stub(d),S=new Array(d),m=new Array(d),s=new Array(d),y=new Array(d),x=new Array(d),C=new Array(d),N=c.words;N.length=d,this.convert13b(o.words,o.length,S,d),this.convert13b(u.words,u.length,y,d),this.transform(S,w,m,s,d,p),this.transform(y,w,x,C,d,p);for(var j=0;j<d;j++){var B=m[j]*x[j]-s[j]*C[j];s[j]=m[j]*C[j]+s[j]*x[j],m[j]=B}return this.conjugate(m,s,d),this.transform(m,s,N,w,d,p),this.conjugate(N,w,d),this.normalize13b(N,d),c.negative=o.negative^u.negative,c.length=o.length+u.length,c.strip()},i.prototype.mul=function(o){var u=new i(null);return u.words=new Array(this.length+o.length),this.mulTo(o,u)},i.prototype.mulf=function(o){var u=new i(null);return u.words=new Array(this.length+o.length),T(this,o,u)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){n(typeof o=="number"),n(o<67108864);for(var u=0,c=0;c<this.length;c++){var d=(this.words[c]|0)*o,p=(d&67108863)+(u&67108863);u>>=26,u+=d/67108864|0,u+=p>>>26,this.words[c]=p&67108863}return u!==0&&(this.words[c]=u,this.length++),this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var u=E(o);if(u.length===0)return new i(1);for(var c=this,d=0;d<u.length&&u[d]===0;d++,c=c.sqr());if(++d<u.length)for(var p=c.sqr();d<u.length;d++,p=p.sqr())u[d]!==0&&(c=c.mul(p));return c},i.prototype.iushln=function(o){n(typeof o=="number"&&o>=0);var u=o%26,c=(o-u)/26,d=67108863>>>26-u<<26-u,p;if(u!==0){var w=0;for(p=0;p<this.length;p++){var S=this.words[p]&d,m=(this.words[p]|0)-S<<u;this.words[p]=m|w,w=S>>>26-u}w&&(this.words[p]=w,this.length++)}if(c!==0){for(p=this.length-1;p>=0;p--)this.words[p+c]=this.words[p];for(p=0;p<c;p++)this.words[p]=0;this.length+=c}return this.strip()},i.prototype.ishln=function(o){return n(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,u,c){n(typeof o=="number"&&o>=0);var d;u?d=(u-u%26)/26:d=0;var p=o%26,w=Math.min((o-p)/26,this.length),S=67108863^67108863>>>p<<p,m=c;if(d-=w,d=Math.max(0,d),m){for(var s=0;s<w;s++)m.words[s]=this.words[s];m.length=w}if(w!==0)if(this.length>w)for(this.length-=w,s=0;s<this.length;s++)this.words[s]=this.words[s+w];else this.words[0]=0,this.length=1;var y=0;for(s=this.length-1;s>=0&&(y!==0||s>=d);s--){var x=this.words[s]|0;this.words[s]=y<<26-p|x>>>p,y=x&S}return m&&y!==0&&(m.words[m.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(o,u,c){return n(this.negative===0),this.iushrn(o,u,c)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){n(typeof o=="number"&&o>=0);var u=o%26,c=(o-u)/26,d=1<<u;if(this.length<=c)return!1;var p=this.words[c];return!!(p&d)},i.prototype.imaskn=function(o){n(typeof o=="number"&&o>=0);var u=o%26,c=(o-u)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(u!==0&&c++,this.length=Math.min(c,this.length),u!==0){var d=67108863^67108863>>>u<<u;this.words[this.length-1]&=d}return this.strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return n(typeof o=="number"),n(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(o){if(n(typeof o=="number"),n(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,u,c){var d=o.length+c,p;this._expand(d);var w,S=0;for(p=0;p<o.length;p++){w=(this.words[p+c]|0)+S;var m=(o.words[p]|0)*u;w-=m&67108863,S=(w>>26)-(m/67108864|0),this.words[p+c]=w&67108863}for(;p<this.length-c;p++)w=(this.words[p+c]|0)+S,S=w>>26,this.words[p+c]=w&67108863;if(S===0)return this.strip();for(n(S===-1),S=0,p=0;p<this.length;p++)w=-(this.words[p]|0)+S,S=w>>26,this.words[p]=w&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(o,u){var c=this.length-o.length,d=this.clone(),p=o,w=p.words[p.length-1]|0,S=this._countBits(w);c=26-S,c!==0&&(p=p.ushln(c),d.iushln(c),w=p.words[p.length-1]|0);var m=d.length-p.length,s;if(u!=="mod"){s=new i(null),s.length=m+1,s.words=new Array(s.length);for(var y=0;y<s.length;y++)s.words[y]=0}var x=d.clone()._ishlnsubmul(p,1,m);x.negative===0&&(d=x,s&&(s.words[m]=1));for(var C=m-1;C>=0;C--){var N=(d.words[p.length+C]|0)*67108864+(d.words[p.length+C-1]|0);for(N=Math.min(N/w|0,67108863),d._ishlnsubmul(p,N,C);d.negative!==0;)N--,d.negative=0,d._ishlnsubmul(p,1,C),d.isZero()||(d.negative^=1);s&&(s.words[C]=N)}return s&&s.strip(),d.strip(),u!=="div"&&c!==0&&d.iushrn(c),{div:s||null,mod:d}},i.prototype.divmod=function(o,u,c){if(n(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var d,p,w;return this.negative!==0&&o.negative===0?(w=this.neg().divmod(o,u),u!=="mod"&&(d=w.div.neg()),u!=="div"&&(p=w.mod.neg(),c&&p.negative!==0&&p.iadd(o)),{div:d,mod:p}):this.negative===0&&o.negative!==0?(w=this.divmod(o.neg(),u),u!=="mod"&&(d=w.div.neg()),{div:d,mod:w.mod}):(this.negative&o.negative)!==0?(w=this.neg().divmod(o.neg(),u),u!=="div"&&(p=w.mod.neg(),c&&p.negative!==0&&p.isub(o)),{div:w.div,mod:p}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?u==="div"?{div:this.divn(o.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modn(o.words[0]))}:this._wordDiv(o,u)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var u=this.divmod(o);if(u.mod.isZero())return u.div;var c=u.div.negative!==0?u.mod.isub(o):u.mod,d=o.ushrn(1),p=o.andln(1),w=c.cmp(d);return w<0||p===1&&w===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modn=function(o){n(o<=67108863);for(var u=(1<<26)%o,c=0,d=this.length-1;d>=0;d--)c=(u*c+(this.words[d]|0))%o;return c},i.prototype.idivn=function(o){n(o<=67108863);for(var u=0,c=this.length-1;c>=0;c--){var d=(this.words[c]|0)+u*67108864;this.words[c]=d/o|0,u=d%o}return this.strip()},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){n(o.negative===0),n(!o.isZero());var u=this,c=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var d=new i(1),p=new i(0),w=new i(0),S=new i(1),m=0;u.isEven()&&c.isEven();)u.iushrn(1),c.iushrn(1),++m;for(var s=c.clone(),y=u.clone();!u.isZero();){for(var x=0,C=1;(u.words[0]&C)===0&&x<26;++x,C<<=1);if(x>0)for(u.iushrn(x);x-- >0;)(d.isOdd()||p.isOdd())&&(d.iadd(s),p.isub(y)),d.iushrn(1),p.iushrn(1);for(var N=0,j=1;(c.words[0]&j)===0&&N<26;++N,j<<=1);if(N>0)for(c.iushrn(N);N-- >0;)(w.isOdd()||S.isOdd())&&(w.iadd(s),S.isub(y)),w.iushrn(1),S.iushrn(1);u.cmp(c)>=0?(u.isub(c),d.isub(w),p.isub(S)):(c.isub(u),w.isub(d),S.isub(p))}return{a:w,b:S,gcd:c.iushln(m)}},i.prototype._invmp=function(o){n(o.negative===0),n(!o.isZero());var u=this,c=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var d=new i(1),p=new i(0),w=c.clone();u.cmpn(1)>0&&c.cmpn(1)>0;){for(var S=0,m=1;(u.words[0]&m)===0&&S<26;++S,m<<=1);if(S>0)for(u.iushrn(S);S-- >0;)d.isOdd()&&d.iadd(w),d.iushrn(1);for(var s=0,y=1;(c.words[0]&y)===0&&s<26;++s,y<<=1);if(s>0)for(c.iushrn(s);s-- >0;)p.isOdd()&&p.iadd(w),p.iushrn(1);u.cmp(c)>=0?(u.isub(c),d.isub(p)):(c.isub(u),p.isub(d))}var x;return u.cmpn(1)===0?x=d:x=p,x.cmpn(0)<0&&x.iadd(o),x},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var u=this.clone(),c=o.clone();u.negative=0,c.negative=0;for(var d=0;u.isEven()&&c.isEven();d++)u.iushrn(1),c.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;c.isEven();)c.iushrn(1);var p=u.cmp(c);if(p<0){var w=u;u=c,c=w}else if(p===0||c.cmpn(1)===0)break;u.isub(c)}while(!0);return c.iushln(d)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){n(typeof o=="number");var u=o%26,c=(o-u)/26,d=1<<u;if(this.length<=c)return this._expand(c+1),this.words[c]|=d,this;for(var p=d,w=c;p!==0&&w<this.length;w++){var S=this.words[w]|0;S+=p,p=S>>>26,S&=67108863,this.words[w]=S}return p!==0&&(this.words[w]=p,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var u=o<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var c;if(this.length>1)c=1;else{u&&(o=-o),n(o<=67108863,"Number is too big");var d=this.words[0]|0;c=d===o?0:d<o?-1:1}return this.negative!==0?-c|0:c},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var u=this.ucmp(o);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var u=0,c=this.length-1;c>=0;c--){var d=this.words[c]|0,p=o.words[c]|0;if(d!==p){d<p?u=-1:d>p&&(u=1);break}}return u},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new F(o)},i.prototype.toRed=function(o){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return n(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return n(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var k={k256:null,p224:null,p192:null,p25519:null};function R(b,o){this.name=b,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}R.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},R.prototype.ireduce=function(o){var u=o,c;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),c=u.bitLength();while(c>this.n);var d=c<this.n?-1:u.ucmp(this.p);return d===0?(u.words[0]=0,u.length=1):d>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},R.prototype.split=function(o,u){o.iushrn(this.n,0,u)},R.prototype.imulK=function(o){return o.imul(this.k)};function D(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(D,R),D.prototype.split=function(o,u){for(var c=4194303,d=Math.min(o.length,9),p=0;p<d;p++)u.words[p]=o.words[p];if(u.length=d,o.length<=9){o.words[0]=0,o.length=1;return}var w=o.words[9];for(u.words[u.length++]=w&c,p=10;p<o.length;p++){var S=o.words[p]|0;o.words[p-10]=(S&c)<<4|w>>>22,w=S}w>>>=22,o.words[p-10]=w,w===0&&o.length>10?o.length-=10:o.length-=9},D.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var u=0,c=0;c<o.length;c++){var d=o.words[c]|0;u+=d*977,o.words[c]=u&67108863,u=d*64+(u/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function V(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(V,R);function q(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(q,R);function $(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a($,R),$.prototype.imulK=function(o){for(var u=0,c=0;c<o.length;c++){var d=(o.words[c]|0)*19+u,p=d&67108863;d>>>=26,o.words[c]=p,u=d}return u!==0&&(o.words[o.length++]=u),o},i._prime=function(o){if(k[o])return k[o];var u;if(o==="k256")u=new D;else if(o==="p224")u=new V;else if(o==="p192")u=new q;else if(o==="p25519")u=new $;else throw new Error("Unknown prime "+o);return k[o]=u,u};function F(b){if(typeof b=="string"){var o=i._prime(b);this.m=o.p,this.prime=o}else n(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}F.prototype._verify1=function(o){n(o.negative===0,"red works only with positives"),n(o.red,"red works only with red numbers")},F.prototype._verify2=function(o,u){n((o.negative|u.negative)===0,"red works only with positives"),n(o.red&&o.red===u.red,"red works only with red numbers")},F.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},F.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},F.prototype.add=function(o,u){this._verify2(o,u);var c=o.add(u);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},F.prototype.iadd=function(o,u){this._verify2(o,u);var c=o.iadd(u);return c.cmp(this.m)>=0&&c.isub(this.m),c},F.prototype.sub=function(o,u){this._verify2(o,u);var c=o.sub(u);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},F.prototype.isub=function(o,u){this._verify2(o,u);var c=o.isub(u);return c.cmpn(0)<0&&c.iadd(this.m),c},F.prototype.shl=function(o,u){return this._verify1(o),this.imod(o.ushln(u))},F.prototype.imul=function(o,u){return this._verify2(o,u),this.imod(o.imul(u))},F.prototype.mul=function(o,u){return this._verify2(o,u),this.imod(o.mul(u))},F.prototype.isqr=function(o){return this.imul(o,o.clone())},F.prototype.sqr=function(o){return this.mul(o,o)},F.prototype.sqrt=function(o){if(o.isZero())return o.clone();var u=this.m.andln(3);if(n(u%2===1),u===3){var c=this.m.add(new i(1)).iushrn(2);return this.pow(o,c)}for(var d=this.m.subn(1),p=0;!d.isZero()&&d.andln(1)===0;)p++,d.iushrn(1);n(!d.isZero());var w=new i(1).toRed(this),S=w.redNeg(),m=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new i(2*s*s).toRed(this);this.pow(s,m).cmp(S)!==0;)s.redIAdd(S);for(var y=this.pow(s,d),x=this.pow(o,d.addn(1).iushrn(1)),C=this.pow(o,d),N=p;C.cmp(w)!==0;){for(var j=C,B=0;j.cmp(w)!==0;B++)j=j.redSqr();n(B<N);var L=this.pow(y,new i(1).iushln(N-B-1));x=x.redMul(L),y=L.redSqr(),C=C.redMul(y),N=B}return x},F.prototype.invm=function(o){var u=o._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},F.prototype.pow=function(o,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return o.clone();var c=4,d=new Array(1<<c);d[0]=new i(1).toRed(this),d[1]=o;for(var p=2;p<d.length;p++)d[p]=this.mul(d[p-1],o);var w=d[0],S=0,m=0,s=u.bitLength()%26;for(s===0&&(s=26),p=u.length-1;p>=0;p--){for(var y=u.words[p],x=s-1;x>=0;x--){var C=y>>x&1;if(w!==d[0]&&(w=this.sqr(w)),C===0&&S===0){m=0;continue}S<<=1,S|=C,m++,!(m!==c&&(p!==0||x!==0))&&(w=this.mul(w,d[S]),m=0,S=0)}s=26}return w},F.prototype.convertTo=function(o){var u=o.umod(this.m);return u===o?u.clone():u},F.prototype.convertFrom=function(o){var u=o.clone();return u.red=null,u},i.mont=function(o){return new z(o)};function z(b){F.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(z,F),z.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},z.prototype.convertFrom=function(o){var u=this.imod(o.mul(this.rinv));return u.red=null,u},z.prototype.imul=function(o,u){if(o.isZero()||u.isZero())return o.words[0]=0,o.length=1,o;var c=o.imul(u),d=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=c.isub(d).iushrn(this.shift),w=p;return p.cmp(this.m)>=0?w=p.isub(this.m):p.cmpn(0)<0&&(w=p.iadd(this.m)),w._forceRed(this)},z.prototype.mul=function(o,u){if(o.isZero()||u.isZero())return new i(0)._forceRed(this);var c=o.mul(u),d=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=c.isub(d).iushrn(this.shift),w=p;return p.cmp(this.m)>=0?w=p.isub(this.m):p.cmpn(0)<0&&(w=p.iadd(this.m)),w._forceRed(this)},z.prototype.invm=function(o){var u=this.imod(o._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(e,Ve)})(mS);var qh,dg;function bO(){if(dg)return qh;dg=1;var e=Lp(),t=mS.exports;qh=function(f){return new n(f)};var r={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};r.p224=r.secp224r1,r.p256=r.secp256r1=r.prime256v1,r.p192=r.secp192r1=r.prime192v1,r.p384=r.secp384r1,r.p521=r.secp521r1;function n(i){this.curveType=r[i],this.curveType||(this.curveType={name:i}),this.curve=new e.ec(this.curveType.name),this.keys=void 0}n.prototype.generateKeys=function(i,f){return this.keys=this.curve.genKeyPair(),this.getPublicKey(i,f)},n.prototype.computeSecret=function(i,f,l){f=f||"utf8",Ue.Buffer.isBuffer(i)||(i=new Ue.Buffer(i,f));var v=this.curve.keyFromPublic(i).getPublic(),h=v.mul(this.keys.getPrivate()).getX();return a(h,l,this.curveType.byteLength)},n.prototype.getPublicKey=function(i,f){var l=this.keys.getPublic(f==="compressed",!0);return f==="hybrid"&&(l[l.length-1]%2?l[0]=7:l[0]=6),a(l,i)},n.prototype.getPrivateKey=function(i){return a(this.keys.getPrivate(),i)},n.prototype.setPublicKey=function(i,f){return f=f||"utf8",Ue.Buffer.isBuffer(i)||(i=new Ue.Buffer(i,f)),this.keys._importPublic(i),this},n.prototype.setPrivateKey=function(i,f){f=f||"utf8",Ue.Buffer.isBuffer(i)||(i=new Ue.Buffer(i,f));var l=new t(i);return l=l.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(l),this};function a(i,f,l){Array.isArray(i)||(i=i.toArray());var v=new Ue.Buffer(i);if(l&&v.length<l){var h=new Ue.Buffer(l-v.length);h.fill(0),v=Ue.Buffer.concat([h,v])}return f?v.toString(f):v}return qh}var yS={},wO=Eu,k0=ht.exports.Buffer,gS=function(e,t){for(var r=k0.alloc(0),n=0,a;r.length<t;)a=_O(n++),r=k0.concat([r,wO("sha1").update(e).update(a).digest()]);return r.slice(0,t)};function _O(e){var t=k0.allocUnsafe(4);return t.writeUInt32BE(e,0),t}var bS=function(t,r){for(var n=t.length,a=-1;++a<n;)t[a]^=r[a];return t},kl={exports:{}};(function(e){(function(t,r){function n(b,o){if(!b)throw new Error(o||"Assertion failed")}function a(b,o){b.super_=o;var u=function(){};u.prototype=o.prototype,b.prototype=new u,b.prototype.constructor=b}function i(b,o,u){if(i.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((o==="le"||o==="be")&&(u=o,o=10),this._init(b||0,o||10,u||"be"))}typeof t=="object"?t.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var f;try{typeof window<"u"&&typeof window.Buffer<"u"?f=window.Buffer:f=Ue.Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,u){return o.cmp(u)>0?o:u},i.min=function(o,u){return o.cmp(u)<0?o:u},i.prototype._init=function(o,u,c){if(typeof o=="number")return this._initNumber(o,u,c);if(typeof o=="object")return this._initArray(o,u,c);u==="hex"&&(u=16),n(u===(u|0)&&u>=2&&u<=36),o=o.toString().replace(/\s+/g,"");var d=0;o[0]==="-"&&(d++,this.negative=1),d<o.length&&(u===16?this._parseHex(o,d,c):(this._parseBase(o,u,d),c==="le"&&this._initArray(this.toArray(),u,c)))},i.prototype._initNumber=function(o,u,c){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(n(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),u,c)},i.prototype._initArray=function(o,u,c){if(n(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var p,w,S=0;if(c==="be")for(d=o.length-1,p=0;d>=0;d-=3)w=o[d]|o[d-1]<<8|o[d-2]<<16,this.words[p]|=w<<S&67108863,this.words[p+1]=w>>>26-S&67108863,S+=24,S>=26&&(S-=26,p++);else if(c==="le")for(d=0,p=0;d<o.length;d+=3)w=o[d]|o[d+1]<<8|o[d+2]<<16,this.words[p]|=w<<S&67108863,this.words[p+1]=w>>>26-S&67108863,S+=24,S>=26&&(S-=26,p++);return this.strip()};function l(b,o){var u=b.charCodeAt(o);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function v(b,o,u){var c=l(b,u);return u-1>=o&&(c|=l(b,u-1)<<4),c}i.prototype._parseHex=function(o,u,c){this.length=Math.ceil((o.length-u)/6),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var p=0,w=0,S;if(c==="be")for(d=o.length-1;d>=u;d-=2)S=v(o,u,d)<<p,this.words[w]|=S&67108863,p>=18?(p-=18,w+=1,this.words[w]|=S>>>26):p+=8;else{var m=o.length-u;for(d=m%2===0?u+1:u;d<o.length;d+=2)S=v(o,u,d)<<p,this.words[w]|=S&67108863,p>=18?(p-=18,w+=1,this.words[w]|=S>>>26):p+=8}this.strip()};function h(b,o,u,c){for(var d=0,p=Math.min(b.length,u),w=o;w<p;w++){var S=b.charCodeAt(w)-48;d*=c,S>=49?d+=S-49+10:S>=17?d+=S-17+10:d+=S}return d}i.prototype._parseBase=function(o,u,c){this.words=[0],this.length=1;for(var d=0,p=1;p<=67108863;p*=u)d++;d--,p=p/u|0;for(var w=o.length-c,S=w%d,m=Math.min(w,w-S)+c,s=0,y=c;y<m;y+=d)s=h(o,y,y+d,u),this.imuln(p),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(S!==0){var x=1;for(s=h(o,y,o.length,u),y=0;y<S;y++)x*=u;this.imuln(x),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var u=0;u<this.length;u++)o.words[u]=this.words[u];o.length=this.length,o.negative=this.negative,o.red=this.red},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,u){o=o||10,u=u|0||1;var c;if(o===16||o==="hex"){c="";for(var d=0,p=0,w=0;w<this.length;w++){var S=this.words[w],m=((S<<d|p)&16777215).toString(16);p=S>>>24-d&16777215,p!==0||w!==this.length-1?c=g[6-m.length]+m+c:c=m+c,d+=2,d>=26&&(d-=26,w--)}for(p!==0&&(c=p.toString(16)+c);c.length%u!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(o===(o|0)&&o>=2&&o<=36){var s=_[o],y=M[o];c="";var x=this.clone();for(x.negative=0;!x.isZero();){var C=x.modn(y).toString(o);x=x.idivn(y),x.isZero()?c=C+c:c=g[s-C.length]+C+c}for(this.isZero()&&(c="0"+c);c.length%u!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(o,u){return n(typeof f<"u"),this.toArrayLike(f,o,u)},i.prototype.toArray=function(o,u){return this.toArrayLike(Array,o,u)},i.prototype.toArrayLike=function(o,u,c){var d=this.byteLength(),p=c||Math.max(1,d);n(d<=p,"byte array longer than desired length"),n(p>0,"Requested array length <= 0"),this.strip();var w=u==="le",S=new o(p),m,s,y=this.clone();if(w){for(s=0;!y.isZero();s++)m=y.andln(255),y.iushrn(8),S[s]=m;for(;s<p;s++)S[s]=0}else{for(s=0;s<p-d;s++)S[s]=0;for(s=0;!y.isZero();s++)m=y.andln(255),y.iushrn(8),S[p-s-1]=m}return S},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var u=o,c=0;return u>=4096&&(c+=13,u>>>=13),u>=64&&(c+=7,u>>>=7),u>=8&&(c+=4,u>>>=4),u>=2&&(c+=2,u>>>=2),c+u},i.prototype._zeroBits=function(o){if(o===0)return 26;var u=o,c=0;return(u&8191)===0&&(c+=13,u>>>=13),(u&127)===0&&(c+=7,u>>>=7),(u&15)===0&&(c+=4,u>>>=4),(u&3)===0&&(c+=2,u>>>=2),(u&1)===0&&c++,c},i.prototype.bitLength=function(){var o=this.words[this.length-1],u=this._countBits(o);return(this.length-1)*26+u};function E(b){for(var o=new Array(b.bitLength()),u=0;u<o.length;u++){var c=u/26|0,d=u%26;o[u]=(b.words[c]&1<<d)>>>d}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,u=0;u<this.length;u++){var c=this._zeroBits(this.words[u]);if(o+=c,c!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]|o.words[u];return this.strip()},i.prototype.ior=function(o){return n((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var u;this.length>o.length?u=o:u=this;for(var c=0;c<u.length;c++)this.words[c]=this.words[c]&o.words[c];return this.length=u.length,this.strip()},i.prototype.iand=function(o){return n((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var u,c;this.length>o.length?(u=this,c=o):(u=o,c=this);for(var d=0;d<c.length;d++)this.words[d]=u.words[d]^c.words[d];if(this!==u)for(;d<u.length;d++)this.words[d]=u.words[d];return this.length=u.length,this.strip()},i.prototype.ixor=function(o){return n((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){n(typeof o=="number"&&o>=0);var u=Math.ceil(o/26)|0,c=o%26;this._expand(u),c>0&&u--;for(var d=0;d<u;d++)this.words[d]=~this.words[d]&67108863;return c>0&&(this.words[d]=~this.words[d]&67108863>>26-c),this.strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,u){n(typeof o=="number"&&o>=0);var c=o/26|0,d=o%26;return this._expand(c+1),u?this.words[c]=this.words[c]|1<<d:this.words[c]=this.words[c]&~(1<<d),this.strip()},i.prototype.iadd=function(o){var u;if(this.negative!==0&&o.negative===0)return this.negative=0,u=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,u=this.isub(o),o.negative=1,u._normSign();var c,d;this.length>o.length?(c=this,d=o):(c=o,d=this);for(var p=0,w=0;w<d.length;w++)u=(c.words[w]|0)+(d.words[w]|0)+p,this.words[w]=u&67108863,p=u>>>26;for(;p!==0&&w<c.length;w++)u=(c.words[w]|0)+p,this.words[w]=u&67108863,p=u>>>26;if(this.length=c.length,p!==0)this.words[this.length]=p,this.length++;else if(c!==this)for(;w<c.length;w++)this.words[w]=c.words[w];return this},i.prototype.add=function(o){var u;return o.negative!==0&&this.negative===0?(o.negative=0,u=this.sub(o),o.negative^=1,u):o.negative===0&&this.negative!==0?(this.negative=0,u=o.sub(this),this.negative=1,u):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var u=this.iadd(o);return o.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var c=this.cmp(o);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var d,p;c>0?(d=this,p=o):(d=o,p=this);for(var w=0,S=0;S<p.length;S++)u=(d.words[S]|0)-(p.words[S]|0)+w,w=u>>26,this.words[S]=u&67108863;for(;w!==0&&S<d.length;S++)u=(d.words[S]|0)+w,w=u>>26,this.words[S]=u&67108863;if(w===0&&S<d.length&&d!==this)for(;S<d.length;S++)this.words[S]=d.words[S];return this.length=Math.max(this.length,S),d!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function A(b,o,u){u.negative=o.negative^b.negative;var c=b.length+o.length|0;u.length=c,c=c-1|0;var d=b.words[0]|0,p=o.words[0]|0,w=d*p,S=w&67108863,m=w/67108864|0;u.words[0]=S;for(var s=1;s<c;s++){for(var y=m>>>26,x=m&67108863,C=Math.min(s,o.length-1),N=Math.max(0,s-b.length+1);N<=C;N++){var j=s-N|0;d=b.words[j]|0,p=o.words[N]|0,w=d*p+x,y+=w/67108864|0,x=w&67108863}u.words[s]=x|0,m=y|0}return m!==0?u.words[s]=m|0:u.length--,u.strip()}var I=function(o,u,c){var d=o.words,p=u.words,w=c.words,S=0,m,s,y,x=d[0]|0,C=x&8191,N=x>>>13,j=d[1]|0,B=j&8191,L=j>>>13,Y=d[2]|0,G=Y&8191,Z=Y>>>13,K=d[3]|0,U=K&8191,W=K>>>13,Te=d[4]|0,ee=Te&8191,re=Te>>>13,De=d[5]|0,ie=De&8191,J=De>>>13,qe=d[6]|0,ae=qe&8191,be=qe>>>13,Ge=d[7]|0,H=Ge&8191,X=Ge>>>13,Q=d[8]|0,te=Q&8191,ce=Q>>>13,Ke=d[9]|0,he=Ke&8191,oe=Ke>>>13,We=p[0]|0,fe=We&8191,Ce=We>>>13,et=p[1]|0,le=et&8191,we=et>>>13,Ze=p[2]|0,me=Ze&8191,xe=Ze>>>13,tt=p[3]|0,ne=tt&8191,_e=tt>>>13,Je=p[4]|0,de=Je&8191,Ae=Je>>>13,st=p[5]|0,ve=st&8191,Ie=st>>>13,Qe=p[6]|0,ye=Qe&8191,Pe=Qe>>>13,rt=p[7]|0,ge=rt&8191,Oe=rt>>>13,ot=p[8]|0,Se=ot&8191,ke=ot>>>13,ft=p[9]|0,Me=ft&8191,Re=ft>>>13;c.negative=o.negative^u.negative,c.length=19,m=Math.imul(C,fe),s=Math.imul(C,Ce),s=s+Math.imul(N,fe)|0,y=Math.imul(N,Ce);var nt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(nt>>>26)|0,nt&=67108863,m=Math.imul(B,fe),s=Math.imul(B,Ce),s=s+Math.imul(L,fe)|0,y=Math.imul(L,Ce),m=m+Math.imul(C,le)|0,s=s+Math.imul(C,we)|0,s=s+Math.imul(N,le)|0,y=y+Math.imul(N,we)|0;var it=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(it>>>26)|0,it&=67108863,m=Math.imul(G,fe),s=Math.imul(G,Ce),s=s+Math.imul(Z,fe)|0,y=Math.imul(Z,Ce),m=m+Math.imul(B,le)|0,s=s+Math.imul(B,we)|0,s=s+Math.imul(L,le)|0,y=y+Math.imul(L,we)|0,m=m+Math.imul(C,me)|0,s=s+Math.imul(C,xe)|0,s=s+Math.imul(N,me)|0,y=y+Math.imul(N,xe)|0;var It=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(It>>>26)|0,It&=67108863,m=Math.imul(U,fe),s=Math.imul(U,Ce),s=s+Math.imul(W,fe)|0,y=Math.imul(W,Ce),m=m+Math.imul(G,le)|0,s=s+Math.imul(G,we)|0,s=s+Math.imul(Z,le)|0,y=y+Math.imul(Z,we)|0,m=m+Math.imul(B,me)|0,s=s+Math.imul(B,xe)|0,s=s+Math.imul(L,me)|0,y=y+Math.imul(L,xe)|0,m=m+Math.imul(C,ne)|0,s=s+Math.imul(C,_e)|0,s=s+Math.imul(N,ne)|0,y=y+Math.imul(N,_e)|0;var Tt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,m=Math.imul(ee,fe),s=Math.imul(ee,Ce),s=s+Math.imul(re,fe)|0,y=Math.imul(re,Ce),m=m+Math.imul(U,le)|0,s=s+Math.imul(U,we)|0,s=s+Math.imul(W,le)|0,y=y+Math.imul(W,we)|0,m=m+Math.imul(G,me)|0,s=s+Math.imul(G,xe)|0,s=s+Math.imul(Z,me)|0,y=y+Math.imul(Z,xe)|0,m=m+Math.imul(B,ne)|0,s=s+Math.imul(B,_e)|0,s=s+Math.imul(L,ne)|0,y=y+Math.imul(L,_e)|0,m=m+Math.imul(C,de)|0,s=s+Math.imul(C,Ae)|0,s=s+Math.imul(N,de)|0,y=y+Math.imul(N,Ae)|0;var Ct=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,m=Math.imul(ie,fe),s=Math.imul(ie,Ce),s=s+Math.imul(J,fe)|0,y=Math.imul(J,Ce),m=m+Math.imul(ee,le)|0,s=s+Math.imul(ee,we)|0,s=s+Math.imul(re,le)|0,y=y+Math.imul(re,we)|0,m=m+Math.imul(U,me)|0,s=s+Math.imul(U,xe)|0,s=s+Math.imul(W,me)|0,y=y+Math.imul(W,xe)|0,m=m+Math.imul(G,ne)|0,s=s+Math.imul(G,_e)|0,s=s+Math.imul(Z,ne)|0,y=y+Math.imul(Z,_e)|0,m=m+Math.imul(B,de)|0,s=s+Math.imul(B,Ae)|0,s=s+Math.imul(L,de)|0,y=y+Math.imul(L,Ae)|0,m=m+Math.imul(C,ve)|0,s=s+Math.imul(C,Ie)|0,s=s+Math.imul(N,ve)|0,y=y+Math.imul(N,Ie)|0;var Ot=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,m=Math.imul(ae,fe),s=Math.imul(ae,Ce),s=s+Math.imul(be,fe)|0,y=Math.imul(be,Ce),m=m+Math.imul(ie,le)|0,s=s+Math.imul(ie,we)|0,s=s+Math.imul(J,le)|0,y=y+Math.imul(J,we)|0,m=m+Math.imul(ee,me)|0,s=s+Math.imul(ee,xe)|0,s=s+Math.imul(re,me)|0,y=y+Math.imul(re,xe)|0,m=m+Math.imul(U,ne)|0,s=s+Math.imul(U,_e)|0,s=s+Math.imul(W,ne)|0,y=y+Math.imul(W,_e)|0,m=m+Math.imul(G,de)|0,s=s+Math.imul(G,Ae)|0,s=s+Math.imul(Z,de)|0,y=y+Math.imul(Z,Ae)|0,m=m+Math.imul(B,ve)|0,s=s+Math.imul(B,Ie)|0,s=s+Math.imul(L,ve)|0,y=y+Math.imul(L,Ie)|0,m=m+Math.imul(C,ye)|0,s=s+Math.imul(C,Pe)|0,s=s+Math.imul(N,ye)|0,y=y+Math.imul(N,Pe)|0;var Pt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,m=Math.imul(H,fe),s=Math.imul(H,Ce),s=s+Math.imul(X,fe)|0,y=Math.imul(X,Ce),m=m+Math.imul(ae,le)|0,s=s+Math.imul(ae,we)|0,s=s+Math.imul(be,le)|0,y=y+Math.imul(be,we)|0,m=m+Math.imul(ie,me)|0,s=s+Math.imul(ie,xe)|0,s=s+Math.imul(J,me)|0,y=y+Math.imul(J,xe)|0,m=m+Math.imul(ee,ne)|0,s=s+Math.imul(ee,_e)|0,s=s+Math.imul(re,ne)|0,y=y+Math.imul(re,_e)|0,m=m+Math.imul(U,de)|0,s=s+Math.imul(U,Ae)|0,s=s+Math.imul(W,de)|0,y=y+Math.imul(W,Ae)|0,m=m+Math.imul(G,ve)|0,s=s+Math.imul(G,Ie)|0,s=s+Math.imul(Z,ve)|0,y=y+Math.imul(Z,Ie)|0,m=m+Math.imul(B,ye)|0,s=s+Math.imul(B,Pe)|0,s=s+Math.imul(L,ye)|0,y=y+Math.imul(L,Pe)|0,m=m+Math.imul(C,ge)|0,s=s+Math.imul(C,Oe)|0,s=s+Math.imul(N,ge)|0,y=y+Math.imul(N,Oe)|0;var kt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(kt>>>26)|0,kt&=67108863,m=Math.imul(te,fe),s=Math.imul(te,Ce),s=s+Math.imul(ce,fe)|0,y=Math.imul(ce,Ce),m=m+Math.imul(H,le)|0,s=s+Math.imul(H,we)|0,s=s+Math.imul(X,le)|0,y=y+Math.imul(X,we)|0,m=m+Math.imul(ae,me)|0,s=s+Math.imul(ae,xe)|0,s=s+Math.imul(be,me)|0,y=y+Math.imul(be,xe)|0,m=m+Math.imul(ie,ne)|0,s=s+Math.imul(ie,_e)|0,s=s+Math.imul(J,ne)|0,y=y+Math.imul(J,_e)|0,m=m+Math.imul(ee,de)|0,s=s+Math.imul(ee,Ae)|0,s=s+Math.imul(re,de)|0,y=y+Math.imul(re,Ae)|0,m=m+Math.imul(U,ve)|0,s=s+Math.imul(U,Ie)|0,s=s+Math.imul(W,ve)|0,y=y+Math.imul(W,Ie)|0,m=m+Math.imul(G,ye)|0,s=s+Math.imul(G,Pe)|0,s=s+Math.imul(Z,ye)|0,y=y+Math.imul(Z,Pe)|0,m=m+Math.imul(B,ge)|0,s=s+Math.imul(B,Oe)|0,s=s+Math.imul(L,ge)|0,y=y+Math.imul(L,Oe)|0,m=m+Math.imul(C,Se)|0,s=s+Math.imul(C,ke)|0,s=s+Math.imul(N,Se)|0,y=y+Math.imul(N,ke)|0;var Rt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,m=Math.imul(he,fe),s=Math.imul(he,Ce),s=s+Math.imul(oe,fe)|0,y=Math.imul(oe,Ce),m=m+Math.imul(te,le)|0,s=s+Math.imul(te,we)|0,s=s+Math.imul(ce,le)|0,y=y+Math.imul(ce,we)|0,m=m+Math.imul(H,me)|0,s=s+Math.imul(H,xe)|0,s=s+Math.imul(X,me)|0,y=y+Math.imul(X,xe)|0,m=m+Math.imul(ae,ne)|0,s=s+Math.imul(ae,_e)|0,s=s+Math.imul(be,ne)|0,y=y+Math.imul(be,_e)|0,m=m+Math.imul(ie,de)|0,s=s+Math.imul(ie,Ae)|0,s=s+Math.imul(J,de)|0,y=y+Math.imul(J,Ae)|0,m=m+Math.imul(ee,ve)|0,s=s+Math.imul(ee,Ie)|0,s=s+Math.imul(re,ve)|0,y=y+Math.imul(re,Ie)|0,m=m+Math.imul(U,ye)|0,s=s+Math.imul(U,Pe)|0,s=s+Math.imul(W,ye)|0,y=y+Math.imul(W,Pe)|0,m=m+Math.imul(G,ge)|0,s=s+Math.imul(G,Oe)|0,s=s+Math.imul(Z,ge)|0,y=y+Math.imul(Z,Oe)|0,m=m+Math.imul(B,Se)|0,s=s+Math.imul(B,ke)|0,s=s+Math.imul(L,Se)|0,y=y+Math.imul(L,ke)|0,m=m+Math.imul(C,Me)|0,s=s+Math.imul(C,Re)|0,s=s+Math.imul(N,Me)|0,y=y+Math.imul(N,Re)|0;var Nt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,m=Math.imul(he,le),s=Math.imul(he,we),s=s+Math.imul(oe,le)|0,y=Math.imul(oe,we),m=m+Math.imul(te,me)|0,s=s+Math.imul(te,xe)|0,s=s+Math.imul(ce,me)|0,y=y+Math.imul(ce,xe)|0,m=m+Math.imul(H,ne)|0,s=s+Math.imul(H,_e)|0,s=s+Math.imul(X,ne)|0,y=y+Math.imul(X,_e)|0,m=m+Math.imul(ae,de)|0,s=s+Math.imul(ae,Ae)|0,s=s+Math.imul(be,de)|0,y=y+Math.imul(be,Ae)|0,m=m+Math.imul(ie,ve)|0,s=s+Math.imul(ie,Ie)|0,s=s+Math.imul(J,ve)|0,y=y+Math.imul(J,Ie)|0,m=m+Math.imul(ee,ye)|0,s=s+Math.imul(ee,Pe)|0,s=s+Math.imul(re,ye)|0,y=y+Math.imul(re,Pe)|0,m=m+Math.imul(U,ge)|0,s=s+Math.imul(U,Oe)|0,s=s+Math.imul(W,ge)|0,y=y+Math.imul(W,Oe)|0,m=m+Math.imul(G,Se)|0,s=s+Math.imul(G,ke)|0,s=s+Math.imul(Z,Se)|0,y=y+Math.imul(Z,ke)|0,m=m+Math.imul(B,Me)|0,s=s+Math.imul(B,Re)|0,s=s+Math.imul(L,Me)|0,y=y+Math.imul(L,Re)|0;var Dt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,m=Math.imul(he,me),s=Math.imul(he,xe),s=s+Math.imul(oe,me)|0,y=Math.imul(oe,xe),m=m+Math.imul(te,ne)|0,s=s+Math.imul(te,_e)|0,s=s+Math.imul(ce,ne)|0,y=y+Math.imul(ce,_e)|0,m=m+Math.imul(H,de)|0,s=s+Math.imul(H,Ae)|0,s=s+Math.imul(X,de)|0,y=y+Math.imul(X,Ae)|0,m=m+Math.imul(ae,ve)|0,s=s+Math.imul(ae,Ie)|0,s=s+Math.imul(be,ve)|0,y=y+Math.imul(be,Ie)|0,m=m+Math.imul(ie,ye)|0,s=s+Math.imul(ie,Pe)|0,s=s+Math.imul(J,ye)|0,y=y+Math.imul(J,Pe)|0,m=m+Math.imul(ee,ge)|0,s=s+Math.imul(ee,Oe)|0,s=s+Math.imul(re,ge)|0,y=y+Math.imul(re,Oe)|0,m=m+Math.imul(U,Se)|0,s=s+Math.imul(U,ke)|0,s=s+Math.imul(W,Se)|0,y=y+Math.imul(W,ke)|0,m=m+Math.imul(G,Me)|0,s=s+Math.imul(G,Re)|0,s=s+Math.imul(Z,Me)|0,y=y+Math.imul(Z,Re)|0;var Bt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,m=Math.imul(he,ne),s=Math.imul(he,_e),s=s+Math.imul(oe,ne)|0,y=Math.imul(oe,_e),m=m+Math.imul(te,de)|0,s=s+Math.imul(te,Ae)|0,s=s+Math.imul(ce,de)|0,y=y+Math.imul(ce,Ae)|0,m=m+Math.imul(H,ve)|0,s=s+Math.imul(H,Ie)|0,s=s+Math.imul(X,ve)|0,y=y+Math.imul(X,Ie)|0,m=m+Math.imul(ae,ye)|0,s=s+Math.imul(ae,Pe)|0,s=s+Math.imul(be,ye)|0,y=y+Math.imul(be,Pe)|0,m=m+Math.imul(ie,ge)|0,s=s+Math.imul(ie,Oe)|0,s=s+Math.imul(J,ge)|0,y=y+Math.imul(J,Oe)|0,m=m+Math.imul(ee,Se)|0,s=s+Math.imul(ee,ke)|0,s=s+Math.imul(re,Se)|0,y=y+Math.imul(re,ke)|0,m=m+Math.imul(U,Me)|0,s=s+Math.imul(U,Re)|0,s=s+Math.imul(W,Me)|0,y=y+Math.imul(W,Re)|0;var Ut=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,m=Math.imul(he,de),s=Math.imul(he,Ae),s=s+Math.imul(oe,de)|0,y=Math.imul(oe,Ae),m=m+Math.imul(te,ve)|0,s=s+Math.imul(te,Ie)|0,s=s+Math.imul(ce,ve)|0,y=y+Math.imul(ce,Ie)|0,m=m+Math.imul(H,ye)|0,s=s+Math.imul(H,Pe)|0,s=s+Math.imul(X,ye)|0,y=y+Math.imul(X,Pe)|0,m=m+Math.imul(ae,ge)|0,s=s+Math.imul(ae,Oe)|0,s=s+Math.imul(be,ge)|0,y=y+Math.imul(be,Oe)|0,m=m+Math.imul(ie,Se)|0,s=s+Math.imul(ie,ke)|0,s=s+Math.imul(J,Se)|0,y=y+Math.imul(J,ke)|0,m=m+Math.imul(ee,Me)|0,s=s+Math.imul(ee,Re)|0,s=s+Math.imul(re,Me)|0,y=y+Math.imul(re,Re)|0;var Ft=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,m=Math.imul(he,ve),s=Math.imul(he,Ie),s=s+Math.imul(oe,ve)|0,y=Math.imul(oe,Ie),m=m+Math.imul(te,ye)|0,s=s+Math.imul(te,Pe)|0,s=s+Math.imul(ce,ye)|0,y=y+Math.imul(ce,Pe)|0,m=m+Math.imul(H,ge)|0,s=s+Math.imul(H,Oe)|0,s=s+Math.imul(X,ge)|0,y=y+Math.imul(X,Oe)|0,m=m+Math.imul(ae,Se)|0,s=s+Math.imul(ae,ke)|0,s=s+Math.imul(be,Se)|0,y=y+Math.imul(be,ke)|0,m=m+Math.imul(ie,Me)|0,s=s+Math.imul(ie,Re)|0,s=s+Math.imul(J,Me)|0,y=y+Math.imul(J,Re)|0;var Lt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,m=Math.imul(he,ye),s=Math.imul(he,Pe),s=s+Math.imul(oe,ye)|0,y=Math.imul(oe,Pe),m=m+Math.imul(te,ge)|0,s=s+Math.imul(te,Oe)|0,s=s+Math.imul(ce,ge)|0,y=y+Math.imul(ce,Oe)|0,m=m+Math.imul(H,Se)|0,s=s+Math.imul(H,ke)|0,s=s+Math.imul(X,Se)|0,y=y+Math.imul(X,ke)|0,m=m+Math.imul(ae,Me)|0,s=s+Math.imul(ae,Re)|0,s=s+Math.imul(be,Me)|0,y=y+Math.imul(be,Re)|0;var qt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(qt>>>26)|0,qt&=67108863,m=Math.imul(he,ge),s=Math.imul(he,Oe),s=s+Math.imul(oe,ge)|0,y=Math.imul(oe,Oe),m=m+Math.imul(te,Se)|0,s=s+Math.imul(te,ke)|0,s=s+Math.imul(ce,Se)|0,y=y+Math.imul(ce,ke)|0,m=m+Math.imul(H,Me)|0,s=s+Math.imul(H,Re)|0,s=s+Math.imul(X,Me)|0,y=y+Math.imul(X,Re)|0;var jt=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+(jt>>>26)|0,jt&=67108863,m=Math.imul(he,Se),s=Math.imul(he,ke),s=s+Math.imul(oe,Se)|0,y=Math.imul(oe,ke),m=m+Math.imul(te,Me)|0,s=s+Math.imul(te,Re)|0,s=s+Math.imul(ce,Me)|0,y=y+Math.imul(ce,Re)|0;var $t=(S+m|0)+((s&8191)<<13)|0;S=(y+(s>>>13)|0)+($t>>>26)|0,$t&=67108863,m=Math.imul(he,Me),s=Math.imul(he,Re),s=s+Math.imul(oe,Me)|0,y=Math.imul(oe,Re);var Vt=(S+m|0)+((s&8191)<<13)|0;return S=(y+(s>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,w[0]=nt,w[1]=it,w[2]=It,w[3]=Tt,w[4]=Ct,w[5]=Ot,w[6]=Pt,w[7]=kt,w[8]=Rt,w[9]=Nt,w[10]=Dt,w[11]=Bt,w[12]=Ut,w[13]=Ft,w[14]=Lt,w[15]=qt,w[16]=jt,w[17]=$t,w[18]=Vt,S!==0&&(w[19]=S,c.length++),c};Math.imul||(I=A);function O(b,o,u){u.negative=o.negative^b.negative,u.length=b.length+o.length;for(var c=0,d=0,p=0;p<u.length-1;p++){var w=d;d=0;for(var S=c&67108863,m=Math.min(p,o.length-1),s=Math.max(0,p-b.length+1);s<=m;s++){var y=p-s,x=b.words[y]|0,C=o.words[s]|0,N=x*C,j=N&67108863;w=w+(N/67108864|0)|0,j=j+S|0,S=j&67108863,w=w+(j>>>26)|0,d+=w>>>26,w&=67108863}u.words[p]=S,c=w,w=d}return c!==0?u.words[p]=c:u.length--,u.strip()}function T(b,o,u){var c=new P;return c.mulp(b,o,u)}i.prototype.mulTo=function(o,u){var c,d=this.length+o.length;return this.length===10&&o.length===10?c=I(this,o,u):d<63?c=A(this,o,u):d<1024?c=O(this,o,u):c=T(this,o,u),c};function P(b,o){this.x=b,this.y=o}P.prototype.makeRBT=function(o){for(var u=new Array(o),c=i.prototype._countBits(o)-1,d=0;d<o;d++)u[d]=this.revBin(d,c,o);return u},P.prototype.revBin=function(o,u,c){if(o===0||o===c-1)return o;for(var d=0,p=0;p<u;p++)d|=(o&1)<<u-p-1,o>>=1;return d},P.prototype.permute=function(o,u,c,d,p,w){for(var S=0;S<w;S++)d[S]=u[o[S]],p[S]=c[o[S]]},P.prototype.transform=function(o,u,c,d,p,w){this.permute(w,o,u,c,d,p);for(var S=1;S<p;S<<=1)for(var m=S<<1,s=Math.cos(2*Math.PI/m),y=Math.sin(2*Math.PI/m),x=0;x<p;x+=m)for(var C=s,N=y,j=0;j<S;j++){var B=c[x+j],L=d[x+j],Y=c[x+j+S],G=d[x+j+S],Z=C*Y-N*G;G=C*G+N*Y,Y=Z,c[x+j]=B+Y,d[x+j]=L+G,c[x+j+S]=B-Y,d[x+j+S]=L-G,j!==m&&(Z=s*C-y*N,N=s*N+y*C,C=Z)}},P.prototype.guessLen13b=function(o,u){var c=Math.max(u,o)|1,d=c&1,p=0;for(c=c/2|0;c;c=c>>>1)p++;return 1<<p+1+d},P.prototype.conjugate=function(o,u,c){if(!(c<=1))for(var d=0;d<c/2;d++){var p=o[d];o[d]=o[c-d-1],o[c-d-1]=p,p=u[d],u[d]=-u[c-d-1],u[c-d-1]=-p}},P.prototype.normalize13b=function(o,u){for(var c=0,d=0;d<u/2;d++){var p=Math.round(o[2*d+1]/u)*8192+Math.round(o[2*d]/u)+c;o[d]=p&67108863,p<67108864?c=0:c=p/67108864|0}return o},P.prototype.convert13b=function(o,u,c,d){for(var p=0,w=0;w<u;w++)p=p+(o[w]|0),c[2*w]=p&8191,p=p>>>13,c[2*w+1]=p&8191,p=p>>>13;for(w=2*u;w<d;++w)c[w]=0;n(p===0),n((p&-8192)===0)},P.prototype.stub=function(o){for(var u=new Array(o),c=0;c<o;c++)u[c]=0;return u},P.prototype.mulp=function(o,u,c){var d=2*this.guessLen13b(o.length,u.length),p=this.makeRBT(d),w=this.stub(d),S=new Array(d),m=new Array(d),s=new Array(d),y=new Array(d),x=new Array(d),C=new Array(d),N=c.words;N.length=d,this.convert13b(o.words,o.length,S,d),this.convert13b(u.words,u.length,y,d),this.transform(S,w,m,s,d,p),this.transform(y,w,x,C,d,p);for(var j=0;j<d;j++){var B=m[j]*x[j]-s[j]*C[j];s[j]=m[j]*C[j]+s[j]*x[j],m[j]=B}return this.conjugate(m,s,d),this.transform(m,s,N,w,d,p),this.conjugate(N,w,d),this.normalize13b(N,d),c.negative=o.negative^u.negative,c.length=o.length+u.length,c.strip()},i.prototype.mul=function(o){var u=new i(null);return u.words=new Array(this.length+o.length),this.mulTo(o,u)},i.prototype.mulf=function(o){var u=new i(null);return u.words=new Array(this.length+o.length),T(this,o,u)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){n(typeof o=="number"),n(o<67108864);for(var u=0,c=0;c<this.length;c++){var d=(this.words[c]|0)*o,p=(d&67108863)+(u&67108863);u>>=26,u+=d/67108864|0,u+=p>>>26,this.words[c]=p&67108863}return u!==0&&(this.words[c]=u,this.length++),this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var u=E(o);if(u.length===0)return new i(1);for(var c=this,d=0;d<u.length&&u[d]===0;d++,c=c.sqr());if(++d<u.length)for(var p=c.sqr();d<u.length;d++,p=p.sqr())u[d]!==0&&(c=c.mul(p));return c},i.prototype.iushln=function(o){n(typeof o=="number"&&o>=0);var u=o%26,c=(o-u)/26,d=67108863>>>26-u<<26-u,p;if(u!==0){var w=0;for(p=0;p<this.length;p++){var S=this.words[p]&d,m=(this.words[p]|0)-S<<u;this.words[p]=m|w,w=S>>>26-u}w&&(this.words[p]=w,this.length++)}if(c!==0){for(p=this.length-1;p>=0;p--)this.words[p+c]=this.words[p];for(p=0;p<c;p++)this.words[p]=0;this.length+=c}return this.strip()},i.prototype.ishln=function(o){return n(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,u,c){n(typeof o=="number"&&o>=0);var d;u?d=(u-u%26)/26:d=0;var p=o%26,w=Math.min((o-p)/26,this.length),S=67108863^67108863>>>p<<p,m=c;if(d-=w,d=Math.max(0,d),m){for(var s=0;s<w;s++)m.words[s]=this.words[s];m.length=w}if(w!==0)if(this.length>w)for(this.length-=w,s=0;s<this.length;s++)this.words[s]=this.words[s+w];else this.words[0]=0,this.length=1;var y=0;for(s=this.length-1;s>=0&&(y!==0||s>=d);s--){var x=this.words[s]|0;this.words[s]=y<<26-p|x>>>p,y=x&S}return m&&y!==0&&(m.words[m.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(o,u,c){return n(this.negative===0),this.iushrn(o,u,c)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){n(typeof o=="number"&&o>=0);var u=o%26,c=(o-u)/26,d=1<<u;if(this.length<=c)return!1;var p=this.words[c];return!!(p&d)},i.prototype.imaskn=function(o){n(typeof o=="number"&&o>=0);var u=o%26,c=(o-u)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(u!==0&&c++,this.length=Math.min(c,this.length),u!==0){var d=67108863^67108863>>>u<<u;this.words[this.length-1]&=d}return this.strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return n(typeof o=="number"),n(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(o){if(n(typeof o=="number"),n(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,u,c){var d=o.length+c,p;this._expand(d);var w,S=0;for(p=0;p<o.length;p++){w=(this.words[p+c]|0)+S;var m=(o.words[p]|0)*u;w-=m&67108863,S=(w>>26)-(m/67108864|0),this.words[p+c]=w&67108863}for(;p<this.length-c;p++)w=(this.words[p+c]|0)+S,S=w>>26,this.words[p+c]=w&67108863;if(S===0)return this.strip();for(n(S===-1),S=0,p=0;p<this.length;p++)w=-(this.words[p]|0)+S,S=w>>26,this.words[p]=w&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(o,u){var c=this.length-o.length,d=this.clone(),p=o,w=p.words[p.length-1]|0,S=this._countBits(w);c=26-S,c!==0&&(p=p.ushln(c),d.iushln(c),w=p.words[p.length-1]|0);var m=d.length-p.length,s;if(u!=="mod"){s=new i(null),s.length=m+1,s.words=new Array(s.length);for(var y=0;y<s.length;y++)s.words[y]=0}var x=d.clone()._ishlnsubmul(p,1,m);x.negative===0&&(d=x,s&&(s.words[m]=1));for(var C=m-1;C>=0;C--){var N=(d.words[p.length+C]|0)*67108864+(d.words[p.length+C-1]|0);for(N=Math.min(N/w|0,67108863),d._ishlnsubmul(p,N,C);d.negative!==0;)N--,d.negative=0,d._ishlnsubmul(p,1,C),d.isZero()||(d.negative^=1);s&&(s.words[C]=N)}return s&&s.strip(),d.strip(),u!=="div"&&c!==0&&d.iushrn(c),{div:s||null,mod:d}},i.prototype.divmod=function(o,u,c){if(n(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var d,p,w;return this.negative!==0&&o.negative===0?(w=this.neg().divmod(o,u),u!=="mod"&&(d=w.div.neg()),u!=="div"&&(p=w.mod.neg(),c&&p.negative!==0&&p.iadd(o)),{div:d,mod:p}):this.negative===0&&o.negative!==0?(w=this.divmod(o.neg(),u),u!=="mod"&&(d=w.div.neg()),{div:d,mod:w.mod}):(this.negative&o.negative)!==0?(w=this.neg().divmod(o.neg(),u),u!=="div"&&(p=w.mod.neg(),c&&p.negative!==0&&p.isub(o)),{div:w.div,mod:p}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?u==="div"?{div:this.divn(o.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modn(o.words[0]))}:this._wordDiv(o,u)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var u=this.divmod(o);if(u.mod.isZero())return u.div;var c=u.div.negative!==0?u.mod.isub(o):u.mod,d=o.ushrn(1),p=o.andln(1),w=c.cmp(d);return w<0||p===1&&w===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modn=function(o){n(o<=67108863);for(var u=(1<<26)%o,c=0,d=this.length-1;d>=0;d--)c=(u*c+(this.words[d]|0))%o;return c},i.prototype.idivn=function(o){n(o<=67108863);for(var u=0,c=this.length-1;c>=0;c--){var d=(this.words[c]|0)+u*67108864;this.words[c]=d/o|0,u=d%o}return this.strip()},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){n(o.negative===0),n(!o.isZero());var u=this,c=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var d=new i(1),p=new i(0),w=new i(0),S=new i(1),m=0;u.isEven()&&c.isEven();)u.iushrn(1),c.iushrn(1),++m;for(var s=c.clone(),y=u.clone();!u.isZero();){for(var x=0,C=1;(u.words[0]&C)===0&&x<26;++x,C<<=1);if(x>0)for(u.iushrn(x);x-- >0;)(d.isOdd()||p.isOdd())&&(d.iadd(s),p.isub(y)),d.iushrn(1),p.iushrn(1);for(var N=0,j=1;(c.words[0]&j)===0&&N<26;++N,j<<=1);if(N>0)for(c.iushrn(N);N-- >0;)(w.isOdd()||S.isOdd())&&(w.iadd(s),S.isub(y)),w.iushrn(1),S.iushrn(1);u.cmp(c)>=0?(u.isub(c),d.isub(w),p.isub(S)):(c.isub(u),w.isub(d),S.isub(p))}return{a:w,b:S,gcd:c.iushln(m)}},i.prototype._invmp=function(o){n(o.negative===0),n(!o.isZero());var u=this,c=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var d=new i(1),p=new i(0),w=c.clone();u.cmpn(1)>0&&c.cmpn(1)>0;){for(var S=0,m=1;(u.words[0]&m)===0&&S<26;++S,m<<=1);if(S>0)for(u.iushrn(S);S-- >0;)d.isOdd()&&d.iadd(w),d.iushrn(1);for(var s=0,y=1;(c.words[0]&y)===0&&s<26;++s,y<<=1);if(s>0)for(c.iushrn(s);s-- >0;)p.isOdd()&&p.iadd(w),p.iushrn(1);u.cmp(c)>=0?(u.isub(c),d.isub(p)):(c.isub(u),p.isub(d))}var x;return u.cmpn(1)===0?x=d:x=p,x.cmpn(0)<0&&x.iadd(o),x},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var u=this.clone(),c=o.clone();u.negative=0,c.negative=0;for(var d=0;u.isEven()&&c.isEven();d++)u.iushrn(1),c.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;c.isEven();)c.iushrn(1);var p=u.cmp(c);if(p<0){var w=u;u=c,c=w}else if(p===0||c.cmpn(1)===0)break;u.isub(c)}while(!0);return c.iushln(d)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){n(typeof o=="number");var u=o%26,c=(o-u)/26,d=1<<u;if(this.length<=c)return this._expand(c+1),this.words[c]|=d,this;for(var p=d,w=c;p!==0&&w<this.length;w++){var S=this.words[w]|0;S+=p,p=S>>>26,S&=67108863,this.words[w]=S}return p!==0&&(this.words[w]=p,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var u=o<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var c;if(this.length>1)c=1;else{u&&(o=-o),n(o<=67108863,"Number is too big");var d=this.words[0]|0;c=d===o?0:d<o?-1:1}return this.negative!==0?-c|0:c},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var u=this.ucmp(o);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var u=0,c=this.length-1;c>=0;c--){var d=this.words[c]|0,p=o.words[c]|0;if(d!==p){d<p?u=-1:d>p&&(u=1);break}}return u},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new F(o)},i.prototype.toRed=function(o){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return n(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return n(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var k={k256:null,p224:null,p192:null,p25519:null};function R(b,o){this.name=b,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}R.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},R.prototype.ireduce=function(o){var u=o,c;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),c=u.bitLength();while(c>this.n);var d=c<this.n?-1:u.ucmp(this.p);return d===0?(u.words[0]=0,u.length=1):d>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},R.prototype.split=function(o,u){o.iushrn(this.n,0,u)},R.prototype.imulK=function(o){return o.imul(this.k)};function D(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(D,R),D.prototype.split=function(o,u){for(var c=4194303,d=Math.min(o.length,9),p=0;p<d;p++)u.words[p]=o.words[p];if(u.length=d,o.length<=9){o.words[0]=0,o.length=1;return}var w=o.words[9];for(u.words[u.length++]=w&c,p=10;p<o.length;p++){var S=o.words[p]|0;o.words[p-10]=(S&c)<<4|w>>>22,w=S}w>>>=22,o.words[p-10]=w,w===0&&o.length>10?o.length-=10:o.length-=9},D.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var u=0,c=0;c<o.length;c++){var d=o.words[c]|0;u+=d*977,o.words[c]=u&67108863,u=d*64+(u/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function V(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(V,R);function q(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(q,R);function $(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a($,R),$.prototype.imulK=function(o){for(var u=0,c=0;c<o.length;c++){var d=(o.words[c]|0)*19+u,p=d&67108863;d>>>=26,o.words[c]=p,u=d}return u!==0&&(o.words[o.length++]=u),o},i._prime=function(o){if(k[o])return k[o];var u;if(o==="k256")u=new D;else if(o==="p224")u=new V;else if(o==="p192")u=new q;else if(o==="p25519")u=new $;else throw new Error("Unknown prime "+o);return k[o]=u,u};function F(b){if(typeof b=="string"){var o=i._prime(b);this.m=o.p,this.prime=o}else n(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}F.prototype._verify1=function(o){n(o.negative===0,"red works only with positives"),n(o.red,"red works only with red numbers")},F.prototype._verify2=function(o,u){n((o.negative|u.negative)===0,"red works only with positives"),n(o.red&&o.red===u.red,"red works only with red numbers")},F.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},F.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},F.prototype.add=function(o,u){this._verify2(o,u);var c=o.add(u);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},F.prototype.iadd=function(o,u){this._verify2(o,u);var c=o.iadd(u);return c.cmp(this.m)>=0&&c.isub(this.m),c},F.prototype.sub=function(o,u){this._verify2(o,u);var c=o.sub(u);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},F.prototype.isub=function(o,u){this._verify2(o,u);var c=o.isub(u);return c.cmpn(0)<0&&c.iadd(this.m),c},F.prototype.shl=function(o,u){return this._verify1(o),this.imod(o.ushln(u))},F.prototype.imul=function(o,u){return this._verify2(o,u),this.imod(o.imul(u))},F.prototype.mul=function(o,u){return this._verify2(o,u),this.imod(o.mul(u))},F.prototype.isqr=function(o){return this.imul(o,o.clone())},F.prototype.sqr=function(o){return this.mul(o,o)},F.prototype.sqrt=function(o){if(o.isZero())return o.clone();var u=this.m.andln(3);if(n(u%2===1),u===3){var c=this.m.add(new i(1)).iushrn(2);return this.pow(o,c)}for(var d=this.m.subn(1),p=0;!d.isZero()&&d.andln(1)===0;)p++,d.iushrn(1);n(!d.isZero());var w=new i(1).toRed(this),S=w.redNeg(),m=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new i(2*s*s).toRed(this);this.pow(s,m).cmp(S)!==0;)s.redIAdd(S);for(var y=this.pow(s,d),x=this.pow(o,d.addn(1).iushrn(1)),C=this.pow(o,d),N=p;C.cmp(w)!==0;){for(var j=C,B=0;j.cmp(w)!==0;B++)j=j.redSqr();n(B<N);var L=this.pow(y,new i(1).iushln(N-B-1));x=x.redMul(L),y=L.redSqr(),C=C.redMul(y),N=B}return x},F.prototype.invm=function(o){var u=o._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},F.prototype.pow=function(o,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return o.clone();var c=4,d=new Array(1<<c);d[0]=new i(1).toRed(this),d[1]=o;for(var p=2;p<d.length;p++)d[p]=this.mul(d[p-1],o);var w=d[0],S=0,m=0,s=u.bitLength()%26;for(s===0&&(s=26),p=u.length-1;p>=0;p--){for(var y=u.words[p],x=s-1;x>=0;x--){var C=y>>x&1;if(w!==d[0]&&(w=this.sqr(w)),C===0&&S===0){m=0;continue}S<<=1,S|=C,m++,!(m!==c&&(p!==0||x!==0))&&(w=this.mul(w,d[S]),m=0,S=0)}s=26}return w},F.prototype.convertTo=function(o){var u=o.umod(this.m);return u===o?u.clone():u},F.prototype.convertFrom=function(o){var u=o.clone();return u.red=null,u},i.mont=function(o){return new z(o)};function z(b){F.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(z,F),z.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},z.prototype.convertFrom=function(o){var u=this.imod(o.mul(this.rinv));return u.red=null,u},z.prototype.imul=function(o,u){if(o.isZero()||u.isZero())return o.words[0]=0,o.length=1,o;var c=o.imul(u),d=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=c.isub(d).iushrn(this.shift),w=p;return p.cmp(this.m)>=0?w=p.isub(this.m):p.cmpn(0)<0&&(w=p.iadd(this.m)),w._forceRed(this)},z.prototype.mul=function(o,u){if(o.isZero()||u.isZero())return new i(0)._forceRed(this);var c=o.mul(u),d=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=c.isub(d).iushrn(this.shift),w=p;return p.cmp(this.m)>=0?w=p.isub(this.m):p.cmpn(0)<0&&(w=p.iadd(this.m)),w._forceRed(this)},z.prototype.invm=function(o){var u=this.imod(o._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(e,Ve)})(kl);var vg=kl.exports,SO=ht.exports.Buffer;function MO(e,t){return SO.from(e.toRed(vg.mont(t.modulus)).redPow(new vg(t.publicExponent)).fromRed().toArray())}var wS=MO,xO=Pl,R0=aa.exports,EO=Eu,pg=gS,mg=bS,Xp=kl.exports,AO=wS,IO=Np,Rn=ht.exports.Buffer,TO=function(t,r,n){var a;t.padding?a=t.padding:n?a=1:a=4;var i=xO(t),f;if(a===4)f=CO(i,r);else if(a===1)f=OO(i,r,n);else if(a===3){if(f=new Xp(r),f.cmp(i.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return n?IO(f,i):AO(f,i)};function CO(e,t){var r=e.modulus.byteLength(),n=t.length,a=EO("sha1").update(Rn.alloc(0)).digest(),i=a.length,f=2*i;if(n>r-f-2)throw new Error("message too long");var l=Rn.alloc(r-n-f-2),v=r-i-1,h=R0(i),g=mg(Rn.concat([a,l,Rn.alloc(1,1),t],v),pg(h,v)),_=mg(h,pg(g,i));return new Xp(Rn.concat([Rn.alloc(1),_,g],r))}function OO(e,t,r){var n=t.length,a=e.modulus.byteLength();if(n>a-11)throw new Error("message too long");var i;return r?i=Rn.alloc(a-n-3,255):i=PO(a-n-3),new Xp(Rn.concat([Rn.from([0,r?1:2]),i,Rn.alloc(1),t],a))}function PO(e){for(var t=Rn.allocUnsafe(e),r=0,n=R0(e*2),a=0,i;r<e;)a===n.length&&(n=R0(e*2),a=0),i=n[a++],i&&(t[r++]=i);return t}var kO=Pl,yg=gS,gg=bS,bg=kl.exports,RO=Np,NO=Eu,DO=wS,su=ht.exports.Buffer,BO=function(t,r,n){var a;t.padding?a=t.padding:n?a=1:a=4;var i=kO(t),f=i.modulus.byteLength();if(r.length>f||new bg(r).cmp(i.modulus)>=0)throw new Error("decryption error");var l;n?l=DO(new bg(r),i):l=RO(r,i);var v=su.alloc(f-l.length);if(l=su.concat([v,l],f),a===4)return UO(i,l);if(a===1)return FO(i,l,n);if(a===3)return l;throw new Error("unknown padding")};function UO(e,t){var r=e.modulus.byteLength(),n=NO("sha1").update(su.alloc(0)).digest(),a=n.length;if(t[0]!==0)throw new Error("decryption error");var i=t.slice(1,a+1),f=t.slice(a+1),l=gg(i,yg(f,a)),v=gg(f,yg(l,r-a-1));if(LO(n,v.slice(0,a)))throw new Error("decryption error");for(var h=a;v[h]===0;)h++;if(v[h++]!==1)throw new Error("decryption error");return v.slice(h)}function FO(e,t,r){for(var n=t.slice(0,2),a=2,i=0;t[a++]!==0;)if(a>=t.length){i++;break}var f=t.slice(2,a-1);if((n.toString("hex")!=="0002"&&!r||n.toString("hex")!=="0001"&&r)&&i++,f.length<8&&i++,i)throw new Error("decryption error");return t.slice(a)}function LO(e,t){e=su.from(e),t=su.from(t);var r=0,n=e.length;e.length!==t.length&&(r++,n=Math.min(e.length,t.length));for(var a=-1;++a<n;)r+=e[a]^t[a];return r}(function(e){e.publicEncrypt=TO,e.privateDecrypt=BO,e.privateEncrypt=function(r,n){return e.publicEncrypt(r,n,!0)},e.publicDecrypt=function(r,n){return e.privateDecrypt(r,n,!0)}})(yS);var Ks={};function wg(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var _S=ht.exports,_g=aa.exports,SS=_S.Buffer,MS=_S.kMaxLength,N0=Ve.crypto||Ve.msCrypto,xS=Math.pow(2,32)-1;function ES(e,t){if(typeof e!="number"||e!==e)throw new TypeError("offset must be a number");if(e>xS||e<0)throw new TypeError("offset must be a uint32");if(e>MS||e>t)throw new RangeError("offset out of range")}function AS(e,t,r){if(typeof e!="number"||e!==e)throw new TypeError("size must be a number");if(e>xS||e<0)throw new TypeError("size must be a uint32");if(e+t>r||e>MS)throw new RangeError("buffer too small")}N0&&N0.getRandomValues||!ze.exports.browser?(Ks.randomFill=qO,Ks.randomFillSync=jO):(Ks.randomFill=wg,Ks.randomFillSync=wg);function qO(e,t,r,n){if(!SS.isBuffer(e)&&!(e instanceof Ve.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof t=="function")n=t,t=0,r=e.length;else if(typeof r=="function")n=r,r=e.length-t;else if(typeof n!="function")throw new TypeError('"cb" argument must be a function');return ES(t,e.length),AS(r,t,e.length),IS(e,t,r,n)}function IS(e,t,r,n){if(ze.exports.browser){var a=e.buffer,i=new Uint8Array(a,t,r);if(N0.getRandomValues(i),n){ze.exports.nextTick(function(){n(null,e)});return}return e}if(n){_g(r,function(l,v){if(l)return n(l);v.copy(e,t),n(null,e)});return}var f=_g(r);return f.copy(e,t),e}function jO(e,t,r){if(typeof t>"u"&&(t=0),!SS.isBuffer(e)&&!(e instanceof Ve.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return ES(t,e.length),r===void 0&&(r=e.length-t),AS(r,t,e.length),IS(e,t,r)}var Sg;function TS(){if(Sg)return ut;Sg=1,ut.randomBytes=ut.rng=ut.pseudoRandomBytes=ut.prng=aa.exports,ut.createHash=ut.Hash=Eu,ut.createHmac=ut.Hmac=F3;var e=L3.exports,t=Object.keys(e),r=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(t);ut.getHashes=function(){return r};var n=hl;ut.pbkdf2=n.pbkdf2,ut.pbkdf2Sync=n.pbkdf2Sync;var a=Un;ut.Cipher=a.Cipher,ut.createCipher=a.createCipher,ut.Cipheriv=a.Cipheriv,ut.createCipheriv=a.createCipheriv,ut.Decipher=a.Decipher,ut.createDecipher=a.createDecipher,ut.Decipheriv=a.Decipheriv,ut.createDecipheriv=a.createDecipheriv,ut.getCiphers=a.getCiphers,ut.listCiphers=a.listCiphers;var i=o9();ut.DiffieHellmanGroup=i.DiffieHellmanGroup,ut.createDiffieHellmanGroup=i.createDiffieHellmanGroup,ut.getDiffieHellman=i.getDiffieHellman,ut.createDiffieHellman=i.createDiffieHellman,ut.DiffieHellman=i.DiffieHellman;var f=gO();ut.createSign=f.createSign,ut.Sign=f.Sign,ut.createVerify=f.createVerify,ut.Verify=f.Verify,ut.createECDH=bO();var l=yS;ut.publicEncrypt=l.publicEncrypt,ut.privateEncrypt=l.privateEncrypt,ut.publicDecrypt=l.publicDecrypt,ut.privateDecrypt=l.privateDecrypt;var v=Ks;return ut.randomFill=v.randomFill,ut.randomFillSync=v.randomFillSync,ut.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},ut.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},ut}var Mg=TS(),$O=function(){function e(t,r){this.hash=r?Mg.createHmac(t,xg(r)):Mg.createHash(t)}return e.prototype.update=function(t,r){this.hash.update(xg(t,r))},e.prototype.digest=function(){return Promise.resolve(this.hash.digest())},e}();function xg(e,t){return Ue.Buffer.isBuffer(e)?e:typeof e=="string"?bp(e,t):ArrayBuffer.isView(e)?Yf(e.buffer,e.byteOffset,e.byteLength):Yf(e)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ac=function(){return ac=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ac.apply(this,arguments)};function D0(e,t,r,n){function a(i){return i instanceof r?i:new r(function(f){f(i)})}return new(r||(r=Promise))(function(i,f){function l(g){try{h(n.next(g))}catch(_){f(_)}}function v(g){try{h(n.throw(g))}catch(_){f(_)}}function h(g){g.done?i(g.value):a(g.value).then(l,v)}h((n=n.apply(e,t||[])).next())})}function If(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(h){return function(g){return v([h,g])}}function v(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){r.label=h[1];break}if(h[0]===6&&r.label<i[1]){r.label=i[1],i=h;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(h);break}i[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],a=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function VO(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],f;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){f={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(f)throw f.error}}return i}function zO(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(VO(arguments[t]));return e}var KO=function(e){return function(t,r){return function(n){return D0(void 0,void 0,void 0,function(){var a;return If(this,function(i){return!((a=e==null?void 0:e.retryStrategy)===null||a===void 0)&&a.mode&&(r.userAgent=zO(r.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,n)]})})}}},HO={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},GO=function(e){return{applyToStack:function(t){t.add(KO(e),HO)}}},WO=function(){function e(t){this.statusCode=t.statusCode,this.headers=t.headers||{},this.body=t.body}return e.isInstance=function(t){if(!t)return!1;var r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var La=function(){return La=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},La.apply(this,arguments)};function JO(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],f;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){f={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(f)throw f.error}}return i}function ZO(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(JO(arguments[t]));return e}var fs=function(){function e(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.substr(-1)!==":"?t.protocol+":":t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?"/"+t.path:t.path:"/"}return e.isInstance=function(t){if(!t)return!1;var r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"},e.prototype.clone=function(){var t=new e(La(La({},this),{headers:La({},this.headers)}));return t.query&&(t.query=YO(t.query)),t},e}();function YO(e){return Object.keys(e).reduce(function(t,r){var n,a=e[r];return La(La({},t),(n={},n[r]=Array.isArray(a)?ZO(a):a,n))},{})}var XO=100,QO=20*1e3,eP=500,tP=500,rP=5,nP=10,iP=1,aP="amz-sdk-invocation-id",oP="amz-sdk-request",sP=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],uP=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],fP=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],cP=[500,502,503,504],lP=function(e){return e.$retryable!==void 0},hP=function(e){return sP.includes(e.name)},CS=function(e){var t,r;return((t=e.$metadata)===null||t===void 0?void 0:t.httpStatusCode)===429||uP.includes(e.name)||((r=e.$retryable)===null||r===void 0?void 0:r.throttling)==!0},dP=function(e){var t;return fP.includes(e.name)||cP.includes(((t=e.$metadata)===null||t===void 0?void 0:t.httpStatusCode)||0)},oc={exports:{}},Eg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(Eg){var Ag=new Uint8Array(16);oc.exports=function(){return Eg(Ag),Ag}}else{var Ig=new Array(16);oc.exports=function(){for(var t=0,r;t<16;t++)(t&3)===0&&(r=Math.random()*4294967296),Ig[t]=r>>>((t&3)<<3)&255;return Ig}}var OS=[];for(var Gu=0;Gu<256;++Gu)OS[Gu]=(Gu+256).toString(16).substr(1);function vP(e,t){var r=t||0,n=OS;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")}var PS=vP,pP=oc.exports,mP=PS,Tg,jh,$h=0,Vh=0;function yP(e,t,r){var n=t&&r||0,a=t||[];e=e||{};var i=e.node||Tg,f=e.clockseq!==void 0?e.clockseq:jh;if(i==null||f==null){var l=pP();i==null&&(i=Tg=[l[0]|1,l[1],l[2],l[3],l[4],l[5]]),f==null&&(f=jh=(l[6]<<8|l[7])&16383)}var v=e.msecs!==void 0?e.msecs:new Date().getTime(),h=e.nsecs!==void 0?e.nsecs:Vh+1,g=v-$h+(h-Vh)/1e4;if(g<0&&e.clockseq===void 0&&(f=f+1&16383),(g<0||v>$h)&&e.nsecs===void 0&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");$h=v,Vh=h,jh=f,v+=122192928e5;var _=((v&268435455)*1e4+h)%4294967296;a[n++]=_>>>24&255,a[n++]=_>>>16&255,a[n++]=_>>>8&255,a[n++]=_&255;var M=v/4294967296*1e4&268435455;a[n++]=M>>>8&255,a[n++]=M&255,a[n++]=M>>>24&15|16,a[n++]=M>>>16&255,a[n++]=f>>>8|128,a[n++]=f&255;for(var E=0;E<6;++E)a[n+E]=i[E];return t||mP(a)}var gP=yP,bP=oc.exports,wP=PS;function _P(e,t,r){var n=t&&r||0;typeof e=="string"&&(t=e==="binary"?new Array(16):null,e=null),e=e||{};var a=e.random||(e.rng||bP)();if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,t)for(var i=0;i<16;++i)t[n+i]=a[i];return t||wP(a)}var SP=_P,MP=gP,kS=SP,Qp=kS;Qp.v1=MP;Qp.v4=kS;var xP=Qp,EP=function(e){var t=e,r=e,n=function(l){return l.name==="TimeoutError"?nP:rP},a=function(l){return n(l)<=r},i=function(l){if(!a(l))throw new Error("No retry token available");var v=n(l);return r-=v,v},f=function(l){r+=l!=null?l:iP,r=Math.min(r,t)};return Object.freeze({hasRetryTokens:a,retrieveRetryTokens:i,releaseRetryTokens:f})},AP=function(e,t){return Math.floor(Math.min(QO,Math.random()*Math.pow(2,t)*e))},IP=function(e){return e?lP(e)||hP(e)||CS(e)||dP(e):!1},em=3,TP="standard",CP=function(){function e(t,r){var n,a,i;this.maxAttemptsProvider=t,this.mode=TP,this.retryDecider=(n=r==null?void 0:r.retryDecider)!==null&&n!==void 0?n:IP,this.delayDecider=(a=r==null?void 0:r.delayDecider)!==null&&a!==void 0?a:AP,this.retryQuota=(i=r==null?void 0:r.retryQuota)!==null&&i!==void 0?i:EP(tP)}return e.prototype.shouldRetry=function(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)},e.prototype.getMaxAttempts=function(){return D0(this,void 0,void 0,function(){var t;return If(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return t=r.sent(),[3,3];case 2:return r.sent(),t=em,[3,3];case 3:return[2,t]}})})},e.prototype.retry=function(t,r){return D0(this,void 0,void 0,function(){var n,a,i,f,l,v,h,g;return If(this,function(_){switch(_.label){case 0:return a=0,i=0,[4,this.getMaxAttempts()];case 1:f=_.sent(),l=r.request,fs.isInstance(l)&&(l.headers[aP]=xP.v4()),v=function(){var M,E,A,I,O;return If(this,function(T){switch(T.label){case 0:return T.trys.push([0,2,,5]),fs.isInstance(l)&&(l.headers[oP]="attempt="+(a+1)+"; max="+f),[4,t(r)];case 1:return M=T.sent(),E=M.response,A=M.output,h.retryQuota.releaseRetryTokens(n),A.$metadata.attempts=a+1,A.$metadata.totalRetryDelay=i,[2,{value:{response:E,output:A}}];case 2:return I=T.sent(),a++,h.shouldRetry(I,a,f)?(n=h.retryQuota.retrieveRetryTokens(I),O=h.delayDecider(CS(I)?eP:XO,a),i+=O,[4,new Promise(function(P){return setTimeout(P,O)})]):[3,4];case 3:return T.sent(),[2,"continue"];case 4:throw I.$metadata||(I.$metadata={}),I.$metadata.attempts=a,I.$metadata.totalRetryDelay=i,I;case 5:return[2]}})},h=this,_.label=2;case 2:return[5,v()];case 3:return g=_.sent(),typeof g=="object"?[2,g.value]:[3,2];case 4:return[2]}})})},e}(),Cg="AWS_MAX_ATTEMPTS",Og="max_attempts",OP={environmentVariableSelector:function(e){var t=e[Cg];if(!!t){var r=parseInt(t);if(Number.isNaN(r))throw new Error("Environment variable "+Cg+' mast be a number, got "'+t+'"');return r}},configFileSelector:function(e){var t=e[Og];if(!!t){var r=parseInt(t);if(Number.isNaN(r))throw new Error("Shared config file entry "+Og+' mast be a number, got "'+t+'"');return r}},default:em},PP=function(e){var t=kP(e.maxAttempts);return ac(ac({},e),{maxAttempts:t,retryStrategy:e.retryStrategy||new CP(t)})},kP=function(e){if(e===void 0&&(e=em),typeof e=="number"){var t=Promise.resolve(e);return function(){return t}}return e};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Co=function(){return Co=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Co.apply(this,arguments)};function RP(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function tm(e,t,r,n){function a(i){return i instanceof r?i:new r(function(f){f(i)})}return new(r||(r=Promise))(function(i,f){function l(g){try{h(n.next(g))}catch(_){f(_)}}function v(g){try{h(n.throw(g))}catch(_){f(_)}}function h(g){g.done?i(g.value):a(g.value).then(l,v)}h((n=n.apply(e,t||[])).next())})}function rm(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(h){return function(g){return v([h,g])}}function v(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){r.label=h[1];break}if(h[0]===6&&r.label<i[1]){r.label=i[1],i=h;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(h);break}i[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],a=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var NP=function(e){return function(){return tm(void 0,void 0,void 0,function(){var t;return rm(this,function(r){try{if(t=e({}),t===void 0)throw new Error;return[2,t]}catch(n){throw new Qt(n.message||"Cannot load config from environment variables with getter: "+e)}return[2]})})}},DP="default",BP="AWS_PROFILE",UP=function(e,t){t===void 0&&(t={});var r=t.preferredFile,n=r===void 0?"config":r,a=RP(t,["preferredFile"]);return function(){return tm(void 0,void 0,void 0,function(){var i,f,l,v,h,g,_,M,E,A,I;return rm(this,function(O){switch(O.label){case 0:return i=a.loadedConfig,f=i===void 0?yp(a):i,l=a.profile,v=l===void 0?{}[BP]||DP:l,[4,f];case 1:h=O.sent(),g=h.configFile,_=h.credentialsFile,M=_[v]||{},E=g[v]||{},A=n==="config"?Co(Co({},M),E):Co(Co({},E),M);try{if(I=e(A),I===void 0)throw new Error;return[2,I]}catch(T){throw new Qt(T.message||"Cannot load config for profile "+v+" in SDK configuration files with getter: "+e)}return[2]}})})}},FP=function(e){return typeof e=="function"},LP=function(e){return FP(e)?function(){return tm(void 0,void 0,void 0,function(){return rm(this,function(t){return[2,e()]})})}:Qx(e)},B0=function(e,t){var r=e.environmentVariableSelector,n=e.configFileSelector,a=e.default;return t===void 0&&(t={}),w2(b2(NP(r),UP(n,t),LP(a)))};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function qP(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Oa=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,jP)},jP=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};function $P(e){var t,r,n=[];try{for(var a=qP(Object.keys(e).sort()),i=a.next();!i.done;i=a.next()){var f=i.value,l=e[f];if(f=Oa(f),Array.isArray(l))for(var v=0,h=l.length;v<h;v++)n.push(f+"="+Oa(l[v]));else{var g=f;(l||typeof l=="string")&&(g+="="+Oa(l)),n.push(g)}}}catch(_){t={error:_}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return n.join("&")}var U0={exports:{}};(function(e){var t=ru,r=Xt.exports,n=e.exports;for(var a in t)t.hasOwnProperty(a)&&(n[a]=t[a]);n.request=function(f,l){return f=i(f),t.request.call(this,f,l)},n.get=function(f,l){return f=i(f),t.get.call(this,f,l)};function i(f){if(typeof f=="string"&&(f=r.parse(f)),f.protocol||(f.protocol="https:"),f.protocol!=="https:")throw new Error('Protocol "'+f.protocol+'" not supported. Expected "https:"');return f}})(U0);var VP=["ECONNRESET","EPIPE","ETIMEDOUT"];/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var F0=function(e,t){return F0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])},F0(e,t)};function zP(e,t){F0(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function KP(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var HP=function(e){var t,r,n={};try{for(var a=KP(Object.keys(e)),i=a.next();!i.done;i=a.next()){var f=i.value,l=e[f];n[f]=Array.isArray(l)?l.join(","):l}}catch(v){t={error:v}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return n},GP=function(e,t,r){r===void 0&&(r=0),r&&e.on("socket",function(n){if(n.connecting){var a=setTimeout(function(){e.destroy(),t(Object.assign(new Error("Socket timed out without establishing a connection within "+r+" ms"),{name:"TimeoutError"}))},r);n.on("connect",function(){clearTimeout(a)})}})},WP=function(e,t,r){r===void 0&&(r=0),e.setTimeout(r,function(){e.destroy(),t(Object.assign(new Error("Connection timed out after "+r+" ms"),{name:"TimeoutError"}))})};function JP(e,t){var r=t.headers.Expect||t.headers.expect;r==="100-continue"?e.on("continue",function(){Pg(e,t.body)}):Pg(e,t.body)}function Pg(e,t){t instanceof Sp.Readable?t.pipe(e):t?e.end(Ue.Buffer.from(t)):e.end()}var ZP=function(){function e(t){var r=t===void 0?{}:t,n=r.connectionTimeout,a=r.socketTimeout,i=r.httpAgent,f=r.httpsAgent;this.metadata={handlerProtocol:"http/1.1"},this.connectionTimeout=n,this.socketTimeout=a;var l=!0,v=50;this.httpAgent=i||new ru.Agent({keepAlive:l,maxSockets:v}),this.httpsAgent=f||new U0.exports.Agent({keepAlive:l,maxSockets:v})}return e.prototype.destroy=function(){this.httpAgent.destroy(),this.httpsAgent.destroy()},e.prototype.handle=function(t,r){var n=this,a=r===void 0?{}:r,i=a.abortSignal;return new Promise(function(f,l){if(i!=null&&i.aborted){var v=new Error("Request aborted");v.name="AbortError",l(v);return}var h=t.protocol==="https:",g=$P(t.query||{}),_={headers:t.headers,host:t.hostname,method:t.method,path:g?t.path+"?"+g:t.path,port:t.port,agent:h?n.httpsAgent:n.httpAgent},M=h?U0.exports.request:ru.request,E=M(_,function(A){var I=new WO({statusCode:A.statusCode||-1,headers:HP(A.headers),body:A});f({response:I})});E.on("error",function(A){VP.includes(A.code)?l(Object.assign(A,{name:"TimeoutError"})):l(A)}),GP(E,l,n.connectionTimeout),WP(E,l,n.socketTimeout),i&&(i.onabort=function(){E.abort();var A=new Error("Request aborted");A.name="AbortError",l(A)}),JP(E,t)})},e}(),YP=function(e){zP(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.bufferedBytes=[],r}return t.prototype._write=function(r,n,a){this.bufferedBytes.push(r),a()},t}(Sp.Writable),XP=function(e){return new Promise(function(t,r){var n=new YP;e.pipe(n),e.on("error",function(a){n.end(),r(a)}),n.on("error",r),n.on("finish",function(){var a=new Uint8Array(Ue.Buffer.concat(this.bufferedBytes));t(a)})})};function QP(e){var t=bp(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}function ek(e){return Yf(e.buffer,e.byteOffset,e.byteLength).toString("base64")}function tk(e){if(!e)return 0;if(typeof e=="string")return Ue.Buffer.from(e).length;if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.path=="string")return mp.lstatSync(e.path).size}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function rk(e,t,r,n){function a(i){return i instanceof r?i:new r(function(f){f(i)})}return new(r||(r=Promise))(function(i,f){function l(g){try{h(n.next(g))}catch(_){f(_)}}function v(g){try{h(n.throw(g))}catch(_){f(_)}}function h(g){g.done?i(g.value):a(g.value).then(l,v)}h((n=n.apply(e,t||[])).next())})}function nk(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(h){return function(g){return v([h,g])}}function v(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){r.label=h[1];break}if(h[0]===6&&r.label<i[1]){r.label=i[1],i=h;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(h);break}i[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],a=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var ik="AWS_SDK_UA_APP_ID",ak="sdk-ua-app-id",ok=function(e){var t=e.serviceId,r=e.clientVersion;return function(){return rk(void 0,void 0,void 0,function(){var n,a;return nk(this,function(i){switch(i.label){case 0:return n=[["aws-sdk-js",r],["os/"+UA(),BA()],["lang/js"],["md/nodejs",""+ze.exports.versions.node]],t&&n.push(["api/"+t,r]),ze.exports.env.AWS_EXECUTION_ENV&&n.push(["exec-env/"+ze.exports.env.AWS_EXECUTION_ENV]),[4,B0({environmentVariableSelector:function(f){return f[ik]},configFileSelector:function(f){return f[ak]},default:void 0})()];case 1:return a=i.sent(),a&&n.push(["app/"+a]),[2,n]}})})}},sk=function(e){var t=bp(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},uk=function(e){return Yf(e.buffer,e.byteOffset,e.byteLength).toString("utf8")};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function fk(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ck(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],f;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){f={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(f)throw f.error}}return i}function lk(e){var t,r,n={};if(e=e.replace(/^\?/,""),e)try{for(var a=fk(e.split("&")),i=a.next();!i.done;i=a.next()){var f=i.value,l=ck(f.split("="),2),v=l[0],h=l[1],g=h===void 0?null:h;v=decodeURIComponent(v),g&&(g=decodeURIComponent(g)),v in n?Array.isArray(n[v])?n[v].push(g):n[v]=[n[v],g]:n[v]=g}}catch(_){t={error:_}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return n}var hk=function(e){var t=new URL(e),r=t.hostname,n=t.pathname,a=t.port,i=t.protocol,f=t.search,l;return f&&(l=lk(f)),{hostname:r,port:a?parseInt(a):void 0,protocol:i,path:n,query:l}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Oo=function(){return Oo=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Oo.apply(this,arguments)};function dk(e,t,r,n){function a(i){return i instanceof r?i:new r(function(f){f(i)})}return new(r||(r=Promise))(function(i,f){function l(g){try{h(n.next(g))}catch(_){f(_)}}function v(g){try{h(n.throw(g))}catch(_){f(_)}}function h(g){g.done?i(g.value):a(g.value).then(l,v)}h((n=n.apply(e,t||[])).next())})}function vk(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(h){return function(g){return v([h,g])}}function v(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){r.label=h[1];break}if(h[0]===6&&r.label<i[1]){r.label=i[1],i=h;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(h);break}i[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],a=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var kg="content-length";function pk(e){var t=this;return function(r){return function(n){return dk(t,void 0,void 0,function(){var a,i,f,l,v;return vk(this,function(h){return a=n.request,fs.isInstance(a)&&(i=a.body,f=a.headers,i&&Object.keys(f).map(function(g){return g.toLowerCase()}).indexOf(kg)===-1&&(l=e(i),l!==void 0&&(a.headers=Oo(Oo({},a.headers),(v={},v[kg]=String(l),v))))),[2,r(Oo(Oo({},n),{request:a}))]})})}}}var mk={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},yk=function(e){return{applyToStack:function(t){t.add(pk(e.bodyLengthChecker),mk)}}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function gk(e,t,r,n){function a(i){return i instanceof r?i:new r(function(f){f(i)})}return new(r||(r=Promise))(function(i,f){function l(g){try{h(n.next(g))}catch(_){f(_)}}function v(g){try{h(n.throw(g))}catch(_){f(_)}}function h(g){g.done?i(g.value):a(g.value).then(l,v)}h((n=n.apply(e,t||[])).next())})}function bk(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(h){return function(g){return v([h,g])}}function v(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){r.label=h[1];break}if(h[0]===6&&r.label<i[1]){r.label=i[1],i=h;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(h);break}i[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],a=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var wk=function(e){return function(t){return function(r){return gk(void 0,void 0,void 0,function(){var n,a,i;return bk(this,function(f){return fs.isInstance(r.request)?(n=r.request,a=(e.requestHandler.metadata||{}).handlerProtocol,i=a===void 0?"":a,i.indexOf("h2")>=0&&!n.headers[":authority"]?(delete n.headers.host,n.headers[":authority"]=""):n.headers.host||(n.headers.host=n.hostname),[2,t(r)]):[2,t(r)]})})}}},_k={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Sk=function(e){return{applyToStack:function(t){t.add(wk(e),_k)}}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Mk(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function xk(e,t,r,n){function a(i){return i instanceof r?i:new r(function(f){f(i)})}return new(r||(r=Promise))(function(i,f){function l(g){try{h(n.next(g))}catch(_){f(_)}}function v(g){try{h(n.throw(g))}catch(_){f(_)}}function h(g){g.done?i(g.value):a(g.value).then(l,v)}h((n=n.apply(e,t||[])).next())})}function Ek(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(h){return function(g){return v([h,g])}}function v(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){r.label=h[1];break}if(h[0]===6&&r.label<i[1]){r.label=i[1],i=h;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(h);break}i[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],a=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var Ak=function(){return function(e,t){return function(r){return xk(void 0,void 0,void 0,function(){var n,a,i,f,l,v,h,g,_;return Ek(this,function(M){switch(M.label){case 0:return n=t.clientName,a=t.commandName,i=t.inputFilterSensitiveLog,f=t.logger,l=t.outputFilterSensitiveLog,[4,e(r)];case 1:return v=M.sent(),f?(typeof f.info=="function"&&(h=v.output,g=h.$metadata,_=Mk(h,["$metadata"]),f.info({clientName:n,commandName:a,input:i(r.input),output:l(_),metadata:g})),[2,v]):[2,v]}})})}}},Ik={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Tk=function(e){return{applyToStack:function(t){t.add(Ak(),Ik)}}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sc=function(){return sc=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},sc.apply(this,arguments)};function Ck(e,t,r,n){function a(i){return i instanceof r?i:new r(function(f){f(i)})}return new(r||(r=Promise))(function(i,f){function l(g){try{h(n.next(g))}catch(_){f(_)}}function v(g){try{h(n.throw(g))}catch(_){f(_)}}function h(g){g.done?i(g.value):a(g.value).then(l,v)}h((n=n.apply(e,t||[])).next())})}function Ok(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(h){return function(g){return v([h,g])}}function v(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){r.label=h[1];break}if(h[0]===6&&r.label<i[1]){r.label=i[1],i=h;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(h);break}i[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],a=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Pk(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],f;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){f={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(f)throw f.error}}return i}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Pi=function(){return Pi=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Pi.apply(this,arguments)};function kk(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function wi(e,t,r,n){function a(i){return i instanceof r?i:new r(function(f){f(i)})}return new(r||(r=Promise))(function(i,f){function l(g){try{h(n.next(g))}catch(_){f(_)}}function v(g){try{h(n.throw(g))}catch(_){f(_)}}function h(g){g.done?i(g.value):a(g.value).then(l,v)}h((n=n.apply(e,t||[])).next())})}function _i(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(h){return function(g){return v([h,g])}}function v(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){r.label=h[1];break}if(h[0]===6&&r.label<i[1]){r.label=i[1],i=h;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(h);break}i[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],a=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function fo(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Rk(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],f;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){f={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(f)throw f.error}}return i}function Nk(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Rk(arguments[t]));return e}var Dk="X-Amz-Algorithm",Bk="X-Amz-Credential",RS="X-Amz-Date",Uk="X-Amz-SignedHeaders",Fk="X-Amz-Expires",NS="X-Amz-Signature",DS="X-Amz-Security-Token",BS="authorization",US=RS.toLowerCase(),Lk="date",qk=[BS,US,Lk],jk=NS.toLowerCase(),L0="x-amz-content-sha256",$k=DS.toLowerCase(),Vk={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},zk=/^proxy-/,Kk=/^sec-/,zh="AWS4-HMAC-SHA256",Hk="AWS4-HMAC-SHA256-PAYLOAD",Gk="UNSIGNED-PAYLOAD",Wk=50,FS="aws4_request",Jk=60*60*24*7,Wu={},Kh=[];function Hh(e,t,r){return e+"/"+t+"/"+r+"/"+FS}var Zk=function(e,t,r,n,a){return wi(void 0,void 0,void 0,function(){var i,f,l,v,h,g,_,M,E;return _i(this,function(A){switch(A.label){case 0:return[4,Rg(e,t.secretAccessKey,t.accessKeyId)];case 1:if(i=A.sent(),f=r+":"+n+":"+a+":"+Xi(i)+":"+t.sessionToken,f in Wu)return[2,Wu[f]];for(Kh.push(f);Kh.length>Wk;)delete Wu[Kh.shift()];l="AWS4"+t.secretAccessKey,A.label=2;case 2:A.trys.push([2,7,8,9]),v=fo([r,n,a,FS]),h=v.next(),A.label=3;case 3:return h.done?[3,6]:(g=h.value,[4,Rg(e,l,g)]);case 4:l=A.sent(),A.label=5;case 5:return h=v.next(),[3,3];case 6:return[3,9];case 7:return _=A.sent(),M={error:_},[3,9];case 8:try{h&&!h.done&&(E=v.return)&&E.call(v)}finally{if(M)throw M.error}return[7];case 9:return[2,Wu[f]=l]}})})};function Rg(e,t,r){var n=new e(t);return n.update(r),n.digest()}function Ng(e,t,r){var n,a,i=e.headers,f={};try{for(var l=fo(Object.keys(i).sort()),v=l.next();!v.done;v=l.next()){var h=v.value,g=h.toLowerCase();(g in Vk||(t==null?void 0:t.has(g))||zk.test(g)||Kk.test(g))&&(!r||r&&!r.has(g))||(f[g]=i[h].trim().replace(/\s+/g," "))}}catch(_){n={error:_}}finally{try{v&&!v.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}return f}function Yk(e){var t,r,n=e.query,a=n===void 0?{}:n,i=[],f={},l=function(_){if(_.toLowerCase()===jk)return"continue";i.push(_);var M=a[_];typeof M=="string"?f[_]=Oa(_)+"="+Oa(M):Array.isArray(M)&&(f[_]=M.slice(0).sort().reduce(function(E,A){return E.concat([Oa(_)+"="+Oa(A)])},[]).join("&"))};try{for(var v=fo(Object.keys(a).sort()),h=v.next();!h.done;h=v.next()){var g=h.value;l(g)}}catch(_){t={error:_}}finally{try{h&&!h.done&&(r=v.return)&&r.call(v)}finally{if(t)throw t.error}}return i.map(function(_){return f[_]}).filter(function(_){return _}).join("&")}function Gh(e,t){var r=e.headers,n=e.body;return wi(this,void 0,void 0,function(){var a,i,f,l,v,h,g;return _i(this,function(_){switch(_.label){case 0:try{for(a=fo(Object.keys(r)),i=a.next();!i.done;i=a.next())if(f=i.value,f.toLowerCase()===L0)return[2,r[f]]}catch(M){h={error:M}}finally{try{i&&!i.done&&(g=a.return)&&g.call(a)}finally{if(h)throw h.error}}return n!=null?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return typeof n=="string"||ArrayBuffer.isView(n)||w3(n)?(l=new t,l.update(n),v=Xi,[4,l.digest()]):[3,3];case 2:return[2,v.apply(void 0,[_.sent()])];case 3:return[2,Gk]}})})}function Xk(e,t){var r,n;e=e.toLowerCase();try{for(var a=fo(Object.keys(t)),i=a.next();!i.done;i=a.next()){var f=i.value;if(e===f.toLowerCase())return!0}}catch(l){r={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return!1}function LS(e){var t=e.headers,r=e.query,n=kk(e,["headers","query"]);return Pi(Pi({},n),{headers:Pi({},t),query:r?Qk(r):void 0})}function Qk(e){return Object.keys(e).reduce(function(t,r){var n,a=e[r];return Pi(Pi({},t),(n={},n[r]=Array.isArray(a)?Nk(a):a,n))},{})}function eR(e,t){var r,n,a;t===void 0&&(t={});var i=typeof e.clone=="function"?e.clone():LS(e),f=i.headers,l=i.query,v=l===void 0?{}:l;try{for(var h=fo(Object.keys(f)),g=h.next();!g.done;g=h.next()){var _=g.value,M=_.toLowerCase();M.substr(0,6)==="x-amz-"&&!(!((a=t.unhoistableHeaders)===null||a===void 0)&&a.has(M))&&(v[_]=f[_],delete f[_])}}catch(E){r={error:E}}finally{try{g&&!g.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}return Pi(Pi({},e),{headers:f,query:v})}function Dg(e){var t,r;e=typeof e.clone=="function"?e.clone():LS(e);try{for(var n=fo(Object.keys(e.headers)),a=n.next();!a.done;a=n.next()){var i=a.value;qk.indexOf(i.toLowerCase())>-1&&delete e.headers[i]}}catch(f){t={error:f}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return e}function tR(e){return rR(e).toISOString().replace(/\.\d{3}Z$/,"Z")}function rR(e){return typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e}var nR=function(){function e(t){var r=t.applyChecksum,n=t.credentials,a=t.region,i=t.service,f=t.sha256,l=t.uriEscapePath,v=l===void 0?!0:l;this.service=i,this.sha256=f,this.uriEscapePath=v,this.applyChecksum=typeof r=="boolean"?r:!0,this.regionProvider=iR(a),this.credentialProvider=aR(n)}return e.prototype.presign=function(t,r){return r===void 0&&(r={}),wi(this,void 0,void 0,function(){var n,a,i,f,l,v,h,g,_,M,E,A,I,O,T,P,k,R,D,V,q,$,F,z;return _i(this,function(b){switch(b.label){case 0:return n=r.signingDate,a=n===void 0?new Date:n,i=r.expiresIn,f=i===void 0?3600:i,l=r.unsignableHeaders,v=r.unhoistableHeaders,h=r.signableHeaders,g=r.signingRegion,_=r.signingService,[4,this.credentialProvider()];case 1:return M=b.sent(),g==null?[3,2]:(A=g,[3,4]);case 2:return[4,this.regionProvider()];case 3:A=b.sent(),b.label=4;case 4:return E=A,I=Ju(a),O=I.longDate,T=I.shortDate,f>Jk?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(P=Hh(T,E,_!=null?_:this.service),k=eR(Dg(t),{unhoistableHeaders:v}),M.sessionToken&&(k.query[DS]=M.sessionToken),k.query[Dk]=zh,k.query[Bk]=M.accessKeyId+"/"+P,k.query[RS]=O,k.query[Fk]=f.toString(10),R=Ng(k,l,h),k.query[Uk]=Bg(R),D=k.query,V=NS,q=this.getSignature,$=[O,P,this.getSigningKey(M,E,T,_)],F=this.createCanonicalRequest,z=[k,R],[4,Gh(t,this.sha256)]);case 5:return[4,q.apply(this,$.concat([F.apply(this,z.concat([b.sent()]))]))];case 6:return D[V]=b.sent(),[2,k]}})})},e.prototype.sign=function(t,r){return wi(this,void 0,void 0,function(){return _i(this,function(n){return typeof t=="string"?[2,this.signString(t,r)]:t.headers&&t.payload?[2,this.signEvent(t,r)]:[2,this.signRequest(t,r)]})})},e.prototype.signEvent=function(t,r){var n=t.headers,a=t.payload,i=r.signingDate,f=i===void 0?new Date:i,l=r.priorSignature,v=r.signingRegion,h=r.signingService;return wi(this,void 0,void 0,function(){var g,_,M,E,A,I,O,T,P,k,R;return _i(this,function(D){switch(D.label){case 0:return v==null?[3,1]:(_=v,[3,3]);case 1:return[4,this.regionProvider()];case 2:_=D.sent(),D.label=3;case 3:return g=_,M=Ju(f),E=M.shortDate,A=M.longDate,I=Hh(E,g,h!=null?h:this.service),[4,Gh({headers:{},body:a},this.sha256)];case 4:return O=D.sent(),T=new this.sha256,T.update(n),k=Xi,[4,T.digest()];case 5:return P=k.apply(void 0,[D.sent()]),R=[Hk,A,I,l,P,O].join(`
`),[2,this.signString(R,{signingDate:f,signingRegion:g,signingService:h})]}})})},e.prototype.signString=function(t,r){var n=r===void 0?{}:r,a=n.signingDate,i=a===void 0?new Date:a,f=n.signingRegion,l=n.signingService;return wi(this,void 0,void 0,function(){var v,h,g,_,M,E,A,I;return _i(this,function(O){switch(O.label){case 0:return[4,this.credentialProvider()];case 1:return v=O.sent(),f==null?[3,2]:(g=f,[3,4]);case 2:return[4,this.regionProvider()];case 3:g=O.sent(),O.label=4;case 4:return h=g,_=Ju(i).shortDate,A=(E=this.sha256).bind,[4,this.getSigningKey(v,h,_,l)];case 5:return M=new(A.apply(E,[void 0,O.sent()])),M.update(t),I=Xi,[4,M.digest()];case 6:return[2,I.apply(void 0,[O.sent()])]}})})},e.prototype.signRequest=function(t,r){var n=r===void 0?{}:r,a=n.signingDate,i=a===void 0?new Date:a,f=n.signableHeaders,l=n.unsignableHeaders,v=n.signingRegion,h=n.signingService;return wi(this,void 0,void 0,function(){var g,_,M,E,A,I,O,T,P,k,R;return _i(this,function(D){switch(D.label){case 0:return[4,this.credentialProvider()];case 1:return g=D.sent(),v==null?[3,2]:(M=v,[3,4]);case 2:return[4,this.regionProvider()];case 3:M=D.sent(),D.label=4;case 4:return _=M,E=Dg(t),A=Ju(i),I=A.longDate,O=A.shortDate,T=Hh(O,_,h!=null?h:this.service),E.headers[US]=I,g.sessionToken&&(E.headers[$k]=g.sessionToken),[4,Gh(E,this.sha256)];case 5:return P=D.sent(),!Xk(L0,E.headers)&&this.applyChecksum&&(E.headers[L0]=P),k=Ng(E,l,f),[4,this.getSignature(I,T,this.getSigningKey(g,_,O,h),this.createCanonicalRequest(E,k,P))];case 6:return R=D.sent(),E.headers[BS]=zh+" "+("Credential="+g.accessKeyId+"/"+T+", ")+("SignedHeaders="+Bg(k)+", ")+("Signature="+R),[2,E]}})})},e.prototype.createCanonicalRequest=function(t,r,n){var a=Object.keys(r).sort();return t.method+`
`+this.getCanonicalPath(t)+`
`+Yk(t)+`
`+a.map(function(i){return i+":"+r[i]}).join(`
`)+`

`+a.join(";")+`
`+n},e.prototype.createStringToSign=function(t,r,n){return wi(this,void 0,void 0,function(){var a,i;return _i(this,function(f){switch(f.label){case 0:return a=new this.sha256,a.update(n),[4,a.digest()];case 1:return i=f.sent(),[2,zh+`
`+t+`
`+r+`
`+Xi(i)]}})})},e.prototype.getCanonicalPath=function(t){var r=t.path;if(this.uriEscapePath){var n=encodeURIComponent(r.replace(/^\//,""));return"/"+n.replace(/%2F/g,"/")}return r},e.prototype.getSignature=function(t,r,n,a){return wi(this,void 0,void 0,function(){var i,f,l,v,h;return _i(this,function(g){switch(g.label){case 0:return[4,this.createStringToSign(t,r,a)];case 1:return i=g.sent(),v=(l=this.sha256).bind,[4,n];case 2:return f=new(v.apply(l,[void 0,g.sent()])),f.update(i),h=Xi,[4,f.digest()];case 3:return[2,h.apply(void 0,[g.sent()])]}})})},e.prototype.getSigningKey=function(t,r,n,a){return Zk(this.sha256,t,n,r,a||this.service)},e}(),Ju=function(e){var t=tR(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.substr(0,8)}},Bg=function(e){return Object.keys(e).sort().join(";")},iR=function(e){if(typeof e=="string"){var t=Promise.resolve(e);return function(){return t}}else return e},aR=function(e){if(typeof e=="object"){var t=Promise.resolve(e);return function(){return t}}else return e};function oR(e){var t=this,r=e.credentials||e.credentialDefaultProvider(e),n=Wh(r),a=e.signingEscapePath,i=a===void 0?!0:a,f=e.systemClockOffset,l=f===void 0?e.systemClockOffset||0:f,v=e.sha256,h;return e.signer?h=Wh(e.signer):h=function(){return Wh(e.region)().then(function(g){return Ck(t,void 0,void 0,function(){return Ok(this,function(_){switch(_.label){case 0:return[4,e.regionInfoProvider(g)];case 1:return[2,[_.sent()||{},g]]}})})}).then(function(g){var _=Pk(g,2),M=_[0],E=_[1],A=M.signingRegion,I=M.signingService;return e.signingRegion=e.signingRegion||A||E,e.signingName=e.signingName||I||e.serviceId,new nR({credentials:n,region:e.signingRegion,service:e.signingName,sha256:v,uriEscapePath:i})})},sc(sc({},e),{systemClockOffset:l,signingEscapePath:i,credentials:n,signer:h})}function Wh(e){if(typeof e=="object"){var t=Promise.resolve(e);return function(){return t}}return e}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var cs=function(){return cs=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},cs.apply(this,arguments)};function sR(e,t,r,n){function a(i){return i instanceof r?i:new r(function(f){f(i)})}return new(r||(r=Promise))(function(i,f){function l(g){try{h(n.next(g))}catch(_){f(_)}}function v(g){try{h(n.throw(g))}catch(_){f(_)}}function h(g){g.done?i(g.value):a(g.value).then(l,v)}h((n=n.apply(e,t||[])).next())})}function uR(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(h){return function(g){return v([h,g])}}function v(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){r.label=h[1];break}if(h[0]===6&&r.label<i[1]){r.label=i[1],i=h;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(h);break}i[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],a=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function qS(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],f;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){f={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(f)throw f.error}}return i}function Ug(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(qS(arguments[t]));return e}function fR(e){return cs(cs({},e),{customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent})}var Jh="user-agent",cR="x-amz-user-agent",Fg=" ",lR=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,hR=function(e){return function(t,r){return function(n){return sR(void 0,void 0,void 0,function(){var a,i,f,l,v,h,g,_;return uR(this,function(M){switch(M.label){case 0:return a=n.request,fs.isInstance(a)?(i=a.headers,f=((g=r==null?void 0:r.userAgent)===null||g===void 0?void 0:g.map(Zh))||[],[4,e.defaultUserAgentProvider()]):[2,t(n)];case 1:return l=M.sent().map(Zh),v=((_=e==null?void 0:e.customUserAgent)===null||_===void 0?void 0:_.map(Zh))||[],i[cR]=Ug(l,f,v).join(Fg),h=Ug(l.filter(function(E){return E.startsWith("aws-sdk-")}),v).join(Fg),e.runtime!=="browser"&&h&&(i[Jh]=i[Jh]?i[Jh]+" "+h:h),[2,t(cs(cs({},n),{request:a}))]}})})}}},Zh=function(e){var t=qS(e,2),r=t[0],n=t[1],a=r.indexOf("/"),i=r.substring(0,a),f=r.substring(a+1);return i==="api"&&(f=f.toLowerCase()),[i,f,n].filter(function(l){return l&&l.length>0}).map(function(l){return l==null?void 0:l.replace(lR,"_")}).join("/")},dR={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},vR=function(e){return{applyToStack:function(t){t.add(hR(e),dR)}}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Hn=function(){return Hn=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Hn.apply(this,arguments)};function pR(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function mR(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],f;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){f={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(f)throw f.error}}return i}function Yh(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(mR(arguments[t]));return e}var uc=function(){var e=[],t=[],r=new Set,n=function(g){return g.sort(function(_,M){return Lg[M.step]-Lg[_.step]||qg[M.priority||"normal"]-qg[_.priority||"normal"]})},a=function(g){var _=!1,M=function(E){return E.name&&E.name===g?(_=!0,r.delete(g),!1):!0};return e=e.filter(M),t=t.filter(M),_},i=function(g){var _=!1,M=function(E){return E.middleware===g?(_=!0,E.name&&r.delete(E.name),!1):!0};return e=e.filter(M),t=t.filter(M),_},f=function(g){return e.forEach(function(_){g.add(_.middleware,Hn({},_))}),t.forEach(function(_){g.addRelativeTo(_.middleware,Hn({},_))}),g},l=function(g){var _=[];return g.before.forEach(function(M){M.before.length===0&&M.after.length===0?_.push(M):_.push.apply(_,Yh(l(M)))}),_.push(g),g.after.reverse().forEach(function(M){M.before.length===0&&M.after.length===0?_.push(M):_.push.apply(_,Yh(l(M)))}),_},v=function(){var g=[],_=[],M={};e.forEach(function(A){var I=Hn(Hn({},A),{before:[],after:[]});I.name&&(M[I.name]=I),g.push(I)}),t.forEach(function(A){var I=Hn(Hn({},A),{before:[],after:[]});I.name&&(M[I.name]=I),_.push(I)}),_.forEach(function(A){if(A.toMiddleware){var I=M[A.toMiddleware];if(I===void 0)throw new Error(A.toMiddleware+" is not found when adding "+(A.name||"anonymous")+" middleware "+A.relation+" "+A.toMiddleware);A.relation==="after"&&I.after.push(A),A.relation==="before"&&I.before.push(A)}});var E=n(g).map(l).reduce(function(A,I){return A.push.apply(A,Yh(I)),A},[]);return E.map(function(A){return A.middleware})},h={add:function(g,_){_===void 0&&(_={});var M=_.name,E=_.override,A=Hn({step:"initialize",priority:"normal",middleware:g},_);if(M){if(r.has(M)){if(!E)throw new Error("Duplicate middleware name '"+M+"'");var I=e.findIndex(function(T){return T.name===M}),O=e[I];if(O.step!==A.step||O.priority!==A.priority)throw new Error('"'+M+'" middleware with '+O.priority+" priority in "+O.step+" step cannot be "+("overridden by same-name middleware with "+A.priority+" priority in "+A.step+" step."));e.splice(I,1)}r.add(M)}e.push(A)},addRelativeTo:function(g,_){var M=_.name,E=_.override,A=Hn({middleware:g},_);if(M){if(r.has(M)){if(!E)throw new Error("Duplicate middleware name '"+M+"'");var I=t.findIndex(function(T){return T.name===M}),O=t[I];if(O.toMiddleware!==A.toMiddleware||O.relation!==A.relation)throw new Error('"'+M+'" middleware '+O.relation+' "'+O.toMiddleware+'" middleware cannot be overridden '+("by same-name middleware "+A.relation+' "'+A.toMiddleware+'" middleware.'));t.splice(I,1)}r.add(M)}t.push(A)},clone:function(){return f(uc())},use:function(g){g.applyToStack(h)},remove:function(g){return typeof g=="string"?a(g):i(g)},removeByTag:function(g){var _=!1,M=function(E){var A=E.tags,I=E.name;return A&&A.includes(g)?(I&&r.delete(I),_=!0,!1):!0};return e=e.filter(M),t=t.filter(M),_},concat:function(g){var _=f(uc());return _.use(g),_},applyToStack:f,resolve:function(g,_){var M,E;try{for(var A=pR(v().reverse()),I=A.next();!I.done;I=A.next()){var O=I.value;g=O(g,_)}}catch(T){M={error:T}}finally{try{I&&!I.done&&(E=A.return)&&E.call(A)}finally{if(M)throw M.error}}return g}};return h},Lg={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},qg={high:3,normal:2,low:1},yR=function(){function e(t){this.middlewareStack=uc(),this.config=t}return e.prototype.send=function(t,r,n){var a=typeof r!="function"?r:void 0,i=typeof r=="function"?r:n,f=t.resolveMiddleware(this.middlewareStack,this.config,a);if(i)f(t).then(function(l){return i(null,l.output)},function(l){return i(l)}).catch(function(){});else return f(t).then(function(l){return l.output})},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),jS=function(){function e(){this.middlewareStack=uc()}return e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var q0=function(e,t){return q0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])},q0(e,t)};function gR(e,t){q0(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function bR(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],f;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){f={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(f)throw f.error}}return i}function wR(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(bR(arguments[t]));return e}var fc=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,wR([null],arguments)),r=new t;return Object.setPrototypeOf(r,e.prototype),r};fc.prototype=Object.create(String.prototype,{constructor:{value:fc,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(fc,String);(function(e){gR(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(r){return r instanceof t?r:r instanceof String||typeof r=="string"?new t(r):new t(JSON.stringify(r))},t})(fc);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var cc=function(){return cc=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},cc.apply(this,arguments)};function $S(e,t,r,n){function a(i){return i instanceof r?i:new r(function(f){f(i)})}return new(r||(r=Promise))(function(i,f){function l(g){try{h(n.next(g))}catch(_){f(_)}}function v(g){try{h(n.throw(g))}catch(_){f(_)}}function h(g){g.done?i(g.value):a(g.value).then(l,v)}h((n=n.apply(e,t||[])).next())})}function VS(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(h){return function(g){return v([h,g])}}function v(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){r.label=h[1];break}if(h[0]===6&&r.label<i[1]){r.label=i[1],i=h;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(h);break}i[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],a=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var _R=function(e,t){return function(r,n){return function(a){return $S(void 0,void 0,void 0,function(){var i,f;return VS(this,function(l){switch(l.label){case 0:return[4,r(a)];case 1:return i=l.sent().response,[4,t(i,e)];case 2:return f=l.sent(),[2,{response:i,output:f}]}})})}}},SR=function(e,t){return function(r,n){return function(a){return $S(void 0,void 0,void 0,function(){var i;return VS(this,function(f){switch(f.label){case 0:return[4,t(a.input,e)];case 1:return i=f.sent(),[2,r(cc(cc({},a),{request:i}))]}})})}}},MR={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},xR={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function zS(e,t,r){return{applyToStack:function(n){n.add(_R(e,r),MR),n.add(SR(e,t),xR)}}}var Ji=new wt("CognitoCredentials"),ER=new Promise(function(e,t){if(!Kr().isBrowser)return Ji.debug("not in the browser, directly resolved"),e();var r=window.gapi&&window.gapi.auth2?window.gapi.auth2:null;if(r)return Ji.debug("google api already loaded"),e();setTimeout(function(){return e()},2e3)}),AR=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return tr(this,void 0,void 0,function(){return Yt(this,function(t){switch(t.label){case 0:return this.initialized?[3,2]:(Ji.debug("need to wait for the Google SDK loaded"),[4,ER]);case 1:t.sent(),this.initialized=!0,Ji.debug("finish waiting"),t.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}})})},e.prototype._refreshGoogleTokenImpl=function(){var t=null;return Kr().isBrowser&&(t=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),t?new Promise(function(r,n){t.getAuthInstance().then(function(a){a||(Ji.debug("google Auth undefined"),n(new zr("google Auth undefined")));var i=a.currentUser.get();i.isSignedIn()?(Ji.debug("refreshing the google access token"),i.reloadAuthResponse().then(function(f){var l=f.id_token,v=f.expires_at;r({token:l,expires_at:v})}).catch(function(f){f&&f.error==="network_error"?n("Network error reloading google auth response"):n(new zr("Failed to reload google auth response"))})):n(new zr("User is not signed in with Google"))}).catch(function(a){Ji.debug("Failed to refresh google token",a),n(new zr("Failed to refresh google token"))})}):(Ji.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}(),xa=new wt("CognitoCredentials"),IR=new Promise(function(e,t){if(!Kr().isBrowser)return xa.debug("not in the browser, directly resolved"),e();var r=window.FB;if(r)return xa.debug("FB SDK already loaded"),e();setTimeout(function(){return e()},2e3)}),TR=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return tr(this,void 0,void 0,function(){return Yt(this,function(t){switch(t.label){case 0:return this.initialized?[3,2]:(xa.debug("need to wait for the Facebook SDK loaded"),[4,IR]);case 1:t.sent(),this.initialized=!0,xa.debug("finish waiting"),t.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}})})},e.prototype._refreshFacebookTokenImpl=function(){var t=null;if(Kr().isBrowser&&(t=window.FB),!t){var r="no fb sdk available";return xa.debug(r),Promise.reject(new zr(r))}return new Promise(function(n,a){t.getLoginStatus(function(i){if(!i||!i.authResponse){var f="no response from facebook when refreshing the jwt token";xa.debug(f),a(new zr(f))}else{var l=i.authResponse,v=l.accessToken,h=l.expiresIn,g=new Date,_=h*1e3+g.getTime();if(!v){var f="the jwtToken is undefined";xa.debug(f),a(new zr(f))}n({token:v,expires_at:_})}},{scope:"public_profile,email"})})},e}(),CR=new AR,OR=new TR,ga={},PR=function(){function e(){}return e.setItem=function(t,r){return ga[t]=r,ga[t]},e.getItem=function(t){return Object.prototype.hasOwnProperty.call(ga,t)?ga[t]:void 0},e.removeItem=function(t){return delete ga[t]},e.clear=function(){return ga={},ga},e}(),nm=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch{this.storageWindow=PR}}return e.prototype.getStorage=function(){return this.storageWindow},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function j0(e,t,r,n){function a(i){return i instanceof r?i:new r(function(f){f(i)})}return new(r||(r=Promise))(function(i,f){function l(g){try{h(n.next(g))}catch(_){f(_)}}function v(g){try{h(n.throw(g))}catch(_){f(_)}}function h(g){g.done?i(g.value):a(g.value).then(l,v)}h((n=n.apply(e,t||[])).next())})}function $0(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(h){return function(g){return v([h,g])}}function v(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){r.label=h[1];break}if(h[0]===6&&r.label<i[1]){r.label=i[1],i=h;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(h);break}i[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],a=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function kR(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],f;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){f={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(f)throw f.error}}return i}const RR="@aws-sdk/client-cognito-identity",NR="AWS SDK for JavaScript Cognito Identity Client for Node.js, Browser and React Native",DR="3.6.1",BR={clean:"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./",prepublishOnly:"yarn build",pretest:"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs","test:unit":"mocha **/cjs/**/*.spec.js","test:e2e":"mocha **/cjs/**/*.ispec.js && karma start karma.conf.js",test:"yarn test:unit","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json",build:"yarn build:cjs && yarn build:es",postbuild:"downlevel-dts types types/ts3.4"},UR="./dist/cjs/index.js",FR="./types/index.d.ts",LR="./dist/es/index.js",qR={"./runtimeConfig":"./runtimeConfig.browser"},jR=!1,$R={"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1",tslib:"^2.0.0"},VR={"@aws-sdk/client-documentation-generator":"3.6.1","@aws-sdk/client-iam":"3.6.1","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^12.7.5","downlevel-dts":"0.7.0",jest:"^26.1.0",rimraf:"^3.0.0",typedoc:"^0.19.2",typescript:"~4.1.2"},zR={node:">=10.0.0"},KR={"<4.0":{"types/*":["types/ts3.4/*"]}},HR={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},GR="Apache-2.0",WR="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cognito-identity",JR={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cognito-identity"},ZR={name:RR,description:NR,version:DR,scripts:BR,main:UR,types:FR,module:LR,browser:qR,"react-native":{"./runtimeConfig":"./runtimeConfig.native"},sideEffects:jR,dependencies:$R,devDependencies:VR,engines:zR,typesVersions:KR,author:HR,license:GR,homepage:WR,repository:JR};var jg="cognito-identity.{region}.amazonaws.com",YR="cognito-identity.{region}.amazonaws.com.cn",XR="cognito-identity.{region}.c2s.ic.gov",QR="cognito-identity.{region}.sc2s.sgov.gov",eN="cognito-identity.{region}.amazonaws.com",tN=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),rN=new Set(["cn-north-1","cn-northwest-1"]),nN=new Set(["us-iso-east-1"]),iN=new Set(["us-isob-east-1"]),aN=new Set(["us-gov-east-1","us-gov-west-1"]),oN=function(e,t){var r=void 0;switch(e){case"ap-northeast-1":r={hostname:"cognito-identity.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":r={hostname:"cognito-identity.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":r={hostname:"cognito-identity.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":r={hostname:"cognito-identity.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":r={hostname:"cognito-identity.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":r={hostname:"cognito-identity.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":r={hostname:"cognito-identity.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":r={hostname:"cognito-identity.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":r={hostname:"cognito-identity.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":r={hostname:"cognito-identity.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":r={hostname:"cognito-identity.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":r={hostname:"cognito-identity.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":r={hostname:"cognito-identity-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":r={hostname:"cognito-identity-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-gov-west-1":r={hostname:"cognito-identity-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-2":r={hostname:"cognito-identity-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"sa-east-1":r={hostname:"cognito-identity.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":r={hostname:"cognito-identity.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":r={hostname:"cognito-identity.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-west-1":r={hostname:"cognito-identity.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-west-1":r={hostname:"cognito-identity.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":r={hostname:"cognito-identity.us-west-2.amazonaws.com",partition:"aws"};break;default:tN.has(e)&&(r={hostname:jg.replace("{region}",e),partition:"aws"}),rN.has(e)&&(r={hostname:YR.replace("{region}",e),partition:"aws-cn"}),nN.has(e)&&(r={hostname:XR.replace("{region}",e),partition:"aws-iso"}),iN.has(e)&&(r={hostname:QR.replace("{region}",e),partition:"aws-iso-b"}),aN.has(e)&&(r={hostname:eN.replace("{region}",e),partition:"aws-us-gov"}),r===void 0&&(r={hostname:jg.replace("{region}",e),partition:"aws"})}return Promise.resolve(pe({signingService:"cognito-identity"},r))},$g={apiVersion:"2014-06-30",disableHostPrefix:!1,logger:{},regionInfoProvider:oN,serviceId:"Cognito Identity",urlParser:hk},sN=pe(pe({},$g),{runtime:"node",base64Decoder:QP,base64Encoder:ek,bodyLengthChecker:tk,credentialDefaultProvider:XA,defaultUserAgentProvider:ok({serviceId:$g.serviceId,clientVersion:ZR.version}),maxAttempts:B0(OP),region:B0(Vx,zx),requestHandler:new ZP,sha256:$O.bind(null,"sha256"),streamCollector:XP,utf8Decoder:sk,utf8Encoder:uk}),uN=function(e){ys(t,e);function t(r){var n=this,a=pe(pe({},sN),r),i=Kx(a),f=Fx(i),l=oR(f),v=PP(l),h=v,g=fR(h);return n=e.call(this,g)||this,n.config=g,n.middlewareStack.use(GO(n.config)),n.middlewareStack.use(yk(n.config)),n.middlewareStack.use(Sk(n.config)),n.middlewareStack.use(Tk(n.config)),n.middlewareStack.use(vR(n.config)),n}return t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(yR),Vg;(function(e){e.AUTHENTICATED_ROLE="AuthenticatedRole",e.DENY="Deny"})(Vg||(Vg={}));var zg;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(zg||(zg={}));var Kg;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(Kg||(Kg={}));var Hg;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(Hg||(Hg={}));var Gg;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(Gg||(Gg={}));var Wg;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(Wg||(Wg={}));var Jg;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(Jg||(Jg={}));var Zg;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(Zg||(Zg={}));var Yg;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(Yg||(Yg={}));var Xg;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(Xg||(Xg={}));var Qg;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(Qg||(Qg={}));var e1;(function(e){e.ACCESS_DENIED="AccessDenied",e.INTERNAL_SERVER_ERROR="InternalServerError"})(e1||(e1={}));var t1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(t1||(t1={}));var r1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(r1||(r1={}));var n1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(n1||(n1={}));var i1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(i1||(i1={}));var a1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(a1||(a1={}));var o1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(o1||(o1={}));var s1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(s1||(s1={}));var u1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(u1||(u1={}));var V0;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(V0||(V0={}));var f1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(f1||(f1={}));var z0;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(z0||(z0={}));var c1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(c1||(c1={}));var K0;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(K0||(K0={}));var H0;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(H0||(H0={}));var l1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(l1||(l1={}));var h1;(function(e){e.CONTAINS="Contains",e.EQUALS="Equals",e.NOT_EQUAL="NotEqual",e.STARTS_WITH="StartsWith"})(h1||(h1={}));var d1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(d1||(d1={}));var v1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(v1||(v1={}));var p1;(function(e){e.RULES="Rules",e.TOKEN="Token"})(p1||(p1={}));var m1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(m1||(m1={}));var y1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(y1||(y1={}));var g1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(g1||(g1={}));var b1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(b1||(b1={}));var w1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(w1||(w1={}));var _1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(_1||(_1={}));var S1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(S1||(S1={}));var M1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(M1||(M1={}));var x1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(x1||(x1={}));var E1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(E1||(E1={}));var A1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(A1||(A1={}));var I1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(I1||(I1={}));var T1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(T1||(T1={}));var C1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(C1||(C1={}));var O1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(O1||(O1={}));var P1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(P1||(P1={}));var k1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(k1||(k1={}));var R1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(R1||(R1={}));var N1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(N1||(N1={}));var D1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(D1||(D1={}));var B1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(B1||(B1={}));var U1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(U1||(U1={}));var F1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(F1||(F1={}));var L1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(L1||(L1={}));var q1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(q1||(q1={}));var j1;(function(e){e.filterSensitiveLog=function(t){return pe({},t)}})(j1||(j1={}));var fN=function(e,t){return ue(void 0,void 0,void 0,function(){var r,n;return se(this,function(a){return r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetCredentialsForIdentity"},n=JSON.stringify(yN(e)),[2,QS(t,r,"/",void 0,n)]})})},cN=function(e,t){return ue(void 0,void 0,void 0,function(){var r,n;return se(this,function(a){return r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetId"},n=JSON.stringify(gN(e)),[2,QS(t,r,"/",void 0,n)]})})},lN=function(e,t){return ue(void 0,void 0,void 0,function(){var r,n,a;return se(this,function(i){switch(i.label){case 0:return e.statusCode>=300?[2,hN(e,t)]:[4,Rl(e.body,t)];case 1:return r=i.sent(),n={},n=_N(r),a=pe({$metadata:St(e)},n),[2,Promise.resolve(a)]}})})},hN=function(e,t){return ue(void 0,void 0,void 0,function(){var r,n,a,i,f,l,v,h,g,_,M,E,A,I,O,T;return se(this,function(P){switch(P.label){case 0:return n=[pe({},e)],T={},[4,Rl(e.body,t)];case 1:switch(r=pe.apply(void 0,n.concat([(T.body=P.sent(),T)])),i="UnknownError",i=e4(e,r.body),f=i,f){case"ExternalServiceException":return[3,2];case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":return[3,4];case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidIdentityPoolConfigurationException":return[3,6];case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":return[3,6];case"InvalidParameterException":return[3,8];case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,8];case"NotAuthorizedException":return[3,10];case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":return[3,12];case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":return[3,14];case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":return[3,16];case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return l=[{}],[4,KS(r)];case 3:return a=pe.apply(void 0,[pe.apply(void 0,l.concat([P.sent()])),{name:i,$metadata:St(e)}]),[3,19];case 4:return v=[{}],[4,HS(r)];case 5:return a=pe.apply(void 0,[pe.apply(void 0,v.concat([P.sent()])),{name:i,$metadata:St(e)}]),[3,19];case 6:return h=[{}],[4,pN(r)];case 7:return a=pe.apply(void 0,[pe.apply(void 0,h.concat([P.sent()])),{name:i,$metadata:St(e)}]),[3,19];case 8:return g=[{}],[4,GS(r)];case 9:return a=pe.apply(void 0,[pe.apply(void 0,g.concat([P.sent()])),{name:i,$metadata:St(e)}]),[3,19];case 10:return _=[{}],[4,WS(r)];case 11:return a=pe.apply(void 0,[pe.apply(void 0,_.concat([P.sent()])),{name:i,$metadata:St(e)}]),[3,19];case 12:return M=[{}],[4,JS(r)];case 13:return a=pe.apply(void 0,[pe.apply(void 0,M.concat([P.sent()])),{name:i,$metadata:St(e)}]),[3,19];case 14:return E=[{}],[4,ZS(r)];case 15:return a=pe.apply(void 0,[pe.apply(void 0,E.concat([P.sent()])),{name:i,$metadata:St(e)}]),[3,19];case 16:return A=[{}],[4,YS(r)];case 17:return a=pe.apply(void 0,[pe.apply(void 0,A.concat([P.sent()])),{name:i,$metadata:St(e)}]),[3,19];case 18:I=r.body,i=I.code||I.Code||i,a=pe(pe({},I),{name:""+i,message:I.message||I.Message||i,$fault:"client",$metadata:St(e)}),P.label=19;case 19:return O=a.message||a.Message||i,a.message=O,delete a.Message,[2,Promise.reject(Object.assign(new Error(O),a))]}})})},dN=function(e,t){return ue(void 0,void 0,void 0,function(){var r,n,a;return se(this,function(i){switch(i.label){case 0:return e.statusCode>=300?[2,vN(e,t)]:[4,Rl(e.body,t)];case 1:return r=i.sent(),n={},n=SN(r),a=pe({$metadata:St(e)},n),[2,Promise.resolve(a)]}})})},vN=function(e,t){return ue(void 0,void 0,void 0,function(){var r,n,a,i,f,l,v,h,g,_,M,E,A,I,O,T;return se(this,function(P){switch(P.label){case 0:return n=[pe({},e)],T={},[4,Rl(e.body,t)];case 1:switch(r=pe.apply(void 0,n.concat([(T.body=P.sent(),T)])),i="UnknownError",i=e4(e,r.body),f=i,f){case"ExternalServiceException":return[3,2];case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":return[3,4];case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":return[3,6];case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"LimitExceededException":return[3,8];case"com.amazonaws.cognitoidentity#LimitExceededException":return[3,8];case"NotAuthorizedException":return[3,10];case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":return[3,12];case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":return[3,14];case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":return[3,16];case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return l=[{}],[4,KS(r)];case 3:return a=pe.apply(void 0,[pe.apply(void 0,l.concat([P.sent()])),{name:i,$metadata:St(e)}]),[3,19];case 4:return v=[{}],[4,HS(r)];case 5:return a=pe.apply(void 0,[pe.apply(void 0,v.concat([P.sent()])),{name:i,$metadata:St(e)}]),[3,19];case 6:return h=[{}],[4,GS(r)];case 7:return a=pe.apply(void 0,[pe.apply(void 0,h.concat([P.sent()])),{name:i,$metadata:St(e)}]),[3,19];case 8:return g=[{}],[4,mN(r)];case 9:return a=pe.apply(void 0,[pe.apply(void 0,g.concat([P.sent()])),{name:i,$metadata:St(e)}]),[3,19];case 10:return _=[{}],[4,WS(r)];case 11:return a=pe.apply(void 0,[pe.apply(void 0,_.concat([P.sent()])),{name:i,$metadata:St(e)}]),[3,19];case 12:return M=[{}],[4,JS(r)];case 13:return a=pe.apply(void 0,[pe.apply(void 0,M.concat([P.sent()])),{name:i,$metadata:St(e)}]),[3,19];case 14:return E=[{}],[4,ZS(r)];case 15:return a=pe.apply(void 0,[pe.apply(void 0,E.concat([P.sent()])),{name:i,$metadata:St(e)}]),[3,19];case 16:return A=[{}],[4,YS(r)];case 17:return a=pe.apply(void 0,[pe.apply(void 0,A.concat([P.sent()])),{name:i,$metadata:St(e)}]),[3,19];case 18:I=r.body,i=I.code||I.Code||i,a=pe(pe({},I),{name:""+i,message:I.message||I.Message||i,$fault:"client",$metadata:St(e)}),P.label=19;case 19:return O=a.message||a.Message||i,a.message=O,delete a.Message,[2,Promise.reject(Object.assign(new Error(O),a))]}})})},KS=function(e,t){return ue(void 0,void 0,void 0,function(){var r,n,a;return se(this,function(i){return r=e.body,n=wN(r),a=pe({name:"ExternalServiceException",$fault:"client",$metadata:St(e)},n),[2,a]})})},HS=function(e,t){return ue(void 0,void 0,void 0,function(){var r,n,a;return se(this,function(i){return r=e.body,n=MN(r),a=pe({name:"InternalErrorException",$fault:"server",$metadata:St(e)},n),[2,a]})})},pN=function(e,t){return ue(void 0,void 0,void 0,function(){var r,n,a;return se(this,function(i){return r=e.body,n=xN(r),a=pe({name:"InvalidIdentityPoolConfigurationException",$fault:"client",$metadata:St(e)},n),[2,a]})})},GS=function(e,t){return ue(void 0,void 0,void 0,function(){var r,n,a;return se(this,function(i){return r=e.body,n=EN(r),a=pe({name:"InvalidParameterException",$fault:"client",$metadata:St(e)},n),[2,a]})})},mN=function(e,t){return ue(void 0,void 0,void 0,function(){var r,n,a;return se(this,function(i){return r=e.body,n=AN(r),a=pe({name:"LimitExceededException",$fault:"client",$metadata:St(e)},n),[2,a]})})},WS=function(e,t){return ue(void 0,void 0,void 0,function(){var r,n,a;return se(this,function(i){return r=e.body,n=IN(r),a=pe({name:"NotAuthorizedException",$fault:"client",$metadata:St(e)},n),[2,a]})})},JS=function(e,t){return ue(void 0,void 0,void 0,function(){var r,n,a;return se(this,function(i){return r=e.body,n=TN(r),a=pe({name:"ResourceConflictException",$fault:"client",$metadata:St(e)},n),[2,a]})})},ZS=function(e,t){return ue(void 0,void 0,void 0,function(){var r,n,a;return se(this,function(i){return r=e.body,n=CN(r),a=pe({name:"ResourceNotFoundException",$fault:"client",$metadata:St(e)},n),[2,a]})})},YS=function(e,t){return ue(void 0,void 0,void 0,function(){var r,n,a;return se(this,function(i){return r=e.body,n=ON(r),a=pe({name:"TooManyRequestsException",$fault:"client",$metadata:St(e)},n),[2,a]})})},yN=function(e,t){return pe(pe(pe({},e.CustomRoleArn!==void 0&&e.CustomRoleArn!==null&&{CustomRoleArn:e.CustomRoleArn}),e.IdentityId!==void 0&&e.IdentityId!==null&&{IdentityId:e.IdentityId}),e.Logins!==void 0&&e.Logins!==null&&{Logins:XS(e.Logins)})},gN=function(e,t){return pe(pe(pe({},e.AccountId!==void 0&&e.AccountId!==null&&{AccountId:e.AccountId}),e.IdentityPoolId!==void 0&&e.IdentityPoolId!==null&&{IdentityPoolId:e.IdentityPoolId}),e.Logins!==void 0&&e.Logins!==null&&{Logins:XS(e.Logins)})},XS=function(e,t){return Object.entries(e).reduce(function(r,n){var a,i=Le(n,2),f=i[0],l=i[1];return l===null?r:pe(pe({},r),(a={},a[f]=l,a))},{})},bN=function(e,t){return{AccessKeyId:e.AccessKeyId!==void 0&&e.AccessKeyId!==null?e.AccessKeyId:void 0,Expiration:e.Expiration!==void 0&&e.Expiration!==null?new Date(Math.round(e.Expiration*1e3)):void 0,SecretKey:e.SecretKey!==void 0&&e.SecretKey!==null?e.SecretKey:void 0,SessionToken:e.SessionToken!==void 0&&e.SessionToken!==null?e.SessionToken:void 0}},wN=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},_N=function(e,t){return{Credentials:e.Credentials!==void 0&&e.Credentials!==null?bN(e.Credentials):void 0,IdentityId:e.IdentityId!==void 0&&e.IdentityId!==null?e.IdentityId:void 0}},SN=function(e,t){return{IdentityId:e.IdentityId!==void 0&&e.IdentityId!==null?e.IdentityId:void 0}},MN=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},xN=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},EN=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},AN=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},IN=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},TN=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},CN=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},ON=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},St=function(e){var t;return{httpStatusCode:e.statusCode,requestId:(t=e.headers["x-amzn-requestid"])!==null&&t!==void 0?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},PN=function(e,t){return e===void 0&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},kN=function(e,t){return PN(e,t).then(function(r){return t.utf8Encoder(r)})},QS=function(e,t,r,n,a){return ue(void 0,void 0,void 0,function(){var i,f,l,v,h,g;return se(this,function(_){switch(_.label){case 0:return[4,e.endpoint()];case 1:return i=_.sent(),f=i.hostname,l=i.protocol,v=l===void 0?"https":l,h=i.port,g={protocol:v,hostname:f,port:h,method:"POST",path:r,headers:t},n!==void 0&&(g.hostname=n),a!==void 0&&(g.body=a),[2,new fs(g)]}})})},Rl=function(e,t){return kN(e,t).then(function(r){return r.length?JSON.parse(r):{}})},e4=function(e,t){var r=function(i,f){return Object.keys(i).find(function(l){return l.toLowerCase()===f.toLowerCase()})},n=function(i){var f=i;return f.indexOf(":")>=0&&(f=f.split(":")[0]),f.indexOf("#")>=0&&(f=f.split("#")[1]),f},a=r(e.headers,"x-amzn-errortype");return a!==void 0?n(e.headers[a]):t.code!==void 0?n(t.code):t.__type!==void 0?n(t.__type):""},G0=function(e){ys(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,a){this.middlewareStack.use(zS(n,this.serialize,this.deserialize));var i=r.concat(this.middlewareStack),f=n.logger,l="CognitoIdentityClient",v="GetCredentialsForIdentityCommand",h={logger:f,clientName:l,commandName:v,inputFilterSensitiveLog:V0.filterSensitiveLog,outputFilterSensitiveLog:z0.filterSensitiveLog},g=n.requestHandler;return i.resolve(function(_){return g.handle(_.request,a||{})},h)},t.prototype.serialize=function(r,n){return fN(r,n)},t.prototype.deserialize=function(r,n){return lN(r,n)},t}(jS),Zs=function(e){ys(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,a){this.middlewareStack.use(zS(n,this.serialize,this.deserialize));var i=r.concat(this.middlewareStack),f=n.logger,l="CognitoIdentityClient",v="GetIdCommand",h={logger:f,clientName:l,commandName:v,inputFilterSensitiveLog:K0.filterSensitiveLog,outputFilterSensitiveLog:H0.filterSensitiveLog},g=n.requestHandler;return i.resolve(function(_){return g.handle(_.request,a||{})},h)},t.prototype.serialize=function(r,n){return cN(r,n)},t.prototype.deserialize=function(r,n){return dN(r,n)},t}(jS);function t4(e){return Promise.all(Object.keys(e).reduce(function(t,r){var n=e[r];return typeof n=="string"?t.push([r,n]):t.push(n().then(function(a){return[r,a]})),t},[])).then(function(t){return t.reduce(function(r,n){var a=kR(n,2),i=a[0],f=a[1];return r[i]=f,r},{})})}function Hs(e){var t=this;return function(){return j0(t,void 0,void 0,function(){var r,n,a,i,f,l,v,h,g,_,M,E,A;return $0(this,function(I){switch(I.label){case 0:return _=(g=e.client).send,M=G0.bind,A={CustomRoleArn:e.customRoleArn,IdentityId:e.identityId},e.logins?[4,t4(e.logins)]:[3,2];case 1:return E=I.sent(),[3,3];case 2:E=void 0,I.label=3;case 3:return[4,_.apply(g,[new(M.apply(G0,[void 0,(A.Logins=E,A)]))])];case 4:return r=I.sent().Credentials,n=r===void 0?NN():r,a=n.AccessKeyId,i=a===void 0?RN():a,f=n.Expiration,l=n.SecretKey,v=l===void 0?DN():l,h=n.SessionToken,[2,{identityId:e.identityId,accessKeyId:i,secretAccessKey:v,sessionToken:h,expiration:f}]}})})}}function RN(){throw new Qt("Response from Amazon Cognito contained no access key ID")}function NN(){throw new Qt("Response from Amazon Cognito contained no credentials")}function DN(){throw new Qt("Response from Amazon Cognito contained no secret key")}var Xh="IdentityIds",BN=function(){function e(t){t===void 0&&(t="aws:cognito-identity-ids"),this.dbName=t}return e.prototype.getItem=function(t){return this.withObjectStore("readonly",function(r){var n=r.get(t);return new Promise(function(a){n.onerror=function(){return a(null)},n.onsuccess=function(){return a(n.result?n.result.value:null)}})}).catch(function(){return null})},e.prototype.removeItem=function(t){return this.withObjectStore("readwrite",function(r){var n=r.delete(t);return new Promise(function(a,i){n.onerror=function(){return i(n.error)},n.onsuccess=function(){return a()}})})},e.prototype.setItem=function(t,r){return this.withObjectStore("readwrite",function(n){var a=n.put({id:t,value:r});return new Promise(function(i,f){a.onerror=function(){return f(a.error)},a.onsuccess=function(){return i()}})})},e.prototype.getDb=function(){var t=self.indexedDB.open(this.dbName,1);return new Promise(function(r,n){t.onsuccess=function(){r(t.result)},t.onerror=function(){n(t.error)},t.onblocked=function(){n(new Error("Unable to access DB"))},t.onupgradeneeded=function(){var a=t.result;a.onerror=function(){n(new Error("Failed to create object store"))},a.createObjectStore(Xh,{keyPath:"id"})}})},e.prototype.withObjectStore=function(t,r){return this.getDb().then(function(n){var a=n.transaction(Xh,t);return a.oncomplete=function(){return n.close()},new Promise(function(i,f){a.onerror=function(){return f(a.error)},i(r(a.objectStore(Xh)))}).catch(function(i){throw n.close(),i})})},e}(),UN=function(){function e(t){t===void 0&&(t={}),this.store=t}return e.prototype.getItem=function(t){return t in this.store?this.store[t]:null},e.prototype.removeItem=function(t){delete this.store[t]},e.prototype.setItem=function(t,r){this.store[t]=r},e}(),FN=new UN;function LN(){return typeof self=="object"&&self.indexedDB?new BN:typeof window=="object"&&window.localStorage?window.localStorage:FN}function qN(e){var t=this,r=e.accountId,n=e.cache,a=n===void 0?LN():n,i=e.client,f=e.customRoleArn,l=e.identityPoolId,v=e.logins,h=e.userIdentifier,g=h===void 0?!v||Object.keys(v).length===0?"ANONYMOUS":void 0:h,_=g?"aws:cognito-identity-credentials:"+l+":"+g:void 0,M=function(){return j0(t,void 0,void 0,function(){var E,A,I,O,T,P,k,R,D;return $0(this,function(V){switch(V.label){case 0:return A=_,A?[4,a.getItem(_)]:[3,2];case 1:A=V.sent(),V.label=2;case 2:return E=A,E?[3,7]:(P=(T=i).send,k=Zs.bind,D={AccountId:r,IdentityPoolId:l},v?[4,t4(v)]:[3,4]);case 3:return R=V.sent(),[3,5];case 4:R=void 0,V.label=5;case 5:return[4,P.apply(T,[new(k.apply(Zs,[void 0,(D.Logins=R,D)]))])];case 6:I=V.sent().IdentityId,O=I===void 0?jN():I,E=O,_&&Promise.resolve(a.setItem(_,E)).catch(function(){}),V.label=7;case 7:return M=Hs({client:i,customRoleArn:f,logins:v,identityId:E}),[2,M()]}})})};return function(){return M().catch(function(E){return j0(t,void 0,void 0,function(){return $0(this,function(A){throw _&&Promise.resolve(a.removeItem(_)).catch(function(){}),E})})})}}function jN(){throw new Qt("Response from Amazon Cognito contained no identity ID")}function Qh(e){var t=new uN({region:e.region,customUserAgent:r2()});return t.middlewareStack.add(function(r,n){return function(a){return r($N(a))}},{step:"build",name:"cacheControlMiddleWare"}),t}function $N(e){return Mt(Mt({},e),{request:Mt(Mt({},e.request),{headers:Mt(Mt({},e.request.headers),{"cache-control":"no-store"})})})}var ct=new wt("Credentials"),VN=50*60*1e3,zN="CognitoIdentityId-",KN=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",HN=function(e,t,r){_r.dispatch("core",{event:e,data:t,message:r},"Credentials",KN)},GN=function(){function e(t){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(t),this._refreshHandlers.google=CR.refreshGoogleToken,this._refreshHandlers.facebook=OR.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(t){if(!t)return this._config||{};this._config=Object.assign({},this._config,t);var r=this._config.refreshHandlers;return r&&(this._refreshHandlers=Mt(Mt({},this._refreshHandlers),r)),this._storage=this._config.storage,this._storage||(this._storage=new nm().getStorage()),this._storageSync=Promise.resolve(),typeof this._storage.sync=="function"&&(this._storageSync=this._storage.sync()),HN("credentials_configured",null,"Credentials has been configured successfully"),this._config},e.prototype.get=function(){return ct.debug("getting credentials"),this._pickupCredentials()},e.prototype._getCognitoIdentityIdStorageKey=function(t){return""+zN+t},e.prototype._pickupCredentials=function(){return ct.debug("picking up credentials"),!this._gettingCredPromise||!this._gettingCredPromise.isPending()?(ct.debug("getting new cred promise"),this._gettingCredPromise=H6(this._keepAlive())):ct.debug("getting old cred promise"),this._gettingCredPromise},e.prototype._keepAlive=function(){return tr(this,void 0,void 0,function(){var t,r,n,a,i,f,l,v;return Yt(this,function(h){switch(h.label){case 0:if(ct.debug("checking if credentials exists and not expired"),t=this._credentials,t&&!this._isExpired(t)&&!this._isPastTTL())return ct.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(t)];if(ct.debug("need to get a new credential or refresh the existing one"),r=this.Auth,n=r===void 0?ci.Auth:r,!n||typeof n.currentUserCredentials!="function")return[2,this._setCredentialsForGuest()];if(!(!this._isExpired(t)&&this._isPastTTL()))return[3,6];ct.debug("ttl has passed but token is not yet expired"),h.label=1;case 1:return h.trys.push([1,5,,6]),[4,n.currentUserPoolUser()];case 2:return a=h.sent(),[4,n.currentSession()];case 3:return i=h.sent(),f=i.refreshToken,l=new Promise(function(g,_){a.refreshSession(f,function(M,E){return M?_(M):g(E)})}),[4,l];case 4:return h.sent(),[3,6];case 5:return v=h.sent(),ct.debug("Error attempting to refreshing the session",v),[3,6];case 6:return[2,n.currentUserCredentials()]}})})},e.prototype.refreshFederatedToken=function(t){ct.debug("Getting federated credentials");var r=t.provider,n=t.user,a=t.token,i=t.identity_id,f=t.expires_at;f=new Date(f).getFullYear()===1970?f*1e3:f;var l=this;return ct.debug("checking if federated jwt token expired"),f>new Date().getTime()?(ct.debug("token not expired"),this._setCredentialsFromFederation({provider:r,token:a,user:n,identity_id:i,expires_at:f})):l._refreshHandlers[r]&&typeof l._refreshHandlers[r]=="function"?(ct.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:l._refreshHandlers[r],provider:r,user:n})):(ct.debug("no refresh handler for provider:",r),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(t){var r=this,n=t.refreshHandler,a=t.provider,i=t.user,f=10*1e3;return Jv(n,[],f).then(function(l){return ct.debug("refresh federated token sucessfully",l),r._setCredentialsFromFederation({provider:a,token:l.token,user:i,identity_id:l.identity_id,expires_at:l.expires_at})}).catch(function(l){var v=typeof l=="string"&&l.toLowerCase().lastIndexOf("network error",l.length)===0;return v||r.clear(),ct.debug("refresh federated token failed",l),Promise.reject("refreshing federation token failed: "+l)})},e.prototype._isExpired=function(t){if(!t)return ct.debug("no credentials for expiration check"),!0;ct.debug("are these credentials expired?",t);var r=Date.now(),n=t.expiration;return n.getTime()<=r},e.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},e.prototype._setCredentialsForGuest=function(){var t;return tr(this,void 0,void 0,function(){var r,n,a,i,f,l,v,h,g,_,M,E=this;return Yt(this,function(A){switch(A.label){case 0:return ct.debug("setting credentials for guest"),!((t=this._config)===null||t===void 0)&&t.identityPoolId||(this._config=Object.assign({},this._config,g2(this._config||{}).Auth)),r=this._config,n=r.identityPoolId,a=r.region,i=r.mandatorySignIn,f=r.identityPoolRegion,i?[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")]:n?!f&&!a?(ct.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")]):(v=this,[4,this._getGuestIdentityId()]):(ct.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")]);case 1:return l=v._identityId=A.sent(),h=Qh({region:f||a}),g=void 0,l?(_={identityId:l,client:h},g=Hs(_)()):(M=function(){return tr(E,void 0,void 0,function(){var I,O,T;return Yt(this,function(P){switch(P.label){case 0:return[4,h.send(new Zs({IdentityPoolId:n}))];case 1:return I=P.sent().IdentityId,this._identityId=I,O={client:h,identityId:I},T=Hs(O),[2,T()]}})})},g=M().catch(function(I){return tr(E,void 0,void 0,function(){return Yt(this,function(O){throw I})})})),[2,this._loadCredentials(g,"guest",!1,null).then(function(I){return I}).catch(function(I){return tr(E,void 0,void 0,function(){var O,T=this;return Yt(this,function(P){switch(P.label){case 0:return I.name==="ResourceNotFoundException"&&I.message==="Identity '"+l+"' not found."?(ct.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()]):[3,2];case 1:return P.sent(),O=function(){return tr(T,void 0,void 0,function(){var k,R,D;return Yt(this,function(V){switch(V.label){case 0:return[4,h.send(new Zs({IdentityPoolId:n}))];case 1:return k=V.sent().IdentityId,this._identityId=k,R={client:h,identityId:k},D=Hs(R),[2,D()]}})})},g=O().catch(function(k){return tr(T,void 0,void 0,function(){return Yt(this,function(R){throw k})})}),[2,this._loadCredentials(g,"guest",!1,null)];case 2:return[2,I]}})})})]}})})},e.prototype._setCredentialsFromFederation=function(t){var r=t.provider,n=t.token,a=t.identity_id,i={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"},f=i[r]||r;if(!f)return Promise.reject("You must specify a federated provider");var l={};l[f]=n;var v=this._config,h=v.identityPoolId,g=v.region,_=v.identityPoolRegion;if(!h)return ct.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!_&&!g)return ct.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var M=Qh({region:_||g}),E=void 0;if(a){var A={identityId:a,logins:l,client:M};E=Hs(A)()}else{var A={logins:l,identityPoolId:h,client:M};E=qN(A)()}return this._loadCredentials(E,"federated",!0,t)},e.prototype._setCredentialsFromSession=function(t){var r=this;ct.debug("set credentials from session");var n=t.getIdToken().getJwtToken(),a=this._config,i=a.region,f=a.userPoolId,l=a.identityPoolId,v=a.identityPoolRegion;if(!l)return ct.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!v&&!i)return ct.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var h="cognito-idp."+i+".amazonaws.com/"+f,g={};g[h]=n;var _=Qh({region:v||i}),M=function(){return tr(r,void 0,void 0,function(){var A,I,O,T,P,k,R,D,V,q;return Yt(this,function($){switch($.label){case 0:return[4,this._getGuestIdentityId()];case 1:return A=$.sent(),A?[3,3]:[4,_.send(new Zs({IdentityPoolId:l,Logins:g}))];case 2:O=$.sent().IdentityId,I=O,$.label=3;case 3:return[4,_.send(new G0({IdentityId:A||I,Logins:g}))];case 4:return T=$.sent(),P=T.Credentials,k=P.AccessKeyId,R=P.Expiration,D=P.SecretKey,V=P.SessionToken,q=T.IdentityId,this._identityId=q,A?(ct.debug("The guest identity "+A+" has been successfully linked to the logins"),A===q&&ct.debug("The guest identity "+A+" has become the primary identity"),[4,this._removeGuestIdentityId()]):[3,6];case 5:$.sent(),$.label=6;case 6:return[2,{accessKeyId:k,secretAccessKey:D,sessionToken:V,expiration:R,identityId:q}]}})})},E=M().catch(function(A){return tr(r,void 0,void 0,function(){return Yt(this,function(I){throw A})})});return this._loadCredentials(E,"userPool",!0,null)},e.prototype._loadCredentials=function(t,r,n,a){var i=this,f=this;return new Promise(function(l,v){t.then(function(h){return tr(i,void 0,void 0,function(){var g,_,M,E,A;return Yt(this,function(I){switch(I.label){case 0:if(ct.debug("Load credentials successfully",h),this._identityId&&!h.identityId&&(h.identityId=this._identityId),f._credentials=h,f._credentials.authenticated=n,f._credentials_source=r,f._nextCredentialsRefresh=new Date().getTime()+VN,r==="federated"){g=Object.assign({id:this._credentials.identityId},a.user),_=a.provider,M=a.token,E=a.expires_at,A=a.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:_,token:M,user:g,expires_at:E,identity_id:A}))}catch(O){ct.debug("Failed to put federated info into auth storage",O)}}return r!=="guest"?[3,2]:[4,this._setGuestIdentityId(h.identityId)];case 1:I.sent(),I.label=2;case 2:return l(f._credentials),[2]}})})}).catch(function(h){if(h){ct.debug("Failed to load credentials",t),ct.debug("Error loading credentials",h),v(h);return}})})},e.prototype.set=function(t,r){return r==="session"?this._setCredentialsFromSession(t):r==="federation"?this._setCredentialsFromFederation(t):r==="guest"?this._setCredentialsForGuest():(ct.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return tr(this,void 0,void 0,function(){return Yt(this,function(t){return this._credentials=null,this._credentials_source=null,ct.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]})})},e.prototype._getGuestIdentityId=function(){return tr(this,void 0,void 0,function(){var t,r;return Yt(this,function(n){switch(n.label){case 0:t=this._config.identityPoolId,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._storageSync];case 2:return n.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(t))];case 3:return r=n.sent(),ct.debug("Failed to get the cached guest identityId",r),[3,4];case 4:return[2]}})})},e.prototype._setGuestIdentityId=function(t){return tr(this,void 0,void 0,function(){var r,n;return Yt(this,function(a){switch(a.label){case 0:r=this._config.identityPoolId,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this._storageSync];case 2:return a.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(r),t),[3,4];case 3:return n=a.sent(),ct.debug("Failed to cache guest identityId",n),[3,4];case 4:return[2]}})})},e.prototype._removeGuestIdentityId=function(){return tr(this,void 0,void 0,function(){var t;return Yt(this,function(r){return t=this._config.identityPoolId,ct.debug("removing "+this._getCognitoIdentityIdStorageKey(t)+" from storage"),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(t)),[2]})})},e.prototype.shear=function(t){return{accessKeyId:t.accessKeyId,sessionToken:t.sessionToken,secretAccessKey:t.secretAccessKey,identityId:t.identityId,authenticated:t.authenticated}},e}(),ki=new GN(null);ci.register(ki);/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var r4=ZN,$1=YN,WN=decodeURIComponent,JN=encodeURIComponent,Zu=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function ZN(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");for(var r={},n=t||{},a=e.split(";"),i=n.decode||WN,f=0;f<a.length;f++){var l=a[f],v=l.indexOf("=");if(!(v<0)){var h=l.substring(0,v).trim();if(r[h]==null){var g=l.substring(v+1,l.length).trim();g[0]==='"'&&(g=g.slice(1,-1)),r[h]=XN(g,i)}}}return r}function YN(e,t,r){var n=r||{},a=n.encode||JN;if(typeof a!="function")throw new TypeError("option encode is invalid");if(!Zu.test(e))throw new TypeError("argument name is invalid");var i=a(t);if(i&&!Zu.test(i))throw new TypeError("argument val is invalid");var f=e+"="+i;if(n.maxAge!=null){var l=n.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError("option maxAge is invalid");f+="; Max-Age="+Math.floor(l)}if(n.domain){if(!Zu.test(n.domain))throw new TypeError("option domain is invalid");f+="; Domain="+n.domain}if(n.path){if(!Zu.test(n.path))throw new TypeError("option path is invalid");f+="; Path="+n.path}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");f+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(f+="; HttpOnly"),n.secure&&(f+="; Secure"),n.sameSite){var v=typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite;switch(v){case!0:f+="; SameSite=Strict";break;case"lax":f+="; SameSite=Lax";break;case"strict":f+="; SameSite=Strict";break;case"none":f+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return f}function XN(e,t){try{return t(e)}catch{return e}}function QN(){return typeof document=="object"&&typeof document.cookie=="string"}function eD(e,t){return typeof e=="string"?r4(e,t):typeof e=="object"&&e!==null?e:{}}function tD(e,t){return typeof t>"u"&&(t=!e||e[0]!=="{"&&e[0]!=="["&&e[0]!=='"'),!t}function V1(e,t){t===void 0&&(t={});var r=rD(e);if(tD(r,t.doNotParse))try{return JSON.parse(r)}catch{}return e}function rD(e){return e&&e[0]==="j"&&e[1]===":"?e.substr(2):e}var Ea=globalThis&&globalThis.__assign||function(){return Ea=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ea.apply(this,arguments)},nD=function(){function e(t,r){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=eD(t,r),new Promise(function(){n.HAS_DOCUMENT_COOKIE=QN()}).catch(function(){})}return e.prototype._updateBrowserValues=function(t){!this.HAS_DOCUMENT_COOKIE||(this.cookies=r4(document.cookie,t))},e.prototype._emitChange=function(t){for(var r=0;r<this.changeListeners.length;++r)this.changeListeners[r](t)},e.prototype.get=function(t,r,n){return r===void 0&&(r={}),this._updateBrowserValues(n),V1(this.cookies[t],r)},e.prototype.getAll=function(t,r){t===void 0&&(t={}),this._updateBrowserValues(r);var n={};for(var a in this.cookies)n[a]=V1(this.cookies[a],t);return n},e.prototype.set=function(t,r,n){var a;typeof r=="object"&&(r=JSON.stringify(r)),this.cookies=Ea(Ea({},this.cookies),(a={},a[t]=r,a)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=$1(t,r,n)),this._emitChange({name:t,value:r,options:n})},e.prototype.remove=function(t,r){var n=r=Ea(Ea({},r),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Ea({},this.cookies),delete this.cookies[t],this.HAS_DOCUMENT_COOKIE&&(document.cookie=$1(t,"",n)),this._emitChange({name:t,value:void 0,options:r})},e.prototype.addChangeListener=function(t){this.changeListeners.push(t)},e.prototype.removeChangeListener=function(t){var r=this.changeListeners.indexOf(t);r>=0&&this.changeListeners.splice(r,1)},e}();const ed=nD;var z1=Kr().isBrowser,iD=365*24*60*60*1e3,aD=function(){function e(t){t===void 0&&(t={}),this.cookies=new ed,this.store=z1?window.localStorage:Object.create(null),this.cookies=t.req?new ed(t.req.headers.cookie):new ed,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){var t=this;Array.from(new Array(this.length)).map(function(r,n){return t.key(n)}).forEach(function(r){return t.removeItem(r)})},e.prototype.getItem=function(t){return this.getLocalItem(t)},e.prototype.getLocalItem=function(t){return Object.prototype.hasOwnProperty.call(this.store,t)?this.store[t]:null},e.prototype.getUniversalItem=function(t){return this.cookies.get(t)},e.prototype.key=function(t){return Object.keys(this.store)[t]},e.prototype.removeItem=function(t){this.removeLocalItem(t),this.removeUniversalItem(t)},e.prototype.removeLocalItem=function(t){delete this.store[t]},e.prototype.removeUniversalItem=function(t){this.cookies.remove(t,{path:"/"})},e.prototype.setItem=function(t,r){this.setLocalItem(t,r);var n=t.split(".").pop(),a=["LastAuthUser","accessToken","refreshToken","idToken"];a.includes(n!=null?n:"")&&this.setUniversalItem(t,r,{expires:new Date(Date.now()+iD)})},e.prototype.setLocalItem=function(t,r){this.store[t]=r},e.prototype.setUniversalItem=function(t,r,n){n===void 0&&(n={}),this.cookies.set(t,r,Mt(Mt({},n),{path:"/",sameSite:!0,secure:!(z1&&window.location.hostname==="localhost")}))},e}(),oD=typeof Symbol<"u"&&typeof Symbol.for=="function",n4=oD?Symbol.for("INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER",sD="x-amz-user-agent",uD={userAgent:Jn.userAgent};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var W0=function(e,t){return W0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])},W0(e,t)};function fD(e,t){W0(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var kn={keyPrefix:"aws-amplify-cache",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8,storage:new nm().getStorage()};function K1(e){var t=0;t=e.length;for(var r=e.length;r>=0;r-=1){var n=e.charCodeAt(r);n>127&&n<=2047?t+=1:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&(r-=1)}return t}function Po(){var e=new Date;return e.getTime()}function Yu(e){return Number.isInteger?Number.isInteger(e):cD(e)}function cD(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}var yi=new wt("StorageCache"),lD=function(){function e(t){this.config=Object.assign({},t),this.cacheCurSizeKey=this.config.keyPrefix+"CurSize",this.checkConfig()}return e.prototype.getModuleName=function(){return"Cache"},e.prototype.checkConfig=function(){Yu(this.config.capacityInBytes)||(yi.error("Invalid parameter: capacityInBytes. It should be an Integer. Setting back to default."),this.config.capacityInBytes=kn.capacityInBytes),Yu(this.config.itemMaxSize)||(yi.error("Invalid parameter: itemMaxSize. It should be an Integer. Setting back to default."),this.config.itemMaxSize=kn.itemMaxSize),Yu(this.config.defaultTTL)||(yi.error("Invalid parameter: defaultTTL. It should be an Integer. Setting back to default."),this.config.defaultTTL=kn.defaultTTL),Yu(this.config.defaultPriority)||(yi.error("Invalid parameter: defaultPriority. It should be an Integer. Setting back to default."),this.config.defaultPriority=kn.defaultPriority),this.config.itemMaxSize>this.config.capacityInBytes&&(yi.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default."),this.config.itemMaxSize=kn.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(yi.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default."),this.config.defaultPriority=kn.defaultPriority),(Number(this.config.warningThreshold)>1||Number(this.config.warningThreshold)<0)&&(yi.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default."),this.config.warningThreshold=kn.warningThreshold);var t=5*1024*1024;this.config.capacityInBytes>t&&(yi.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default."),this.config.capacityInBytes=kn.capacityInBytes)},e.prototype.fillCacheItem=function(t,r,n){var a={key:t,data:r,timestamp:Po(),visitedTime:Po(),priority:n.priority,expires:n.expires,type:typeof r,byteSize:0};return a.byteSize=K1(JSON.stringify(a)),a.byteSize=K1(JSON.stringify(a)),a},e.prototype.configure=function(t){return t?(t.keyPrefix&&yi.warn("Don't try to configure keyPrefix!"),this.config=Object.assign({},this.config,t,t.Cache),this.checkConfig(),this.config):this.config},e}(),Dr=new wt("Cache"),hD=function(e){fD(t,e);function t(r){var n=this,a=r?Object.assign({},kn,r):kn;return n=e.call(this,a)||this,n.config.storage=a.storage,n.getItem=n.getItem.bind(n),n.setItem=n.setItem.bind(n),n.removeItem=n.removeItem.bind(n),n}return t.prototype._decreaseCurSizeInBytes=function(r){var n=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(n-r).toString())},t.prototype._increaseCurSizeInBytes=function(r){var n=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(n+r).toString())},t.prototype._refreshItem=function(r,n){return r.visitedTime=Po(),this.config.storage.setItem(n,JSON.stringify(r)),r},t.prototype._isExpired=function(r){var n=this.config.storage.getItem(r),a=JSON.parse(n);return Po()>=a.expires},t.prototype._removeItem=function(r,n){var a=n||JSON.parse(this.config.storage.getItem(r)).byteSize;this._decreaseCurSizeInBytes(a),this.config.storage.removeItem(r)},t.prototype._setItem=function(r,n){this._increaseCurSizeInBytes(n.byteSize);try{this.config.storage.setItem(r,JSON.stringify(n))}catch(a){this._decreaseCurSizeInBytes(n.byteSize),Dr.error("Failed to set item "+a)}},t.prototype._sizeToPop=function(r){var n=this.getCacheCurSize()+r-this.config.capacityInBytes,a=(1-this.config.warningThreshold)*this.config.capacityInBytes;return n>a?n:a},t.prototype._isCacheFull=function(r){return r+this.getCacheCurSize()>this.config.capacityInBytes},t.prototype._findValidKeys=function(){for(var r=[],n=[],a=0;a<this.config.storage.length;a+=1)n.push(this.config.storage.key(a));for(var a=0;a<n.length;a+=1){var i=n[a];i.indexOf(this.config.keyPrefix)===0&&i!==this.cacheCurSizeKey&&(this._isExpired(i)?this._removeItem(i):r.push(i))}return r},t.prototype._popOutItems=function(r,n){for(var a=[],i=n,f=0;f<r.length;f+=1){var l=this.config.storage.getItem(r[f]);if(l!=null){var v=JSON.parse(l);a.push(v)}}a.sort(function(h,g){return h.priority>g.priority?-1:h.priority<g.priority?1:h.visitedTime<g.visitedTime?-1:1});for(var f=0;f<a.length;f+=1)if(this._removeItem(a[f].key,a[f].byteSize),i-=a[f].byteSize,i<=0)return},t.prototype.setItem=function(r,n,a){Dr.log("Set item: key is "+r+", value is "+n+" with options: "+a);var i=this.config.keyPrefix+r;if(i===this.config.keyPrefix||i===this.cacheCurSizeKey){Dr.warn("Invalid key: should not be empty or 'CurSize'");return}if(typeof n>"u"){Dr.warn("The value of item should not be undefined!");return}var f={priority:a&&a.priority!==void 0?a.priority:this.config.defaultPriority,expires:a&&a.expires!==void 0?a.expires:this.config.defaultTTL+Po()};if(f.priority<1||f.priority>5){Dr.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");return}var l=this.fillCacheItem(i,n,f);if(l.byteSize>this.config.itemMaxSize){Dr.warn("Item with key: "+r+" you are trying to put into is too big!");return}try{var v=this.config.storage.getItem(i);if(v&&this._removeItem(i,JSON.parse(v).byteSize),this._isCacheFull(l.byteSize)){var h=this._findValidKeys();if(this._isCacheFull(l.byteSize)){var g=this._sizeToPop(l.byteSize);this._popOutItems(h,g)}}this._setItem(i,l)}catch(_){Dr.warn("setItem failed! "+_)}},t.prototype.getItem=function(r,n){Dr.log("Get item: key is "+r+" with options "+n);var a=null,i=this.config.keyPrefix+r;if(i===this.config.keyPrefix||i===this.cacheCurSizeKey)return Dr.warn("Invalid key: should not be empty or 'CurSize'"),null;try{if(a=this.config.storage.getItem(i),a!=null)if(this._isExpired(i))this._removeItem(i,JSON.parse(a).byteSize),a=null;else{var f=JSON.parse(a);return f=this._refreshItem(f,i),f.data}if(n&&n.callback!==void 0){var l=n.callback();return l!==null&&this.setItem(r,l,n),l}return null}catch(v){return Dr.warn("getItem failed! "+v),null}},t.prototype.removeItem=function(r){Dr.log("Remove item: key is "+r);var n=this.config.keyPrefix+r;if(!(n===this.config.keyPrefix||n===this.cacheCurSizeKey))try{var a=this.config.storage.getItem(n);a&&this._removeItem(n,JSON.parse(a).byteSize)}catch(i){Dr.warn("removeItem failed! "+i)}},t.prototype.clear=function(){Dr.log("Clear Cache");for(var r=[],n=0;n<this.config.storage.length;n+=1){var a=this.config.storage.key(n);a.indexOf(this.config.keyPrefix)===0&&r.push(a)}try{for(var n=0;n<r.length;n+=1)this.config.storage.removeItem(r[n])}catch(i){Dr.warn("clear failed! "+i)}},t.prototype.getAllKeys=function(){for(var r=[],n=0;n<this.config.storage.length;n+=1){var a=this.config.storage.key(n);a.indexOf(this.config.keyPrefix)===0&&a!==this.cacheCurSizeKey&&r.push(a.substring(this.config.keyPrefix.length))}return r},t.prototype.getCacheCurSize=function(){var r=this.config.storage.getItem(this.cacheCurSizeKey);return r||(this.config.storage.setItem(this.cacheCurSizeKey,"0"),r="0"),Number(r)},t.prototype.createInstance=function(r){return(!r.keyPrefix||r.keyPrefix===kn.keyPrefix)&&(Dr.error("invalid keyPrefix, setting keyPrefix with timeStamp"),r.keyPrefix=Po.toString()),new t(r)},t}(lD),Ja=new hD;ci.register(Ja);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var J0=function(e,t){return J0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])},J0(e,t)};function i4(e,t){J0(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var gr=function(){return gr=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},gr.apply(this,arguments)};function pt(e,t,r,n){function a(i){return i instanceof r?i:new r(function(f){f(i)})}return new(r||(r=Promise))(function(i,f){function l(g){try{h(n.next(g))}catch(_){f(_)}}function v(g){try{h(n.throw(g))}catch(_){f(_)}}function h(g){g.done?i(g.value):a(g.value).then(l,v)}h((n=n.apply(e,t||[])).next())})}function mt(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(h){return function(g){return v([h,g])}}function v(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){r.label=h[1];break}if(h[0]===6&&r.label<i[1]){r.label=i[1],i=h;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(h);break}i[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],a=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Si(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],f;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){f={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(f)throw f.error}}return i}var lc;(function(e){e.Cognito="COGNITO",e.Google="Google",e.Facebook="Facebook",e.Amazon="LoginWithAmazon",e.Apple="SignInWithApple"})(lc||(lc={}));function td(e){var t=["provider"];return e&&!!t.find(function(r){return e.hasOwnProperty(r)})}function dD(e){var t=["customProvider"];return e&&!!t.find(function(r){return e.hasOwnProperty(r)})}function vD(e){var t=["customState"];return e&&!!t.find(function(r){return e.hasOwnProperty(r)})}function Pa(e){return e.redirectSignIn!==void 0}var gt;(function(e){e.NoConfig="noConfig",e.MissingAuthConfig="missingAuthConfig",e.EmptyUsername="emptyUsername",e.InvalidUsername="invalidUsername",e.EmptyPassword="emptyPassword",e.EmptyCode="emptyCode",e.SignUpError="signUpError",e.NoMFA="noMFA",e.InvalidMFA="invalidMFA",e.EmptyChallengeResponse="emptyChallengeResponse",e.NoUserSession="noUserSession",e.Default="default",e.DeviceConfig="deviceConfig",e.NetworkError="networkError",e.AutoSignInError="autoSignInError"})(gt||(gt={}));function pD(e){return!!e.username}var dr;(function(e){e.API_KEY="API_KEY",e.AWS_IAM="AWS_IAM",e.OPENID_CONNECT="OPENID_CONNECT",e.AMAZON_COGNITO_USER_POOLS="AMAZON_COGNITO_USER_POOLS",e.AWS_LAMBDA="AWS_LAMBDA"})(dr||(dr={}));/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var H1=function(){function e(r){var n=r||{},a=n.ValidationData,i=n.Username,f=n.Password,l=n.AuthParameters,v=n.ClientMetadata;this.validationData=a||{},this.authParameters=l||{},this.clientMetadata=v||{},this.username=i,this.password=f}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}(),pn;typeof window<"u"&&window.crypto&&(pn=window.crypto);!pn&&typeof window<"u"&&window.msCrypto&&(pn=window.msCrypto);!pn&&typeof Yl<"u"&&Yl.crypto&&(pn=Yl.crypto);if(!pn&&typeof require=="function")try{pn=require("crypto")}catch{}function mD(){if(pn){if(typeof pn.getRandomValues=="function")try{return pn.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof pn.randomBytes=="function")try{return pn.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")}function yD(e){for(var t=e.words,r=e.sigBytes,n=[],a=0;a<r;a++){var i=t[a>>>2]>>>24-a%4*8&255;n.push((i>>>4).toString(16)),n.push((i&15).toString(16))}return n.join("")}var a4=function(){function e(r,n){r=this.words=r||[],n!=null?this.sigBytes=n:this.sigBytes=r.length*4}var t=e.prototype;return t.random=function(n){for(var a=[],i=0;i<n;i+=4)a.push(mD());return new e(a,n)},t.toString=function(){return yD(this)},e}();function je(e,t){e!=null&&this.fromString(e,t)}function Br(){return new je(null)}var na,gD=0xdeadbeefcafe,G1=(gD&16777215)==15715070;function bD(e,t,r,n,a,i){for(;--i>=0;){var f=t*this[e++]+r[n]+a;a=Math.floor(f/67108864),r[n++]=f&67108863}return a}function wD(e,t,r,n,a,i){for(var f=t&32767,l=t>>15;--i>=0;){var v=this[e]&32767,h=this[e++]>>15,g=l*v+h*f;v=f*v+((g&32767)<<15)+r[n]+(a&1073741823),a=(v>>>30)+(g>>>15)+l*h+(a>>>30),r[n++]=v&1073741823}return a}function _D(e,t,r,n,a,i){for(var f=t&16383,l=t>>14;--i>=0;){var v=this[e]&16383,h=this[e++]>>14,g=l*v+h*f;v=f*v+((g&16383)<<14)+r[n]+a,a=(v>>28)+(g>>14)+l*h,r[n++]=v&268435455}return a}var W1=typeof navigator<"u";W1&&G1&&navigator.appName=="Microsoft Internet Explorer"?(je.prototype.am=wD,na=30):W1&&G1&&navigator.appName!="Netscape"?(je.prototype.am=bD,na=26):(je.prototype.am=_D,na=28);je.prototype.DB=na;je.prototype.DM=(1<<na)-1;je.prototype.DV=1<<na;var im=52;je.prototype.FV=Math.pow(2,im);je.prototype.F1=im-na;je.prototype.F2=2*na-im;var SD="0123456789abcdefghijklmnopqrstuvwxyz",Nl=new Array,As,yn;As="0".charCodeAt(0);for(yn=0;yn<=9;++yn)Nl[As++]=yn;As="a".charCodeAt(0);for(yn=10;yn<36;++yn)Nl[As++]=yn;As="A".charCodeAt(0);for(yn=10;yn<36;++yn)Nl[As++]=yn;function J1(e){return SD.charAt(e)}function MD(e,t){var r=Nl[e.charCodeAt(t)];return r==null?-1:r}function xD(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function ED(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0}function am(e){var t=Br();return t.fromInt(e),t}function AD(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");this.t=0,this.s=0;for(var n=e.length,a=!1,i=0;--n>=0;){var f=MD(e,n);if(f<0){e.charAt(n)=="-"&&(a=!0);continue}a=!1,i==0?this[this.t++]=f:i+r>this.DB?(this[this.t-1]|=(f&(1<<this.DB-i)-1)<<i,this[this.t++]=f>>this.DB-i):this[this.t-1]|=f<<i,i+=r,i>=this.DB&&(i-=this.DB)}this.clamp(),a&&je.ZERO.subTo(this,this)}function ID(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function TD(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");var r=(1<<t)-1,n,a=!1,i="",f=this.t,l=this.DB-f*this.DB%t;if(f-- >0)for(l<this.DB&&(n=this[f]>>l)>0&&(a=!0,i=J1(n));f>=0;)l<t?(n=(this[f]&(1<<l)-1)<<t-l,n|=this[--f]>>(l+=this.DB-t)):(n=this[f]>>(l-=t)&r,l<=0&&(l+=this.DB,--f)),n>0&&(a=!0),a&&(i+=J1(n));return a?i:"0"}function CD(){var e=Br();return je.ZERO.subTo(this,e),e}function OD(){return this.s<0?this.negate():this}function PD(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this[r]-e[r])!=0)return t;return 0}function om(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}function kD(){return this.t<=0?0:this.DB*(this.t-1)+om(this[this.t-1]^this.s&this.DM)}function RD(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s}function ND(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s}function DD(e,t){var r=e%this.DB,n=this.DB-r,a=(1<<n)-1,i=Math.floor(e/this.DB),f=this.s<<r&this.DM,l;for(l=this.t-1;l>=0;--l)t[l+i+1]=this[l]>>n|f,f=(this[l]&a)<<r;for(l=i-1;l>=0;--l)t[l]=0;t[i]=f,t.t=this.t+i+1,t.s=this.s,t.clamp()}function BD(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,a=this.DB-n,i=(1<<n)-1;t[0]=this[r]>>n;for(var f=r+1;f<this.t;++f)t[f-r-1]|=(this[f]&i)<<a,t[f-r]=this[f]>>n;n>0&&(t[this.t-r-1]|=(this.s&i)<<a),t.t=this.t-r,t.clamp()}function UD(e,t){for(var r=0,n=0,a=Math.min(e.t,this.t);r<a;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()}function FD(e,t){var r=this.abs(),n=e.abs(),a=r.t;for(t.t=a+n.t;--a>=0;)t[a]=0;for(a=0;a<n.t;++a)t[a+r.t]=r.am(0,n[a],t,a,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&je.ZERO.subTo(t,t)}function LD(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()}function qD(e,t,r){var n=e.abs();if(!(n.t<=0)){var a=this.abs();if(a.t<n.t){t!=null&&t.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=Br());var i=Br(),f=this.s,l=e.s,v=this.DB-om(n[n.t-1]);v>0?(n.lShiftTo(v,i),a.lShiftTo(v,r)):(n.copyTo(i),a.copyTo(r));var h=i.t,g=i[h-1];if(g!=0){var _=g*(1<<this.F1)+(h>1?i[h-2]>>this.F2:0),M=this.FV/_,E=(1<<this.F1)/_,A=1<<this.F2,I=r.t,O=I-h,T=t==null?Br():t;for(i.dlShiftTo(O,T),r.compareTo(T)>=0&&(r[r.t++]=1,r.subTo(T,r)),je.ONE.dlShiftTo(h,T),T.subTo(i,i);i.t<h;)i[i.t++]=0;for(;--O>=0;){var P=r[--I]==g?this.DM:Math.floor(r[I]*M+(r[I-1]+A)*E);if((r[I]+=i.am(0,P,r,O,0,h))<P)for(i.dlShiftTo(O,T),r.subTo(T,r);r[I]<--P;)r.subTo(T,r)}t!=null&&(r.drShiftTo(h,t),f!=l&&je.ZERO.subTo(t,t)),r.t=h,r.clamp(),v>0&&r.rShiftTo(v,r),f<0&&je.ZERO.subTo(r,r)}}}function jD(e){var t=Br();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(je.ZERO)>0&&e.subTo(t,t),t}function $D(){if(this.t<1)return 0;var e=this[0];if((e&1)==0)return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function VD(e){return this.compareTo(e)==0}function zD(e,t){for(var r=0,n=0,a=Math.min(e.t,this.t);r<a;)n+=this[r]+e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e[r],t[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t[r++]=n:n<-1&&(t[r++]=this.DV+n),t.t=r,t.clamp()}function KD(e){var t=Br();return this.addTo(e,t),t}function HD(e){var t=Br();return this.subTo(e,t),t}function GD(e){var t=Br();return this.multiplyTo(e,t),t}function WD(e){var t=Br();return this.divRemTo(e,t,null),t}function Is(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function JD(e){var t=Br();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(je.ZERO)>0&&this.m.subTo(t,t),t}function ZD(e){var t=Br();return e.copyTo(t),this.reduce(t),t}function YD(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e[t]&32767,n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e[r]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function XD(e,t){e.squareTo(t),this.reduce(t)}function QD(e,t,r){e.multiplyTo(t,r),this.reduce(r)}Is.prototype.convert=JD;Is.prototype.revert=ZD;Is.prototype.reduce=YD;Is.prototype.mulTo=QD;Is.prototype.sqrTo=XD;function eB(e,t,r){var n=e.bitLength(),a,i=am(1),f=new Is(t);if(n<=0)return i;n<18?a=1:n<48?a=3:n<144?a=4:n<768?a=5:a=6;var l=new Array,v=3,h=a-1,g=(1<<a)-1;if(l[1]=f.convert(this),a>1){var _=Br();for(f.sqrTo(l[1],_);v<=g;)l[v]=Br(),f.mulTo(_,l[v-2],l[v]),v+=2}var M=e.t-1,E,A=!0,I=Br(),O;for(n=om(e[M])-1;M>=0;){for(n>=h?E=e[M]>>n-h&g:(E=(e[M]&(1<<n+1)-1)<<h-n,M>0&&(E|=e[M-1]>>this.DB+n-h)),v=a;(E&1)==0;)E>>=1,--v;if((n-=v)<0&&(n+=this.DB,--M),A)l[E].copyTo(i),A=!1;else{for(;v>1;)f.sqrTo(i,I),f.sqrTo(I,i),v-=2;v>0?f.sqrTo(i,I):(O=i,i=I,I=O),f.mulTo(I,l[E],i)}for(;M>=0&&(e[M]&1<<n)==0;)f.sqrTo(i,I),O=i,i=I,I=O,--n<0&&(n=this.DB-1,--M)}var T=f.revert(i);return r(null,T),T}je.prototype.copyTo=xD;je.prototype.fromInt=ED;je.prototype.fromString=AD;je.prototype.clamp=ID;je.prototype.dlShiftTo=RD;je.prototype.drShiftTo=ND;je.prototype.lShiftTo=DD;je.prototype.rShiftTo=BD;je.prototype.subTo=UD;je.prototype.multiplyTo=FD;je.prototype.squareTo=LD;je.prototype.divRemTo=qD;je.prototype.invDigit=$D;je.prototype.addTo=zD;je.prototype.toString=TD;je.prototype.negate=CD;je.prototype.abs=OD;je.prototype.compareTo=PD;je.prototype.bitLength=kD;je.prototype.mod=jD;je.prototype.equals=VD;je.prototype.add=KD;je.prototype.subtract=HD;je.prototype.multiply=GD;je.prototype.divide=WD;je.prototype.modPow=eB;je.ZERO=am(0);je.ONE=am(1);/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */function rd(e){return Ue.Buffer.from(new a4().random(e).toString(),"hex")}var tB=/^[89a-f]/i,rB="FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",nB="userAttributes.",vo=function(){function e(r){this.N=new je(rB,16),this.g=new je("2",16),this.k=new je(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue(function(){}),this.infoBits=Ue.Buffer.from("Caldera Derived Key","utf8"),this.poolName=r}var t=e.prototype;return t.getSmallAValue=function(){return this.smallAValue},t.getLargeAValue=function(n){var a=this;this.largeAValue?n(null,this.largeAValue):this.calculateA(this.smallAValue,function(i,f){i&&n(i,null),a.largeAValue=f,n(null,a.largeAValue)})},t.generateRandomSmallA=function(){var n=rd(128).toString("hex"),a=new je(n,16);return a},t.generateRandomString=function(){return rd(40).toString("base64")},t.getRandomPassword=function(){return this.randomPassword},t.getSaltDevices=function(){return this.SaltToHashDevices},t.getVerifierDevices=function(){return this.verifierDevices},t.generateHashDevice=function(n,a,i){var f=this;this.randomPassword=this.generateRandomString();var l=""+n+a+":"+this.randomPassword,v=this.hash(l),h=rd(16).toString("hex");this.SaltToHashDevices=this.padHex(new je(h,16)),this.g.modPow(new je(this.hexHash(this.SaltToHashDevices+v),16),this.N,function(g,_){g&&i(g,null),f.verifierDevices=f.padHex(_),i(null,null)})},t.calculateA=function(n,a){var i=this;this.g.modPow(n,this.N,function(f,l){f&&a(f,null),l.mod(i.N).equals(je.ZERO)&&a(new Error("Illegal paramater. A mod N cannot be 0."),null),a(null,l)})},t.calculateU=function(n,a){this.UHexHash=this.hexHash(this.padHex(n)+this.padHex(a));var i=new je(this.UHexHash,16);return i},t.hash=function(n){var a=new Ci.Sha256;a.update(n);var i=a.digestSync(),f=Ue.Buffer.from(i).toString("hex");return new Array(64-f.length).join("0")+f},t.hexHash=function(n){return this.hash(Ue.Buffer.from(n,"hex"))},t.computehkdf=function(n,a){var i=Ue.Buffer.concat([this.infoBits,Ue.Buffer.from(String.fromCharCode(1),"utf8")]),f=new Ci.Sha256(a);f.update(n);var l=f.digestSync(),v=new Ci.Sha256(l);v.update(i);var h=v.digestSync(),g=h,_=g.slice(0,16);return _},t.getPasswordAuthenticationKey=function(n,a,i,f,l){var v=this;if(i.mod(this.N).equals(je.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,i),this.UValue.equals(je.ZERO))throw new Error("U cannot be zero.");var h=""+this.poolName+n+":"+a,g=this.hash(h),_=new je(this.hexHash(this.padHex(f)+g),16);this.calculateS(_,i,function(M,E){M&&l(M,null);var A=v.computehkdf(Ue.Buffer.from(v.padHex(E),"hex"),Ue.Buffer.from(v.padHex(v.UValue),"hex"));l(null,A)})},t.calculateS=function(n,a,i){var f=this;this.g.modPow(n,this.N,function(l,v){l&&i(l,null);var h=a.subtract(f.k.multiply(v));h.modPow(f.smallAValue.add(f.UValue.multiply(n)),f.N,function(g,_){g&&i(g,null),i(null,_.mod(f.N))})})},t.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return nB},t.padHex=function(n){if(!(n instanceof je))throw new Error("Not a BigInteger");var a=n.compareTo(je.ZERO)<0,i=n.abs().toString(16);if(i=i.length%2!==0?"0"+i:i,i=tB.test(i)?"00"+i:i,a){var f=i.split("").map(function(v){var h=~parseInt(v,16)&15;return"0123456789ABCDEF".charAt(h)}).join(""),l=new je(f,16).add(je.ONE);i=l.toString(16),i.toUpperCase().startsWith("FF8")&&(i=i.substring(2))}return i},e}();/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var o4=function(){function e(r){this.jwtToken=r||"",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var n=this.jwtToken.split(".")[1];try{return JSON.parse(Ue.Buffer.from(n,"base64").toString("utf8"))}catch{return{}}},e}();function iB(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Z0(e,t)}function Z0(e,t){return Z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Z0(e,t)}var Y0=function(e){iB(t,e);function t(r){var n=r===void 0?{}:r,a=n.AccessToken;return e.call(this,a||"")||this}return t}(o4);function aB(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,X0(e,t)}function X0(e,t){return X0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},X0(e,t)}var Q0=function(e){aB(t,e);function t(r){var n=r===void 0?{}:r,a=n.IdToken;return e.call(this,a||"")||this}return t}(o4);/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var ev=function(){function e(r){var n=r===void 0?{}:r,a=n.RefreshToken;this.token=a||""}var t=e.prototype;return t.getToken=function(){return this.token},e}(),oB="5.0.4";/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var tv="aws-amplify/"+oB,Zi={userAgent:tv+" js",product:"",navigator:null,isReactNative:!1};if(typeof navigator<"u"&&navigator.product)switch(Zi.product=navigator.product||"",Zi.navigator=navigator||null,navigator.product){case"ReactNative":Zi.userAgent=tv+" react-native",Zi.isReactNative=!0;break;default:Zi.userAgent=tv+" js",Zi.isReactNative=!1;break}var sB=function(){return Zi.userAgent};/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var rv=function(){function e(r){var n=r===void 0?{}:r,a=n.IdToken,i=n.RefreshToken,f=n.AccessToken,l=n.ClockDrift;if(f==null||a==null)throw new Error("Id token and Access Token must be present.");this.idToken=a,this.refreshToken=i,this.accessToken=f,this.clockDrift=l===void 0?this.calculateClockDrift():l}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){var n=Math.floor(new Date/1e3),a=Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt());return n-a},t.isValid=function(){var n=Math.floor(new Date/1e3),a=n-this.clockDrift;return a<this.accessToken.getExpiration()&&a<this.idToken.getExpiration()},e}();/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var uB=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fB=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Z1=function(){function e(){}var t=e.prototype;return t.getNowString=function(){var n=new Date,a=fB[n.getUTCDay()],i=uB[n.getUTCMonth()],f=n.getUTCDate(),l=n.getUTCHours();l<10&&(l="0"+l);var v=n.getUTCMinutes();v<10&&(v="0"+v);var h=n.getUTCSeconds();h<10&&(h="0"+h);var g=n.getUTCFullYear(),_=a+" "+i+" "+f+" "+l+":"+v+":"+h+" UTC "+g;return _},e}();/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var Mo=function(){function e(r){var n=r===void 0?{}:r,a=n.Name,i=n.Value;this.Name=a||"",this.Value=i||""}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(n){return this.Value=n,this},t.getName=function(){return this.Name},t.setName=function(n){return this.Name=n,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}();/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var ba={},cB=function(){function e(){}return e.setItem=function(r,n){return ba[r]=n,ba[r]},e.getItem=function(r){return Object.prototype.hasOwnProperty.call(ba,r)?ba[r]:void 0},e.removeItem=function(r){return delete ba[r]},e.clear=function(){return ba={},ba},e}(),s4=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch{this.storageWindow=cB}}var t=e.prototype;return t.getStorage=function(){return this.storageWindow},e}();/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var lB=typeof navigator<"u",Y1=lB?Zi.isReactNative?"react-native":navigator.userAgent:"nodejs",nv=function(){function e(r){if(r==null||r.Username==null||r.Pool==null)throw new Error("Username and Pool information are required.");this.username=r.Username||"",this.pool=r.Pool,this.Session=null,this.client=r.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=r.Storage||new s4().getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var t=e.prototype;return t.setSignInUserSession=function(n){this.clearCachedUserData(),this.signInUserSession=n,this.cacheTokens()},t.getSignInUserSession=function(){return this.signInUserSession},t.getUsername=function(){return this.username},t.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.setAuthenticationFlowType=function(n){this.authenticationFlowType=n},t.initiateAuth=function(n,a){var i=this,f=n.getAuthParameters();f.USERNAME=this.username;var l=Object.keys(n.getValidationData()).length!==0?n.getValidationData():n.getClientMetadata(),v={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:f,ClientMetadata:l};this.getUserContextData()&&(v.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",v,function(h,g){if(h)return a.onFailure(h);var _=g.ChallengeName,M=g.ChallengeParameters;return _==="CUSTOM_CHALLENGE"?(i.Session=g.Session,a.customChallenge(M)):(i.signInUserSession=i.getCognitoUserSession(g.AuthenticationResult),i.cacheTokens(),a.onSuccess(i.signInUserSession))})},t.authenticateUser=function(n,a){return this.authenticationFlowType==="USER_PASSWORD_AUTH"?this.authenticateUserPlainUsernamePassword(n,a):this.authenticationFlowType==="USER_SRP_AUTH"||this.authenticationFlowType==="CUSTOM_AUTH"?this.authenticateUserDefaultAuth(n,a):a.onFailure(new Error("Authentication flow type is invalid."))},t.authenticateUserDefaultAuth=function(n,a){var i=this,f=new vo(this.pool.getUserPoolName()),l=new Z1,v,h,g={};this.deviceKey!=null&&(g.DEVICE_KEY=this.deviceKey),g.USERNAME=this.username,f.getLargeAValue(function(_,M){_&&a.onFailure(_),g.SRP_A=M.toString(16),i.authenticationFlowType==="CUSTOM_AUTH"&&(g.CHALLENGE_NAME="SRP_A");var E=Object.keys(n.getValidationData()).length!==0?n.getValidationData():n.getClientMetadata(),A={AuthFlow:i.authenticationFlowType,ClientId:i.pool.getClientId(),AuthParameters:g,ClientMetadata:E};i.getUserContextData(i.username)&&(A.UserContextData=i.getUserContextData(i.username)),i.client.request("InitiateAuth",A,function(I,O){if(I)return a.onFailure(I);var T=O.ChallengeParameters;i.username=T.USER_ID_FOR_SRP,i.userDataKey=i.keyPrefix+"."+i.username+".userData",v=new je(T.SRP_B,16),h=new je(T.SALT,16),i.getCachedDeviceKeyAndPassword(),f.getPasswordAuthenticationKey(i.username,n.getPassword(),v,h,function(P,k){P&&a.onFailure(P);var R=l.getNowString(),D=Ue.Buffer.concat([Ue.Buffer.from(i.pool.getUserPoolName(),"utf8"),Ue.Buffer.from(i.username,"utf8"),Ue.Buffer.from(T.SECRET_BLOCK,"base64"),Ue.Buffer.from(R,"utf8")]),V=new Ci.Sha256(k);V.update(D);var q=V.digestSync(),$=Ue.Buffer.from(q).toString("base64"),F={};F.USERNAME=i.username,F.PASSWORD_CLAIM_SECRET_BLOCK=T.SECRET_BLOCK,F.TIMESTAMP=R,F.PASSWORD_CLAIM_SIGNATURE=$,i.deviceKey!=null&&(F.DEVICE_KEY=i.deviceKey);var z=function o(u,c){return i.client.request("RespondToAuthChallenge",u,function(d,p){return d&&d.code==="ResourceNotFoundException"&&d.message.toLowerCase().indexOf("device")!==-1?(F.DEVICE_KEY=null,i.deviceKey=null,i.randomPassword=null,i.deviceGroupKey=null,i.clearCachedDeviceKeyAndPassword(),o(u,c)):c(d,p)})},b={ChallengeName:"PASSWORD_VERIFIER",ClientId:i.pool.getClientId(),ChallengeResponses:F,Session:O.Session,ClientMetadata:E};i.getUserContextData()&&(b.UserContextData=i.getUserContextData()),z(b,function(o,u){return o?a.onFailure(o):i.authenticateUserInternal(u,f,a)})})})})},t.authenticateUserPlainUsernamePassword=function(n,a){var i=this,f={};if(f.USERNAME=this.username,f.PASSWORD=n.getPassword(),!f.PASSWORD){a.onFailure(new Error("PASSWORD parameter is required"));return}var l=new vo(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),this.deviceKey!=null&&(f.DEVICE_KEY=this.deviceKey);var v=Object.keys(n.getValidationData()).length!==0?n.getValidationData():n.getClientMetadata(),h={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:f,ClientMetadata:v};this.getUserContextData(this.username)&&(h.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",h,function(g,_){return g?a.onFailure(g):i.authenticateUserInternal(_,l,a)})},t.authenticateUserInternal=function(n,a,i){var f=this,l=n.ChallengeName,v=n.ChallengeParameters;if(l==="SMS_MFA")return this.Session=n.Session,i.mfaRequired(l,v);if(l==="SELECT_MFA_TYPE")return this.Session=n.Session,i.selectMFAType(l,v);if(l==="MFA_SETUP")return this.Session=n.Session,i.mfaSetup(l,v);if(l==="SOFTWARE_TOKEN_MFA")return this.Session=n.Session,i.totpRequired(l,v);if(l==="CUSTOM_CHALLENGE")return this.Session=n.Session,i.customChallenge(v);if(l==="NEW_PASSWORD_REQUIRED"){this.Session=n.Session;var h=null,g=null,_=[],M=a.getNewPasswordRequiredChallengeUserAttributePrefix();if(v&&(h=JSON.parse(n.ChallengeParameters.userAttributes),g=JSON.parse(n.ChallengeParameters.requiredAttributes)),g)for(var E=0;E<g.length;E++)_[E]=g[E].substr(M.length);return i.newPasswordRequired(h,_)}if(l==="DEVICE_SRP_AUTH"){this.Session=n.Session,this.getDeviceResponse(i);return}this.signInUserSession=this.getCognitoUserSession(n.AuthenticationResult),this.challengeName=l,this.cacheTokens();var A=n.AuthenticationResult.NewDeviceMetadata;if(A==null)return i.onSuccess(this.signInUserSession);a.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(I){if(I)return i.onFailure(I);var O={Salt:Ue.Buffer.from(a.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:Ue.Buffer.from(a.getVerifierDevices(),"hex").toString("base64")};f.verifierDevices=O.PasswordVerifier,f.deviceGroupKey=A.DeviceGroupKey,f.randomPassword=a.getRandomPassword(),f.client.request("ConfirmDevice",{DeviceKey:A.DeviceKey,AccessToken:f.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:O,DeviceName:Y1},function(T,P){return T?i.onFailure(T):(f.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,f.cacheDeviceKeyAndPassword(),P.UserConfirmationNecessary===!0?i.onSuccess(f.signInUserSession,P.UserConfirmationNecessary):i.onSuccess(f.signInUserSession))})})},t.completeNewPasswordChallenge=function(n,a,i,f){var l=this;if(!n)return i.onFailure(new Error("New password is required."));var v=new vo(this.pool.getUserPoolName()),h=v.getNewPasswordRequiredChallengeUserAttributePrefix(),g={};a&&Object.keys(a).forEach(function(M){g[h+M]=a[M]}),g.NEW_PASSWORD=n,g.USERNAME=this.username;var _={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:g,Session:this.Session,ClientMetadata:f};this.getUserContextData()&&(_.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",_,function(M,E){return M?i.onFailure(M):l.authenticateUserInternal(E,v,i)})},t.getDeviceResponse=function(n,a){var i=this,f=new vo(this.deviceGroupKey),l=new Z1,v={};v.USERNAME=this.username,v.DEVICE_KEY=this.deviceKey,f.getLargeAValue(function(h,g){h&&n.onFailure(h),v.SRP_A=g.toString(16);var _={ChallengeName:"DEVICE_SRP_AUTH",ClientId:i.pool.getClientId(),ChallengeResponses:v,ClientMetadata:a,Session:i.Session};i.getUserContextData()&&(_.UserContextData=i.getUserContextData()),i.client.request("RespondToAuthChallenge",_,function(M,E){if(M)return n.onFailure(M);var A=E.ChallengeParameters,I=new je(A.SRP_B,16),O=new je(A.SALT,16);f.getPasswordAuthenticationKey(i.deviceKey,i.randomPassword,I,O,function(T,P){if(T)return n.onFailure(T);var k=l.getNowString(),R=Ue.Buffer.concat([Ue.Buffer.from(i.deviceGroupKey,"utf8"),Ue.Buffer.from(i.deviceKey,"utf8"),Ue.Buffer.from(A.SECRET_BLOCK,"base64"),Ue.Buffer.from(k,"utf8")]),D=new Ci.Sha256(P);D.update(R);var V=D.digestSync(),q=Ue.Buffer.from(V).toString("base64"),$={};$.USERNAME=i.username,$.PASSWORD_CLAIM_SECRET_BLOCK=A.SECRET_BLOCK,$.TIMESTAMP=k,$.PASSWORD_CLAIM_SIGNATURE=q,$.DEVICE_KEY=i.deviceKey;var F={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:i.pool.getClientId(),ChallengeResponses:$,Session:E.Session};i.getUserContextData()&&(F.UserContextData=i.getUserContextData()),i.client.request("RespondToAuthChallenge",F,function(z,b){return z?n.onFailure(z):(i.signInUserSession=i.getCognitoUserSession(b.AuthenticationResult),i.cacheTokens(),n.onSuccess(i.signInUserSession))})})})})},t.confirmRegistration=function(n,a,i,f){var l={ClientId:this.pool.getClientId(),ConfirmationCode:n,Username:this.username,ForceAliasCreation:a,ClientMetadata:f};this.getUserContextData()&&(l.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",l,function(v){return v?i(v,null):i(null,"SUCCESS")})},t.sendCustomChallengeAnswer=function(n,a,i){var f=this,l={};l.USERNAME=this.username,l.ANSWER=n;var v=new vo(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),this.deviceKey!=null&&(l.DEVICE_KEY=this.deviceKey);var h={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:l,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:i};this.getUserContextData()&&(h.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",h,function(g,_){return g?a.onFailure(g):f.authenticateUserInternal(_,v,a)})},t.sendMFACode=function(n,a,i,f){var l=this,v={};v.USERNAME=this.username,v.SMS_MFA_CODE=n;var h=i||"SMS_MFA";h==="SOFTWARE_TOKEN_MFA"&&(v.SOFTWARE_TOKEN_MFA_CODE=n),this.deviceKey!=null&&(v.DEVICE_KEY=this.deviceKey);var g={ChallengeName:h,ChallengeResponses:v,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:f};this.getUserContextData()&&(g.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",g,function(_,M){if(_)return a.onFailure(_);var E=M.ChallengeName;if(E==="DEVICE_SRP_AUTH"){l.getDeviceResponse(a);return}if(l.signInUserSession=l.getCognitoUserSession(M.AuthenticationResult),l.cacheTokens(),M.AuthenticationResult.NewDeviceMetadata==null)return a.onSuccess(l.signInUserSession);var A=new vo(l.pool.getUserPoolName());A.generateHashDevice(M.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,M.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(I){if(I)return a.onFailure(I);var O={Salt:Ue.Buffer.from(A.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:Ue.Buffer.from(A.getVerifierDevices(),"hex").toString("base64")};l.verifierDevices=O.PasswordVerifier,l.deviceGroupKey=M.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,l.randomPassword=A.getRandomPassword(),l.client.request("ConfirmDevice",{DeviceKey:M.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:l.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:O,DeviceName:Y1},function(T,P){return T?a.onFailure(T):(l.deviceKey=M.AuthenticationResult.NewDeviceMetadata.DeviceKey,l.cacheDeviceKeyAndPassword(),P.UserConfirmationNecessary===!0?a.onSuccess(l.signInUserSession,P.UserConfirmationNecessary):a.onSuccess(l.signInUserSession))})})})},t.changePassword=function(n,a,i,f){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return i(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:n,ProposedPassword:a,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:f},function(l){return l?i(l,null):i(null,"SUCCESS")})},t.enableMFA=function(n){if(this.signInUserSession==null||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);var a=[],i={DeliveryMedium:"SMS",AttributeName:"phone_number"};a.push(i),this.client.request("SetUserSettings",{MFAOptions:a,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(f){return f?n(f,null):n(null,"SUCCESS")})},t.setUserMfaPreference=function(n,a,i){if(this.signInUserSession==null||!this.signInUserSession.isValid())return i(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:n,SoftwareTokenMfaSettings:a,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(f){return f?i(f,null):i(null,"SUCCESS")})},t.disableMFA=function(n){if(this.signInUserSession==null||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);var a=[];this.client.request("SetUserSettings",{MFAOptions:a,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(i){return i?n(i,null):n(null,"SUCCESS")})},t.deleteUser=function(n,a){var i=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:a},function(f){return f?n(f,null):(i.clearCachedUser(),n(null,"SUCCESS"))})},t.updateAttributes=function(n,a,i){var f=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return a(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:n,ClientMetadata:i},function(l,v){return l?a(l,null):f.getUserData(function(){return a(null,"SUCCESS",v)},{bypassCache:!0})})},t.getUserAttributes=function(n){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return n(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(a,i){if(a)return n(a,null);for(var f=[],l=0;l<i.UserAttributes.length;l++){var v={Name:i.UserAttributes[l].Name,Value:i.UserAttributes[l].Value},h=new Mo(v);f.push(h)}return n(null,f)})},t.getMFAOptions=function(n){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return n(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(a,i){return a?n(a,null):n(null,i.MFAOptions)})},t.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},t.refreshSessionIfPossible=function(n){var a=this;return n===void 0&&(n={}),new Promise(function(i){var f=a.signInUserSession.getRefreshToken();f&&f.getToken()?a.refreshSession(f,i,n.clientMetadata):i()})},t.getUserData=function(n,a){var i=this;if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return this.clearCachedUserData(),n(new Error("User is not authenticated"),null);var f=this.getUserDataFromCache();if(!f){this.fetchUserData().then(function(l){n(null,l)}).catch(n);return}if(this.isFetchUserDataAndTokenRequired(a)){this.fetchUserData().then(function(l){return i.refreshSessionIfPossible(a).then(function(){return l})}).then(function(l){return n(null,l)}).catch(n);return}try{n(null,JSON.parse(f));return}catch(l){this.clearCachedUserData(),n(l,null);return}},t.getUserDataFromCache=function(){var n=this.storage.getItem(this.userDataKey);return n},t.isFetchUserDataAndTokenRequired=function(n){var a=n||{},i=a.bypassCache,f=i===void 0?!1:i;return f},t.fetchUserData=function(){var n=this;return this.createGetUserRequest().then(function(a){return n.cacheUserData(a),a})},t.deleteAttributes=function(n,a){var i=this;if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return a(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:n,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(f){return f?a(f,null):i.getUserData(function(){return a(null,"SUCCESS")},{bypassCache:!0})})},t.resendConfirmationCode=function(n,a){var i={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:a};this.client.request("ResendConfirmationCode",i,function(f,l){return f?n(f,null):n(null,l)})},t.getSession=function(n,a){if(a===void 0&&(a={}),this.username==null)return n(new Error("Username is null. Cannot retrieve a new session"),null);if(this.signInUserSession!=null&&this.signInUserSession.isValid())return n(null,this.signInUserSession);var i="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,f=i+".idToken",l=i+".accessToken",v=i+".refreshToken",h=i+".clockDrift";if(this.storage.getItem(f)){var g=new Q0({IdToken:this.storage.getItem(f)}),_=new Y0({AccessToken:this.storage.getItem(l)}),M=new ev({RefreshToken:this.storage.getItem(v)}),E=parseInt(this.storage.getItem(h),0)||0,A={IdToken:g,AccessToken:_,RefreshToken:M,ClockDrift:E},I=new rv(A);if(I.isValid())return this.signInUserSession=I,n(null,this.signInUserSession);if(!M.getToken())return n(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(M,n,a.clientMetadata)}else n(new Error("Local storage is missing an ID Token, Please authenticate"),null)},t.refreshSession=function(n,a,i){var f=this,l=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(a):a,v={};v.REFRESH_TOKEN=n.getToken();var h="CognitoIdentityServiceProvider."+this.pool.getClientId(),g=h+".LastAuthUser";if(this.storage.getItem(g)){this.username=this.storage.getItem(g);var _=h+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(_),v.DEVICE_KEY=this.deviceKey}var M={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:v,ClientMetadata:i};this.getUserContextData()&&(M.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",M,function(E,A){if(E)return E.code==="NotAuthorizedException"&&f.clearCachedUser(),l(E,null);if(A){var I=A.AuthenticationResult;return Object.prototype.hasOwnProperty.call(I,"RefreshToken")||(I.RefreshToken=n.getToken()),f.signInUserSession=f.getCognitoUserSession(I),f.cacheTokens(),l(null,f.signInUserSession)}})},t.cacheTokens=function(){var n="CognitoIdentityServiceProvider."+this.pool.getClientId(),a=n+"."+this.username+".idToken",i=n+"."+this.username+".accessToken",f=n+"."+this.username+".refreshToken",l=n+"."+this.username+".clockDrift",v=n+".LastAuthUser";this.storage.setItem(a,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(i,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(f,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(l,""+this.signInUserSession.getClockDrift()),this.storage.setItem(v,this.username)},t.cacheUserData=function(n){this.storage.setItem(this.userDataKey,JSON.stringify(n))},t.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.cacheDeviceKeyAndPassword=function(){var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,a=n+".deviceKey",i=n+".randomPasswordKey",f=n+".deviceGroupKey";this.storage.setItem(a,this.deviceKey),this.storage.setItem(i,this.randomPassword),this.storage.setItem(f,this.deviceGroupKey)},t.getCachedDeviceKeyAndPassword=function(){var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,a=n+".deviceKey",i=n+".randomPasswordKey",f=n+".deviceGroupKey";this.storage.getItem(a)&&(this.deviceKey=this.storage.getItem(a),this.randomPassword=this.storage.getItem(i),this.deviceGroupKey=this.storage.getItem(f))},t.clearCachedDeviceKeyAndPassword=function(){var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,a=n+".deviceKey",i=n+".randomPasswordKey",f=n+".deviceGroupKey";this.storage.removeItem(a),this.storage.removeItem(i),this.storage.removeItem(f)},t.clearCachedTokens=function(){var n="CognitoIdentityServiceProvider."+this.pool.getClientId(),a=n+"."+this.username+".idToken",i=n+"."+this.username+".accessToken",f=n+"."+this.username+".refreshToken",l=n+".LastAuthUser",v=n+"."+this.username+".clockDrift";this.storage.removeItem(a),this.storage.removeItem(i),this.storage.removeItem(f),this.storage.removeItem(l),this.storage.removeItem(v)},t.getCognitoUserSession=function(n){var a=new Q0(n),i=new Y0(n),f=new ev(n),l={IdToken:a,AccessToken:i,RefreshToken:f};return new rv(l)},t.forgotPassword=function(n,a){var i={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:a};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",i,function(f,l){return f?n.onFailure(f):typeof n.inputVerificationCode=="function"?n.inputVerificationCode(l):n.onSuccess(l)})},t.confirmPassword=function(n,a,i,f){var l={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:n,Password:a,ClientMetadata:f};this.getUserContextData()&&(l.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",l,function(v){return v?i.onFailure(v):i.onSuccess("SUCCESS")})},t.getAttributeVerificationCode=function(n,a,i){if(this.signInUserSession==null||!this.signInUserSession.isValid())return a.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:n,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:i},function(f,l){return f?a.onFailure(f):typeof a.inputVerificationCode=="function"?a.inputVerificationCode(l):a.onSuccess("SUCCESS")})},t.verifyAttribute=function(n,a,i){if(this.signInUserSession==null||!this.signInUserSession.isValid())return i.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:n,Code:a,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(f){return f?i.onFailure(f):i.onSuccess("SUCCESS")})},t.getDevice=function(n){if(this.signInUserSession==null||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},function(a,i){return a?n.onFailure(a):n.onSuccess(i)})},t.forgetSpecificDevice=function(n,a){if(this.signInUserSession==null||!this.signInUserSession.isValid())return a.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:n},function(i){return i?a.onFailure(i):a.onSuccess("SUCCESS")})},t.forgetDevice=function(n){var a=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:n.onFailure,onSuccess:function(f){return a.deviceKey=null,a.deviceGroupKey=null,a.randomPassword=null,a.clearCachedDeviceKeyAndPassword(),n.onSuccess(f)}})},t.setDeviceStatusRemembered=function(n){if(this.signInUserSession==null||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},function(a){return a?n.onFailure(a):n.onSuccess("SUCCESS")})},t.setDeviceStatusNotRemembered=function(n){if(this.signInUserSession==null||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},function(a){return a?n.onFailure(a):n.onSuccess("SUCCESS")})},t.listDevices=function(n,a,i){if(this.signInUserSession==null||!this.signInUserSession.isValid())return i.onFailure(new Error("User is not authenticated"));var f={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:n};a&&(f.PaginationToken=a),this.client.request("ListDevices",f,function(l,v){return l?i.onFailure(l):i.onSuccess(v)})},t.globalSignOut=function(n){var a=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(i){return i?n.onFailure(i):(a.clearCachedUser(),n.onSuccess("SUCCESS"))})},t.signOut=function(n){var a=this;if(!n||typeof n!="function"){this.cleanClientData();return}this.getSession(function(i,f){if(i)return n(i);a.revokeTokens(function(l){a.cleanClientData(),n(l)})})},t.revokeTokens=function(n){if(n===void 0&&(n=function(){}),typeof n!="function")throw new Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession){var a=new Error("User is not authenticated");return n(a)}if(!this.signInUserSession.getAccessToken()){var i=new Error("No Access token available");return n(i)}var f=this.signInUserSession.getRefreshToken().getToken(),l=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(l)&&f)return this.revokeToken({token:f,callback:n});n()},t.isSessionRevocable=function(n){if(n&&typeof n.decodePayload=="function")try{var a=n.decodePayload(),i=a.origin_jti;return!!i}catch{}return!1},t.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},t.revokeToken=function(n){var a=n.token,i=n.callback;this.client.requestWithRetry("RevokeToken",{Token:a,ClientId:this.pool.getClientId()},function(f){if(f)return i(f);i()})},t.sendMFASelectionAnswer=function(n,a){var i=this,f={};f.USERNAME=this.username,f.ANSWER=n;var l={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:f,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(l.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",l,function(v,h){if(v)return a.onFailure(v);if(i.Session=h.Session,n==="SMS_MFA")return a.mfaRequired(h.ChallengeName,h.ChallengeParameters);if(n==="SOFTWARE_TOKEN_MFA")return a.totpRequired(h.ChallengeName,h.ChallengeParameters)})},t.getUserContextData=function(){var n=this.pool;return n.getUserContextData(this.username)},t.associateSoftwareToken=function(n){var a=this;this.signInUserSession!=null&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(i,f){return i?n.onFailure(i):n.associateSecretCode(f.SecretCode)}):this.client.request("AssociateSoftwareToken",{Session:this.Session},function(i,f){return i?n.onFailure(i):(a.Session=f.Session,n.associateSecretCode(f.SecretCode))})},t.verifySoftwareToken=function(n,a,i){var f=this;this.signInUserSession!=null&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:n,FriendlyDeviceName:a},function(l,v){return l?i.onFailure(l):i.onSuccess(v)}):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:n,FriendlyDeviceName:a},function(l,v){if(l)return i.onFailure(l);f.Session=v.Session;var h={};h.USERNAME=f.username;var g={ChallengeName:"MFA_SETUP",ClientId:f.pool.getClientId(),ChallengeResponses:h,Session:f.Session};f.getUserContextData()&&(g.UserContextData=f.getUserContextData()),f.client.request("RespondToAuthChallenge",g,function(_,M){return _?i.onFailure(_):(f.signInUserSession=f.getCognitoUserSession(M.AuthenticationResult),f.cacheTokens(),i.onSuccess(f.signInUserSession))})})},e}();function hB(e,t){return t=t||{},new Promise(function(r,n){var a=new XMLHttpRequest,i=[],f=[],l={},v=function(){return{ok:(a.status/100|0)==2,statusText:a.statusText,status:a.status,url:a.responseURL,text:function(){return Promise.resolve(a.responseText)},json:function(){return Promise.resolve(a.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([a.response]))},clone:v,headers:{keys:function(){return i},entries:function(){return f},get:function(g){return l[g.toLowerCase()]},has:function(g){return g.toLowerCase()in l}}}};for(var h in a.open(t.method||"get",e,!0),a.onload=function(){a.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(g,_,M){i.push(_=_.toLowerCase()),f.push([_,M]),l[_]=l[_]?l[_]+","+M:M}),r(v())},a.onerror=n,a.withCredentials=t.credentials=="include",t.headers)a.setRequestHeader(h,t.headers[h]);a.send(t.body||null)})}const dB=Object.freeze(Object.defineProperty({__proto__:null,default:hB},Symbol.toStringTag,{value:"Module"})),X1=e2(dB);self.fetch||(self.fetch=X1.default||X1);function u4(){}u4.prototype.userAgent=sB();function vB(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,uu(e,t)}function iv(e){var t=typeof Map=="function"?new Map:void 0;return iv=function(n){if(n===null||!mB(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,a)}function a(){return Tf(n,arguments,av(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),uu(a,n)},iv(e)}function Tf(e,t,r){return pB()?Tf=Reflect.construct.bind():Tf=function(a,i,f){var l=[null];l.push.apply(l,i);var v=Function.bind.apply(a,l),h=new v;return f&&uu(h,f.prototype),h},Tf.apply(null,arguments)}function pB(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mB(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function uu(e,t){return uu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uu(e,t)}function av(e){return av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},av(e)}var yB=function(e){vB(t,e);function t(r,n,a,i){var f;return f=e.call(this,r)||this,f.code=n,f.name=a,f.statusCode=i,f}return t}(iv(Error)),gB=function(){function e(r,n,a){this.endpoint=n||"https://cognito-idp."+r+".amazonaws.com/";var i=a||{},f=i.credentials;this.fetchOptions=f?{credentials:f}:{}}var t=e.prototype;return t.promisifyRequest=function(n,a){var i=this;return new Promise(function(f,l){i.request(n,a,function(v,h){v?l(new yB(v.message,v.code,v.name,v.statusCode)):f(h)})})},t.requestWithRetry=function(n,a,i){var f=this,l=5*1e3;SB(function(v){return new Promise(function(h,g){f.request(n,v,function(_,M){_?g(_):h(M)})})},[a],l).then(function(v){return i(null,v)}).catch(function(v){return i(v)})},t.request=function(n,a,i){var f={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+n,"X-Amz-User-Agent":u4.prototype.userAgent,"Cache-Control":"no-store"},l=Object.assign({},this.fetchOptions,{headers:f,method:"POST",mode:"cors",body:JSON.stringify(a)}),v;fetch(this.endpoint,l).then(function(h){return v=h,h},function(h){throw h instanceof TypeError?new Error("Network error"):h}).then(function(h){return h.json().catch(function(){return{}})}).then(function(h){if(v.ok)return i(null,h);var g=(h.__type||h.code).split("#").pop(),_=new Error(h.message||h.Message||null);return _.name=g,_.code=g,i(_)}).catch(function(h){if(v&&v.headers&&v.headers.get("x-amzn-errortype"))try{var g=v.headers.get("x-amzn-errortype").split(":")[0],_=new Error(v.status?v.status.toString():null);return _.code=g,_.name=g,_.statusCode=v.status,i(_)}catch{return i(h)}else h instanceof Error&&h.message==="Network error"&&(h.code="NetworkError");return i(h)})},e}(),Xu={debug:function(){}},bB=function(t){var r="nonRetryable";return t&&t[r]};function f4(e,t,r,n){if(n===void 0&&(n=1),typeof e!="function")throw Error("functionToRetry must be a function");return Xu.debug(e.name+" attempt #"+n+" with args: "+JSON.stringify(t)),e.apply(void 0,t).catch(function(a){if(Xu.debug("error on "+e.name,a),bB(a))throw Xu.debug(e.name+" non retryable error",a),a;var i=r(n,t,a);if(Xu.debug(e.name+" retrying in "+i+" ms"),i!==!1)return new Promise(function(f){return setTimeout(f,i)}).then(function(){return f4(e,t,r,n+1)});throw a})}function wB(e){var t=100,r=100;return function(n){var a=Math.pow(2,n)*t+r*Math.random();return a>e?!1:a}}var _B=5*60*1e3;function SB(e,t,r){return r===void 0&&(r=_B),f4(e,t,wB(r))}/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var MB=55,xB=function(){function e(r,n){var a=r||{},i=a.UserPoolId,f=a.ClientId,l=a.endpoint,v=a.fetchOptions,h=a.AdvancedSecurityDataCollectionFlag;if(!i||!f)throw new Error("Both UserPoolId and ClientId are required.");if(i.length>MB||!/^[\w-]+_[0-9a-zA-Z]+$/.test(i))throw new Error("Invalid UserPoolId format.");var g=i.split("_")[0];this.userPoolId=i,this.clientId=f,this.client=new gB(g,l,v),this.advancedSecurityDataCollectionFlag=h!==!1,this.storage=r.Storage||new s4().getStorage(),n&&(this.wrapRefreshSessionCallback=n)}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getUserPoolName=function(){return this.getUserPoolId().split("_")[1]},t.getClientId=function(){return this.clientId},t.signUp=function(n,a,i,f,l,v){var h=this,g={ClientId:this.clientId,Username:n,Password:a,UserAttributes:i,ValidationData:f,ClientMetadata:v};this.getUserContextData(n)&&(g.UserContextData=this.getUserContextData(n)),this.client.request("SignUp",g,function(_,M){if(_)return l(_,null);var E={Username:n,Pool:h,Storage:h.storage},A={user:new nv(E),userConfirmed:M.UserConfirmed,userSub:M.UserSub,codeDeliveryDetails:M.CodeDeliveryDetails};return l(null,A)})},t.getCurrentUser=function(){var n="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",a=this.storage.getItem(n);if(a){var i={Username:a,Pool:this,Storage:this.storage};return new nv(i)}return null},t.getUserContextData=function(n){if(!(typeof AmazonCognitoAdvancedSecurityData>"u")){var a=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var i=a.getData(n,this.userPoolId,this.clientId);if(i){var f={EncodedData:i};return f}}return{}}},e}(),xo={exports:{}};/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */(function(e,t){(function(r){var n;if(e.exports=r(),n=!0,!n){var a=window.Cookies,i=window.Cookies=r();i.noConflict=function(){return window.Cookies=a,i}}})(function(){function r(){for(var i=0,f={};i<arguments.length;i++){var l=arguments[i];for(var v in l)f[v]=l[v]}return f}function n(i){return i.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function a(i){function f(){}function l(h,g,_){if(!(typeof document>"u")){_=r({path:"/"},f.defaults,_),typeof _.expires=="number"&&(_.expires=new Date(new Date*1+_.expires*864e5)),_.expires=_.expires?_.expires.toUTCString():"";try{var M=JSON.stringify(g);/^[\{\[]/.test(M)&&(g=M)}catch{}g=i.write?i.write(g,h):encodeURIComponent(String(g)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),h=encodeURIComponent(String(h)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var E="";for(var A in _)!_[A]||(E+="; "+A,_[A]!==!0&&(E+="="+_[A].split(";")[0]));return document.cookie=h+"="+g+E}}function v(h,g){if(!(typeof document>"u")){for(var _={},M=document.cookie?document.cookie.split("; "):[],E=0;E<M.length;E++){var A=M[E].split("="),I=A.slice(1).join("=");!g&&I.charAt(0)==='"'&&(I=I.slice(1,-1));try{var O=n(A[0]);if(I=(i.read||i)(I,O)||n(I),g)try{I=JSON.parse(I)}catch{}if(_[O]=I,h===O)break}catch{}}return h?_[h]:_}}return f.set=l,f.get=function(h){return v(h,!1)},f.getJSON=function(h){return v(h,!0)},f.remove=function(h,g){l(h,"",r(g,{expires:-1}))},f.defaults={},f.withConverter=a,f}return a(function(){})})})(xo);var EB=function(){function e(r){if(r===void 0&&(r={}),r.domain&&(this.domain=r.domain),r.path?this.path=r.path:this.path="/",Object.prototype.hasOwnProperty.call(r,"expires")?this.expires=r.expires:this.expires=365,Object.prototype.hasOwnProperty.call(r,"secure")?this.secure=r.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(r,"sameSite")){if(!["strict","lax","none"].includes(r.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if(r.sameSite==="none"&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=r.sameSite}else this.sameSite=null}var t=e.prototype;return t.setItem=function(n,a){var i={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(i.sameSite=this.sameSite),xo.exports.set(n,a,i),xo.exports.get(n)},t.getItem=function(n){return xo.exports.get(n)},t.removeItem=function(n){var a={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(a.sameSite=this.sameSite),xo.exports.remove(n,a)},t.clear=function(){for(var n=xo.exports.get(),a=Object.keys(n).length,i=0;i<a;++i)this.removeItem(Object.keys(n)[i]);return{}},e}(),AB="_self",IB=function(e){var t=window.open(e,AB);return t?Promise.resolve(t):Promise.reject()},TB=function(e){window.sessionStorage.setItem("oauth_state",e)},CB=function(){var e=window.sessionStorage.getItem("oauth_state");return window.sessionStorage.removeItem("oauth_state"),e},OB=function(e){window.sessionStorage.setItem("ouath_pkce_key",e)},PB=function(){var e=window.sessionStorage.getItem("ouath_pkce_key");return window.sessionStorage.removeItem("ouath_pkce_key"),e},kB=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",nd=function(e,t,r){_r.dispatch("auth",{event:e,data:t,message:r},"Auth",kB)},po=new wt("OAuth"),RB=function(){function e(t){var r=t.config,n=t.cognitoClientId,a=t.scopes,i=a===void 0?[]:a;if(this._urlOpener=r.urlOpener||IB,this._config=r,this._cognitoClientId=n,!this.isValidScopes(i))throw Error("scopes must be a String Array");this._scopes=i}return e.prototype.isValidScopes=function(t){return Array.isArray(t)&&t.every(function(r){return typeof r=="string"})},e.prototype.oauthSignIn=function(t,r,n,a,i,f){t===void 0&&(t="code"),i===void 0&&(i=lc.Cognito);var l=this._generateState(32),v=f?l+"-"+Ix(f):l;TB(v);var h=this._generateRandom(128);OB(h);var g=this._generateChallenge(h),_="S256",M=this._scopes.join(" "),E=Object.entries(gr(gr({redirect_uri:n,response_type:t,client_id:a,identity_provider:i,scope:M,state:v},t==="code"?{code_challenge:g}:{}),t==="code"?{code_challenge_method:_}:{})).map(function(I){var O=Si(I,2),T=O[0],P=O[1];return encodeURIComponent(T)+"="+encodeURIComponent(P)}).join("&"),A="https://"+r+"/oauth2/authorize?"+E;po.debug("Redirecting to "+A),this._urlOpener(A,n)},e.prototype._handleCodeFlow=function(t){return pt(this,void 0,void 0,function(){var r,n,a,i,f,l,v,h,g,_,M,E,A,I;return mt(this,function(O){switch(O.label){case 0:return r=(Xt.exports.parse(t).query||"").split("&").map(function(T){return T.split("=")}).reduce(function(T,P){var k,R=Si(P,2),D=R[0],V=R[1];return gr(gr({},T),(k={},k[D]=V,k))},{code:void 0}).code,n=Xt.exports.parse(t).pathname||"/",a=Xt.exports.parse(this._config.redirectSignIn).pathname||"/",!r||n!==a?[2]:(i="https://"+this._config.domain+"/oauth2/token",nd("codeFlow",{},"Retrieving tokens from "+i),f=Pa(this._config)?this._cognitoClientId:this._config.clientID,l=Pa(this._config)?this._config.redirectSignIn:this._config.redirectUri,v=PB(),h=gr({grant_type:"authorization_code",code:r,client_id:f,redirect_uri:l},v?{code_verifier:v}:{}),po.debug("Calling token endpoint: "+i+" with",h),g=Object.entries(h).map(function(T){var P=Si(T,2),k=P[0],R=P[1];return encodeURIComponent(k)+"="+encodeURIComponent(R)}).join("&"),[4,fetch(i,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:g})]);case 1:return[4,O.sent().json()];case 2:if(_=O.sent(),M=_.access_token,E=_.refresh_token,A=_.id_token,I=_.error,I)throw new Error(I);return[2,{accessToken:M,refreshToken:E,idToken:A}]}})})},e.prototype._handleImplicitFlow=function(t){return pt(this,void 0,void 0,function(){var r,n,a;return mt(this,function(i){return r=(Xt.exports.parse(t).hash||"#").substr(1).split("&").map(function(f){return f.split("=")}).reduce(function(f,l){var v,h=Si(l,2),g=h[0],_=h[1];return gr(gr({},f),(v={},v[g]=_,v))},{id_token:void 0,access_token:void 0}),n=r.id_token,a=r.access_token,nd("implicitFlow",{},"Got tokens from "+t),po.debug("Retrieving implicit tokens from "+t+" with"),[2,{accessToken:a,idToken:n,refreshToken:null}]})})},e.prototype.handleAuthResponse=function(t){return pt(this,void 0,void 0,function(){var r,n,a,i,f,l,v;return mt(this,function(h){switch(h.label){case 0:if(h.trys.push([0,5,,6]),r=t?gr(gr({},(Xt.exports.parse(t).hash||"#").substr(1).split("&").map(function(g){return g.split("=")}).reduce(function(g,_){var M=Si(_,2),E=M[0],A=M[1];return g[E]=A,g},{})),(Xt.exports.parse(t).query||"").split("&").map(function(g){return g.split("=")}).reduce(function(g,_){var M=Si(_,2),E=M[0],A=M[1];return g[E]=A,g},{})):{},n=r.error,a=r.error_description,n)throw new Error(a);return i=this._validateState(r),po.debug("Starting "+this._config.responseType+" flow with "+t),this._config.responseType!=="code"?[3,2]:(f=[{}],[4,this._handleCodeFlow(t)]);case 1:return[2,gr.apply(void 0,[gr.apply(void 0,f.concat([h.sent()])),{state:i}])];case 2:return l=[{}],[4,this._handleImplicitFlow(t)];case 3:return[2,gr.apply(void 0,[gr.apply(void 0,l.concat([h.sent()])),{state:i}])];case 4:return[3,6];case 5:throw v=h.sent(),po.debug("Error handling auth response.",v),v;case 6:return[2]}})})},e.prototype._validateState=function(t){if(!!t){var r=CB(),n=t.state;if(r&&r!==n)throw new Error("Invalid state in OAuth flow");return n}},e.prototype.signOut=function(){return pt(this,void 0,void 0,function(){var t,r,n;return mt(this,function(a){return t="https://"+this._config.domain+"/logout?",r=Pa(this._config)?this._cognitoClientId:this._config.oauth.clientID,n=Pa(this._config)?this._config.redirectSignOut:this._config.returnTo,t+=Object.entries({client_id:r,logout_uri:encodeURIComponent(n)}).map(function(i){var f=Si(i,2),l=f[0],v=f[1];return l+"="+v}).join("&"),nd("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+t),po.debug("Signing out from "+t),[2,this._urlOpener(t,n)]})})},e.prototype._generateState=function(t){for(var r="",n=t,a="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";n>0;--n)r+=a[Math.round(Math.random()*(a.length-1))];return r},e.prototype._generateChallenge=function(t){var r=new Ci.Sha256;r.update(t);var n=r.digestSync(),a=Ue.Buffer.from(n).toString("base64"),i=this._base64URL(a);return i},e.prototype._base64URL=function(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype._generateRandom=function(t){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=new Uint8Array(t);if(typeof window<"u"&&!!window.crypto)window.crypto.getRandomValues(n);else for(var a=0;a<t;a+=1)n[a]=Math.random()*r.length|0;return this._bufferToString(n)},e.prototype._bufferToString=function(t){for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],a=0;a<t.byteLength;a+=1){var i=t[a]%r.length;n.push(r[i])}return n.join("")},e}();const NB=RB,DB=function(e){if(Kr().isBrowser&&window.location){var t=window.location.href;e({url:t})}else if(!Kr().isNode)throw new Error("Not supported")};var yr;(function(e){e.DEFAULT_MSG="Authentication Error",e.EMPTY_EMAIL="Email cannot be empty",e.EMPTY_PHONE="Phone number cannot be empty",e.EMPTY_USERNAME="Username cannot be empty",e.INVALID_USERNAME="The username should either be a string or one of the sign in types",e.EMPTY_PASSWORD="Password cannot be empty",e.EMPTY_CODE="Confirmation code cannot be empty",e.SIGN_UP_ERROR="Error creating account",e.NO_MFA="No valid MFA method provided",e.INVALID_MFA="Invalid MFA type",e.EMPTY_CHALLENGE="Challenge response cannot be empty",e.NO_USER_SESSION="Failed to get the session because the user is empty",e.NETWORK_ERROR="Network Error",e.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",e.AUTOSIGNIN_ERROR="Please use your credentials to sign in"})(yr||(yr={}));var BB=new wt("AuthError"),Gi=function(e){i4(t,e);function t(r){var n=this,a=FB[r],i=a.message,f=a.log;return n=e.call(this,i)||this,n.constructor=t,Object.setPrototypeOf(n,t.prototype),n.name="AuthError",n.log=f||i,BB.error(n.log),n}return t}(Error),UB=function(e){i4(t,e);function t(r){var n=e.call(this,r)||this;return n.constructor=t,Object.setPrototypeOf(n,t.prototype),n.name="NoUserPoolError",n}return t}(Gi),FB={noConfig:{message:yr.DEFAULT_MSG,log:`
            Error: Amplify has not been configured correctly.
            This error is typically caused by one of the following scenarios:

            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point
                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information
            
            2. There might be multiple conflicting versions of amplify packages in your node_modules.
				Refer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)
        `},missingAuthConfig:{message:yr.DEFAULT_MSG,log:`
            Error: Amplify has not been configured correctly. 
            The configuration object is missing required auth properties.
            This error is typically caused by one of the following scenarios:

            1. Did you run \`amplify push\` after adding auth via \`amplify add auth\`?
                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information

            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.
        `},emptyUsername:{message:yr.EMPTY_USERNAME},invalidUsername:{message:yr.INVALID_USERNAME},emptyPassword:{message:yr.EMPTY_PASSWORD},emptyCode:{message:yr.EMPTY_CODE},signUpError:{message:yr.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:yr.NO_MFA},invalidMFA:{message:yr.INVALID_MFA},emptyChallengeResponse:{message:yr.EMPTY_CHALLENGE},noUserSession:{message:yr.NO_USER_SESSION},deviceConfig:{message:yr.DEVICE_CONFIG},networkError:{message:yr.NETWORK_ERROR},autoSignInError:{message:yr.AUTOSIGNIN_ERROR},default:{message:yr.DEFAULT_MSG}},Be=new wt("AuthClass"),Q1="aws.cognito.signin.user.admin",LB=10*1e3,qB=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",vt=function(e,t,r){_r.dispatch("auth",{event:e,data:t,message:r},"Auth",qB)},jB=60,$B=3*60*1e3,VB=function(){function e(t){var r=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.autoSignInInitiated=!1,this.inflightSessionPromise=null,this.inflightSessionPromiseCounter=0,this.Credentials=ki,this.wrapRefreshSessionCallback=function(n){var a=function(i,f){return f?vt("tokenRefresh",void 0,"New token retrieved"):vt("tokenRefresh_failure",i,"Failed to retrieve new token"),n(i,f)};return a},this.configure(t),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),_r.listen("auth",function(n){var a=n.payload,i=a.event;switch(i){case"verify":case"signIn":r._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":r._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":r._storage.setItem("amplify-signin-with-hostedUI","true");break}})}return e.prototype.getModuleName=function(){return"Auth"},e.prototype.configure=function(t){var r=this;if(!t)return this._config||{};Be.debug("configure Auth");var n=Object.assign({},this._config,g2(t).Auth,t);this._config=n;var a=this._config,i=a.userPoolId,f=a.userPoolWebClientId,l=a.cookieStorage,v=a.oauth,h=a.region,g=a.identityPoolId,_=a.mandatorySignIn,M=a.refreshHandlers,E=a.identityPoolRegion,A=a.clientMetadata,I=a.endpoint,O=a.storage;if(!O)l?this._storage=new EB(l):this._storage=t.ssr?new aD:new nm().getStorage();else{if(!this._isValidAuthStorage(O))throw Be.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=O}if(this._storageSync=Promise.resolve(),typeof this._storage.sync=="function"&&(this._storageSync=this._storage.sync()),i){var T={UserPoolId:i,ClientId:f,endpoint:I};T.Storage=this._storage,this.userPool=new xB(T,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:_,region:h,userPoolId:i,identityPoolId:g,refreshHandlers:M,storage:this._storage,identityPoolRegion:E});var P=v?Pa(this._config.oauth)?v:v.awsCognito:void 0;if(P){var k=Object.assign({cognitoClientId:f,UserPoolId:i,domain:P.domain,scopes:P.scope,redirectSignIn:P.redirectSignIn,redirectSignOut:P.redirectSignOut,responseType:P.responseType,Storage:this._storage,urlOpener:P.urlOpener,clientMetadata:A},P.options);this._oAuthHandler=new NB({scopes:k.scopes,config:k,cognitoClientId:k.cognitoClientId});var R={};DB(function(V){var q=V.url;R[q]||(R[q]=!0,r._handleAuthResponse(q))})}if(vt("configured",null,"The Auth category has been configured successfully"),!this.autoSignInInitiated&&typeof this._storage.getItem=="function"){var D=this.isTrueStorageValue("amplify-polling-started");D&&(vt("autoSignIn_failure",null,gt.AutoSignInError),this._storage.removeItem("amplify-auto-sign-in")),this._storage.removeItem("amplify-polling-started")}return this._config},e.prototype.signUp=function(t){for(var r=this,n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i,f,l;if(!this.userPool)return this.rejectNoUserPool();var v=null,h=null,g=[],_=null,M,E={enabled:!1},A={},I={};if(t&&typeof t=="string"){v=t,h=n?n[0]:null;var O=n?n[1]:null,T=n?n[2]:null;O&&g.push(new Mo({Name:"email",Value:O})),T&&g.push(new Mo({Name:"phone_number",Value:T}))}else if(t&&typeof t=="object"){v=t.username,h=t.password,t&&t.clientMetadata?M=t.clientMetadata:this._config.clientMetadata&&(M=this._config.clientMetadata);var P=t.attributes;P&&Object.keys(P).map(function(R){g.push(new Mo({Name:R,Value:P[R]}))});var k=t.validationData;k&&(_=[],Object.keys(k).map(function(R){_.push(new Mo({Name:R,Value:k[R]}))})),E=(i=t.autoSignIn)!==null&&i!==void 0?i:{enabled:!1},E.enabled&&(this._storage.setItem("amplify-auto-sign-in","true"),A=(f=E.validationData)!==null&&f!==void 0?f:{},I=(l=E.clientMetaData)!==null&&l!==void 0?l:{})}else return this.rejectAuthError(gt.SignUpError);return v?h?(Be.debug("signUp attrs:",g),Be.debug("signUp validation data:",_),new Promise(function(R,D){r.userPool.signUp(v,h,g,_,function(V,q){V?(vt("signUp_failure",V,v+" failed to signup"),D(V)):(vt("signUp",q,v+" has signed up successfully"),E.enabled&&r.handleAutoSignIn(v,h,A,I,q),R(q))},M)})):this.rejectAuthError(gt.EmptyPassword):this.rejectAuthError(gt.EmptyUsername)},e.prototype.handleAutoSignIn=function(t,r,n,a,i){this.autoSignInInitiated=!0;var f=new H1({Username:t,Password:r,ValidationData:n,ClientMetadata:a});i.userConfirmed?this.signInAfterUserConfirmed(f):this._config.signUpVerificationMethod==="link"?this.handleLinkAutoSignIn(f):this.handleCodeAutoSignIn(f)},e.prototype.handleCodeAutoSignIn=function(t){var r=this,n=function(a){var i=a.payload;i.event==="confirmSignUp"&&r.signInAfterUserConfirmed(t,n)};_r.listen("auth",n)},e.prototype.handleLinkAutoSignIn=function(t){var r=this;this._storage.setItem("amplify-polling-started","true");var n=Date.now(),a=setInterval(function(){Date.now()-n>$B?(clearInterval(a),vt("autoSignIn_failure",null,"Please confirm your account and use your credentials to sign in."),r._storage.removeItem("amplify-auto-sign-in")):r.signInAfterUserConfirmed(t,null,a)},5e3)},e.prototype.signInAfterUserConfirmed=function(t,r,n){return pt(this,void 0,void 0,function(){var a,i,f=this;return mt(this,function(l){switch(l.label){case 0:a=this.createCognitoUser(t.getUsername()),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,a.authenticateUser(t,this.authCallbacks(a,function(v){vt("autoSignIn",v,t.getUsername()+" has signed in successfully"),r&&_r.remove("auth",r),n&&(clearInterval(n),f._storage.removeItem("amplify-polling-started")),f._storage.removeItem("amplify-auto-sign-in")},function(v){Be.error(v),f._storage.removeItem("amplify-auto-sign-in")}))];case 2:return l.sent(),[3,4];case 3:return i=l.sent(),Be.error(i),[3,4];case 4:return[2]}})})},e.prototype.confirmSignUp=function(t,r,n){var a=this;if(!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(gt.EmptyUsername);if(!r)return this.rejectAuthError(gt.EmptyCode);var i=this.createCognitoUser(t),f=n&&typeof n.forceAliasCreation=="boolean"?n.forceAliasCreation:!0,l;return n&&n.clientMetadata?l=n.clientMetadata:this._config.clientMetadata&&(l=this._config.clientMetadata),new Promise(function(v,h){i.confirmRegistration(r,f,function(g,_){if(g)h(g);else{vt("confirmSignUp",_,t+" has been confirmed successfully");var M=a.isTrueStorageValue("amplify-auto-sign-in");M&&!a.autoSignInInitiated&&(vt("autoSignIn_failure",null,gt.AutoSignInError),a._storage.removeItem("amplify-auto-sign-in")),v(_)}},l)})},e.prototype.isTrueStorageValue=function(t){var r=this._storage.getItem(t);return r?r==="true":!1},e.prototype.resendSignUp=function(t,r){if(r===void 0&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(gt.EmptyUsername);var n=this.createCognitoUser(t);return new Promise(function(a,i){n.resendConfirmationCode(function(f,l){f?i(f):a(l)},r)})},e.prototype.signIn=function(t,r,n){if(n===void 0&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var a=null,i=null,f={};if(typeof t=="string")a=t,i=r;else if(pD(t))typeof r<"u"&&Be.warn("The password should be defined under the first parameter object!"),a=t.username,i=t.password,f=t.validationData;else return this.rejectAuthError(gt.InvalidUsername);if(!a)return this.rejectAuthError(gt.EmptyUsername);var l=new H1({Username:a,Password:i,ValidationData:f,ClientMetadata:n});return i?this.signInWithPassword(l):this.signInWithoutPassword(l)},e.prototype.authCallbacks=function(t,r,n){var a=this,i=this;return{onSuccess:function(f){return pt(a,void 0,void 0,function(){var l,v,h,g;return mt(this,function(_){switch(_.label){case 0:Be.debug(f),delete t.challengeName,delete t.challengeParam,_.label=1;case 1:return _.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return _.sent(),[4,this.Credentials.set(f,"session")];case 3:return l=_.sent(),Be.debug("succeed to get cognito credentials",l),[3,9];case 4:return v=_.sent(),Be.debug("cannot get cognito credentials",v),[3,9];case 5:return _.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return h=_.sent(),i.user=h,vt("signIn",h,"A user "+t.getUsername()+" has been signed in"),r(h),[3,8];case 7:return g=_.sent(),Be.error("Failed to get the signed in user",g),n(g),[3,8];case 8:return[7];case 9:return[2]}})})},onFailure:function(f){Be.debug("signIn failure",f),vt("signIn_failure",f,t.getUsername()+" failed to signin"),n(f)},customChallenge:function(f){Be.debug("signIn custom challenge answer required"),t.challengeName="CUSTOM_CHALLENGE",t.challengeParam=f,r(t)},mfaRequired:function(f,l){Be.debug("signIn MFA required"),t.challengeName=f,t.challengeParam=l,r(t)},mfaSetup:function(f,l){Be.debug("signIn mfa setup",f),t.challengeName=f,t.challengeParam=l,r(t)},newPasswordRequired:function(f,l){Be.debug("signIn new password"),t.challengeName="NEW_PASSWORD_REQUIRED",t.challengeParam={userAttributes:f,requiredAttributes:l},r(t)},totpRequired:function(f,l){Be.debug("signIn totpRequired"),t.challengeName=f,t.challengeParam=l,r(t)},selectMFAType:function(f,l){Be.debug("signIn selectMFAType",f),t.challengeName=f,t.challengeParam=l,r(t)}}},e.prototype.signInWithPassword=function(t){var r=this;if(this.pendingSignIn)throw new Error("Pending sign-in attempt already in progress");var n=this.createCognitoUser(t.getUsername());return this.pendingSignIn=new Promise(function(a,i){n.authenticateUser(t,r.authCallbacks(n,function(f){r.pendingSignIn=null,a(f)},function(f){r.pendingSignIn=null,i(f)}))}),this.pendingSignIn},e.prototype.signInWithoutPassword=function(t){var r=this,n=this.createCognitoUser(t.getUsername());return n.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise(function(a,i){n.initiateAuth(t,r.authCallbacks(n,a,i))})},e.prototype.getMFAOptions=function(t){return new Promise(function(r,n){t.getMFAOptions(function(a,i){if(a){Be.debug("get MFA Options failed",a),n(a);return}Be.debug("get MFA options success",i),r(i)})})},e.prototype.getPreferredMFA=function(t,r){var n=this,a=this;return new Promise(function(i,f){var l=n._config.clientMetadata,v=r?r.bypassCache:!1;t.getUserData(function(h,g){return pt(n,void 0,void 0,function(){var _,M;return mt(this,function(E){switch(E.label){case 0:if(!h)return[3,5];if(Be.debug("getting preferred mfa failed",h),!this.isSessionInvalid(h))return[3,4];E.label=1;case 1:return E.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return E.sent(),[3,4];case 3:return _=E.sent(),f(new Error("Session is invalid due to: "+h.message+" and failed to clean up invalid session: "+_.message)),[2];case 4:return f(h),[2];case 5:return M=a._getMfaTypeFromUserData(g),M?(i(M),[2]):(f("invalid MFA Type"),[2])}})})},{bypassCache:v,clientMetadata:l})})},e.prototype._getMfaTypeFromUserData=function(t){var r=null,n=t.PreferredMfaSetting;if(n)r=n;else{var a=t.UserMFASettingList;if(a)a.length===0?r="NOMFA":Be.debug("invalid case for getPreferredMFA",t);else{var i=t.MFAOptions;i?r="SMS_MFA":r="NOMFA"}}return r},e.prototype._getUserData=function(t,r){var n=this;return new Promise(function(a,i){t.getUserData(function(f,l){return pt(n,void 0,void 0,function(){var v;return mt(this,function(h){switch(h.label){case 0:if(!f)return[3,5];if(Be.debug("getting user data failed",f),!this.isSessionInvalid(f))return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return h.sent(),[3,4];case 3:return v=h.sent(),i(new Error("Session is invalid due to: "+f.message+" and failed to clean up invalid session: "+v.message)),[2];case 4:return i(f),[2];case 5:a(l),h.label=6;case 6:return[2]}})})},r)})},e.prototype.setPreferredMFA=function(t,r){return pt(this,void 0,void 0,function(){var n,a,i,f,l,v,h,g=this;return mt(this,function(_){switch(_.label){case 0:return n=this._config.clientMetadata,[4,this._getUserData(t,{bypassCache:!0,clientMetadata:n})];case 1:switch(a=_.sent(),i=null,f=null,l=r,l){case"TOTP":return[3,2];case"SOFTWARE_TOKEN_MFA":return[3,2];case"SMS":return[3,3];case"SMS_MFA":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return f={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return i={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return v=a.UserMFASettingList,[4,this._getMfaTypeFromUserData(a)];case 5:if(h=_.sent(),h==="NOMFA")return[2,Promise.resolve("No change for mfa type")];if(h==="SMS_MFA")i={PreferredMfa:!1,Enabled:!1};else if(h==="SOFTWARE_TOKEN_MFA")f={PreferredMfa:!1,Enabled:!1};else return[2,this.rejectAuthError(gt.InvalidMFA)];return v&&v.length!==0&&v.forEach(function(M){M==="SMS_MFA"?i={PreferredMfa:!1,Enabled:!1}:M==="SOFTWARE_TOKEN_MFA"&&(f={PreferredMfa:!1,Enabled:!1})}),[3,7];case 6:return Be.debug("no validmfa method provided"),[2,this.rejectAuthError(gt.NoMFA)];case 7:return[2,new Promise(function(M,E){t.setUserMfaPreference(i,f,function(A,I){if(A)return Be.debug("Set user mfa preference error",A),E(A);Be.debug("Set user mfa success",I),Be.debug("Caching the latest user data into local"),t.getUserData(function(O,T){return pt(g,void 0,void 0,function(){var P;return mt(this,function(k){switch(k.label){case 0:if(!O)return[3,5];if(Be.debug("getting user data failed",O),!this.isSessionInvalid(O))return[3,4];k.label=1;case 1:return k.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return k.sent(),[3,4];case 3:return P=k.sent(),E(new Error("Session is invalid due to: "+O.message+" and failed to clean up invalid session: "+P.message)),[2];case 4:return[2,E(O)];case 5:return[2,M(I)]}})})},{bypassCache:!0,clientMetadata:n})})})]}})})},e.prototype.disableSMS=function(t){return new Promise(function(r,n){t.disableMFA(function(a,i){if(a){Be.debug("disable mfa failed",a),n(a);return}Be.debug("disable mfa succeed",i),r(i)})})},e.prototype.enableSMS=function(t){return new Promise(function(r,n){t.enableMFA(function(a,i){if(a){Be.debug("enable mfa failed",a),n(a);return}Be.debug("enable mfa succeed",i),r(i)})})},e.prototype.setupTOTP=function(t){return new Promise(function(r,n){t.associateSoftwareToken({onFailure:function(a){Be.debug("associateSoftwareToken failed",a),n(a)},associateSecretCode:function(a){Be.debug("associateSoftwareToken success",a),r(a)}})})},e.prototype.verifyTotpToken=function(t,r){Be.debug("verification totp token",t,r);var n;t&&typeof t.getSignInUserSession=="function"&&(n=t.getSignInUserSession());var a=n==null?void 0:n.isValid();return new Promise(function(i,f){t.verifySoftwareToken(r,"My TOTP device",{onFailure:function(l){Be.debug("verifyTotpToken failed",l),f(l)},onSuccess:function(l){a||vt("signIn",t,"A user "+t.getUsername()+" has been signed in"),vt("verify",t,"A user "+t.getUsername()+" has been verified"),Be.debug("verifyTotpToken success",l),i(l)}})})},e.prototype.confirmSignIn=function(t,r,n,a){var i=this;if(a===void 0&&(a=this._config.clientMetadata),!r)return this.rejectAuthError(gt.EmptyCode);var f=this;return new Promise(function(l,v){t.sendMFACode(r,{onSuccess:function(h){return pt(i,void 0,void 0,function(){var g,_,M,E;return mt(this,function(A){switch(A.label){case 0:Be.debug(h),A.label=1;case 1:return A.trys.push([1,4,5,10]),[4,this.Credentials.clear()];case 2:return A.sent(),[4,this.Credentials.set(h,"session")];case 3:return g=A.sent(),Be.debug("succeed to get cognito credentials",g),[3,10];case 4:return _=A.sent(),Be.debug("cannot get cognito credentials",_),[3,10];case 5:f.user=t,A.label=6;case 6:return A.trys.push([6,8,,9]),[4,this.currentUserPoolUser()];case 7:return M=A.sent(),t.attributes=M.attributes,[3,9];case 8:return E=A.sent(),Be.debug("cannot get updated Cognito User",E),[3,9];case 9:return vt("signIn",t,"A user "+t.getUsername()+" has been signed in"),l(t),[7];case 10:return[2]}})})},onFailure:function(h){Be.debug("confirm signIn failure",h),v(h)}},n,a)})},e.prototype.completeNewPassword=function(t,r,n,a){var i=this;if(n===void 0&&(n={}),a===void 0&&(a=this._config.clientMetadata),!r)return this.rejectAuthError(gt.EmptyPassword);var f=this;return new Promise(function(l,v){t.completeNewPasswordChallenge(r,n,{onSuccess:function(h){return pt(i,void 0,void 0,function(){var g,_;return mt(this,function(M){switch(M.label){case 0:Be.debug(h),M.label=1;case 1:return M.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return M.sent(),[4,this.Credentials.set(h,"session")];case 3:return g=M.sent(),Be.debug("succeed to get cognito credentials",g),[3,6];case 4:return _=M.sent(),Be.debug("cannot get cognito credentials",_),[3,6];case 5:return f.user=t,vt("signIn",t,"A user "+t.getUsername()+" has been signed in"),l(t),[7];case 6:return[2]}})})},onFailure:function(h){Be.debug("completeNewPassword failure",h),vt("completeNewPassword_failure",h,i.user+" failed to complete the new password flow"),v(h)},mfaRequired:function(h,g){Be.debug("signIn MFA required"),t.challengeName=h,t.challengeParam=g,l(t)},mfaSetup:function(h,g){Be.debug("signIn mfa setup",h),t.challengeName=h,t.challengeParam=g,l(t)},totpRequired:function(h,g){Be.debug("signIn mfa setup",h),t.challengeName=h,t.challengeParam=g,l(t)}},a)})},e.prototype.sendCustomChallengeAnswer=function(t,r,n){var a=this;return n===void 0&&(n=this._config.clientMetadata),this.userPool?r?new Promise(function(i,f){t.sendCustomChallengeAnswer(r,a.authCallbacks(t,i,f),n)}):this.rejectAuthError(gt.EmptyChallengeResponse):this.rejectNoUserPool()},e.prototype.deleteUserAttributes=function(t,r){var n=this;return new Promise(function(a,i){n.userSession(t).then(function(f){t.deleteAttributes(r,function(l,v){return l?i(l):a(v)})})})},e.prototype.deleteUser=function(){return pt(this,void 0,void 0,function(){var t,r,n=this;return mt(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this._storageSync];case 1:return a.sent(),[3,3];case 2:throw t=a.sent(),Be.debug("Failed to sync cache info into memory",t),new Error(t);case 3:return r=this._oAuthHandler&&this._storage.getItem("amplify-signin-with-hostedUI")==="true",[2,new Promise(function(i,f){return pt(n,void 0,void 0,function(){var l,v=this;return mt(this,function(h){if(this.userPool)if(l=this.userPool.getCurrentUser(),l)l.getSession(function(g,_){return pt(v,void 0,void 0,function(){var M,E=this;return mt(this,function(A){switch(A.label){case 0:if(!g)return[3,5];if(Be.debug("Failed to get the user session",g),!this.isSessionInvalid(g))return[3,4];A.label=1;case 1:return A.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(l)];case 2:return A.sent(),[3,4];case 3:return M=A.sent(),f(new Error("Session is invalid due to: "+g.message+" and failed to clean up invalid session: "+M.message)),[2];case 4:return[2,f(g)];case 5:l.deleteUser(function(I,O){if(I)f(I);else{vt("userDeleted",O,"The authenticated user has been deleted."),l.signOut(),E.user=null;try{E.cleanCachedItems()}catch{Be.debug("failed to clear cached items")}r?E.oAuthSignOutRedirect(i,f):(vt("signOut",E.user,"A user has been signed out"),i(O))}}),A.label=6;case 6:return[2]}})})});else return Be.debug("Failed to get user from user pool"),[2,f(new Error("No current user."))];else Be.debug("no Congito User pool"),f(new Error("Cognito User pool does not exist"));return[2]})})})]}})})},e.prototype.updateUserAttributes=function(t,r,n){var a=this;n===void 0&&(n=this._config.clientMetadata);var i=[],f=this;return new Promise(function(l,v){f.userSession(t).then(function(h){for(var g in r)if(g!=="sub"&&g.indexOf("_verified")<0){var _={Name:g,Value:r[g]};i.push(_)}t.updateAttributes(i,function(M,E,A){if(M)return vt("updateUserAttributes_failure",M,"Failed to update attributes"),v(M);var I=a.createUpdateAttributesResultList(r,A==null?void 0:A.CodeDeliveryDetailsList);return vt("updateUserAttributes",I,"Attributes successfully updated"),l(E)},n)})})},e.prototype.createUpdateAttributesResultList=function(t,r){var n={};return Object.keys(t).forEach(function(a){n[a]={isUpdated:!0};var i=r==null?void 0:r.find(function(f){return f.AttributeName===a});i&&(n[a].isUpdated=!1,n[a].codeDeliveryDetails=i)}),n},e.prototype.userAttributes=function(t){var r=this;return new Promise(function(n,a){r.userSession(t).then(function(i){t.getUserAttributes(function(f,l){f?a(f):n(l)})})})},e.prototype.verifiedContact=function(t){var r=this;return this.userAttributes(t).then(function(n){var a=r.attributesToObject(n),i={},f={};return a.email&&(a.email_verified?f.email=a.email:i.email=a.email),a.phone_number&&(a.phone_number_verified?f.phone_number=a.phone_number:i.phone_number=a.phone_number),{verified:f,unverified:i}})},e.prototype.isErrorWithMessage=function(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"message")},e.prototype.isTokenRevokedError=function(t){return this.isErrorWithMessage(t)&&t.message==="Access Token has been revoked"},e.prototype.isRefreshTokenRevokedError=function(t){return this.isErrorWithMessage(t)&&t.message==="Refresh Token has been revoked"},e.prototype.isUserDisabledError=function(t){return this.isErrorWithMessage(t)&&t.message==="User is disabled."},e.prototype.isUserDoesNotExistError=function(t){return this.isErrorWithMessage(t)&&t.message==="User does not exist."},e.prototype.isRefreshTokenExpiredError=function(t){return this.isErrorWithMessage(t)&&t.message==="Refresh Token has expired"},e.prototype.isSignedInHostedUI=function(){return this._oAuthHandler&&this._storage.getItem("amplify-signin-with-hostedUI")==="true"},e.prototype.isSessionInvalid=function(t){return this.isUserDisabledError(t)||this.isUserDoesNotExistError(t)||this.isTokenRevokedError(t)||this.isRefreshTokenRevokedError(t)||this.isRefreshTokenExpiredError(t)},e.prototype.cleanUpInvalidSession=function(t){return pt(this,void 0,void 0,function(){var r=this;return mt(this,function(n){switch(n.label){case 0:t.signOut(),this.user=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.cleanCachedItems()];case 2:return n.sent(),[3,4];case 3:return n.sent(),Be.debug("failed to clear cached items"),[3,4];case 4:return this.isSignedInHostedUI()?[2,new Promise(function(a,i){r.oAuthSignOutRedirect(a,i)})]:(vt("signOut",this.user,"A user has been signed out"),[2])}})})},e.prototype.currentUserPoolUser=function(t){var r=this;return this.userPool?new Promise(function(n,a){r._storageSync.then(function(){return pt(r,void 0,void 0,function(){var i,f,l,v,h,g,_,M=this;return mt(this,function(E){switch(E.label){case 0:return this.isOAuthInProgress()?(Be.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise(function(A){var I=setTimeout(function(){Be.debug("OAuth signIn in progress timeout"),_r.remove("auth",O),A()},LB);_r.listen("auth",O);function O(T){var P=T.payload,k=P.event;(k==="cognitoHostedUI"||k==="cognitoHostedUI_failure")&&(Be.debug("OAuth signIn resolved: "+k),clearTimeout(I),_r.remove("auth",O),A())}})]):[3,2];case 1:E.sent(),E.label=2;case 2:if(i=this.userPool.getCurrentUser(),!i)return Be.debug("Failed to get user from user pool"),a("No current user"),[2];E.label=3;case 3:return E.trys.push([3,7,,8]),[4,this._userSession(i)];case 4:return f=E.sent(),l=t?t.bypassCache:!1,l?[4,this.Credentials.clear()]:[3,6];case 5:E.sent(),E.label=6;case 6:if(v=this._config.clientMetadata,h=f.getAccessToken().decodePayload().scope,g=h===void 0?"":h,g.split(" ").includes(Q1))i.getUserData(function(A,I){return pt(M,void 0,void 0,function(){var O,T,P,k,R,D,V;return mt(this,function(q){switch(q.label){case 0:if(!A)return[3,7];if(Be.debug("getting user data failed",A),!this.isSessionInvalid(A))return[3,5];q.label=1;case 1:return q.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(i)];case 2:return q.sent(),[3,4];case 3:return O=q.sent(),a(new Error("Session is invalid due to: "+A.message+" and failed to clean up invalid session: "+O.message)),[2];case 4:return a(A),[3,6];case 5:n(i),q.label=6;case 6:return[2];case 7:for(T=I.PreferredMfaSetting||"NOMFA",P=[],k=0;k<I.UserAttributes.length;k++)R={Name:I.UserAttributes[k].Name,Value:I.UserAttributes[k].Value},D=new Mo(R),P.push(D);return V=this.attributesToObject(P),Object.assign(i,{attributes:V,preferredMFA:T}),[2,n(i)]}})})},{bypassCache:l,clientMetadata:v});else return Be.debug("Unable to get the user data because the "+Q1+" is not in the scopes of the access token"),[2,n(i)];return[3,8];case 7:return _=E.sent(),a(_),[3,8];case 8:return[2]}})})}).catch(function(i){return Be.debug("Failed to sync cache info into memory",i),a(i)})}):this.rejectNoUserPool()},e.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},e.prototype.currentAuthenticatedUser=function(t){return pt(this,void 0,void 0,function(){var r,n,a,i,f;return mt(this,function(l){switch(l.label){case 0:Be.debug("getting current authenticated user"),r=null,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this._storageSync];case 2:return l.sent(),[3,4];case 3:throw n=l.sent(),Be.debug("Failed to sync cache info into memory",n),n;case 4:try{a=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")),a&&(r=gr(gr({},a.user),{token:a.token}))}catch{Be.debug("cannot load federated user from auth storage")}return r?(this.user=r,Be.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:Be.debug("get current authenticated userpool user"),i=null,l.label=6;case 6:return l.trys.push([6,8,,9]),[4,this.currentUserPoolUser(t)];case 7:return i=l.sent(),[3,9];case 8:return f=l.sent(),f==="No userPool"&&Be.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),Be.debug("The user is not authenticated by the error",f),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=i,[2,this.user]}})})},e.prototype.currentSession=function(){var t=this;return Be.debug("Getting current session"),this.userPool?new Promise(function(r,n){t.currentUserPoolUser().then(function(a){t.userSession(a).then(function(i){r(i)}).catch(function(i){Be.debug("Failed to get the current session",i),n(i)})}).catch(function(a){Be.debug("Failed to get the current user",a),n(a)})}):Promise.reject(new Error("No User Pool in the configuration."))},e.prototype._userSession=function(t){return pt(this,void 0,void 0,function(){var r,n,a=this;return mt(this,function(i){switch(i.label){case 0:if(!t)return Be.debug("the user is null"),[2,this.rejectAuthError(gt.NoUserSession)];r=this._config.clientMetadata,this.inflightSessionPromiseCounter===0&&(this.inflightSessionPromise=new Promise(function(f,l){t.getSession(function(v,h){return pt(a,void 0,void 0,function(){var g;return mt(this,function(_){switch(_.label){case 0:if(!v)return[3,5];if(Be.debug("Failed to get the session from user",t),!this.isSessionInvalid(v))return[3,4];_.label=1;case 1:return _.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return _.sent(),[3,4];case 3:return g=_.sent(),l(new Error("Session is invalid due to: "+v.message+" and failed to clean up invalid session: "+g.message)),[2];case 4:return l(v),[2];case 5:return Be.debug("Succeed to get the user session",h),f(h),[2]}})})},{clientMetadata:r})})),this.inflightSessionPromiseCounter++,i.label=1;case 1:return i.trys.push([1,,3,4]),[4,this.inflightSessionPromise];case 2:return n=i.sent(),t.signInUserSession=n,[2,n];case 3:return this.inflightSessionPromiseCounter--,[7];case 4:return[2]}})})},e.prototype.userSession=function(t){return this._userSession(t)},e.prototype.currentUserCredentials=function(){return pt(this,void 0,void 0,function(){var t,r,n=this;return mt(this,function(a){switch(a.label){case 0:Be.debug("Getting current user credentials"),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this._storageSync];case 2:return a.sent(),[3,4];case 3:throw t=a.sent(),Be.debug("Failed to sync cache info into memory",t),t;case 4:r=null;try{r=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(i){Be.debug("failed to get or parse item aws-amplify-federatedInfo",i)}return r?[2,this.Credentials.refreshFederatedToken(r)]:[2,this.currentSession().then(function(i){return Be.debug("getting session success",i),n.Credentials.set(i,"session")}).catch(function(){return Be.debug("getting guest credentials"),n.Credentials.set(null,"guest")})]}})})},e.prototype.currentCredentials=function(){return Be.debug("getting current credentials"),this.Credentials.get()},e.prototype.verifyUserAttribute=function(t,r,n){return n===void 0&&(n=this._config.clientMetadata),new Promise(function(a,i){t.getAttributeVerificationCode(r,{onSuccess:function(f){return a(f)},onFailure:function(f){return i(f)}},n)})},e.prototype.verifyUserAttributeSubmit=function(t,r,n){return n?new Promise(function(a,i){t.verifyAttribute(r,n,{onSuccess:function(f){a(f)},onFailure:function(f){i(f)}})}):this.rejectAuthError(gt.EmptyCode)},e.prototype.verifyCurrentUserAttribute=function(t){var r=this;return r.currentUserPoolUser().then(function(n){return r.verifyUserAttribute(n,t)})},e.prototype.verifyCurrentUserAttributeSubmit=function(t,r){var n=this;return n.currentUserPoolUser().then(function(a){return n.verifyUserAttributeSubmit(a,t,r)})},e.prototype.cognitoIdentitySignOut=function(t,r){return pt(this,void 0,void 0,function(){var n,a,i=this;return mt(this,function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,this._storageSync];case 1:return f.sent(),[3,3];case 2:throw n=f.sent(),Be.debug("Failed to sync cache info into memory",n),n;case 3:return a=this._oAuthHandler&&this._storage.getItem("amplify-signin-with-hostedUI")==="true",[2,new Promise(function(l,v){if(t&&t.global){Be.debug("user global sign out",r);var h=i._config.clientMetadata;r.getSession(function(g,_){return pt(i,void 0,void 0,function(){var M,E=this;return mt(this,function(A){switch(A.label){case 0:if(!g)return[3,5];if(Be.debug("failed to get the user session",g),!this.isSessionInvalid(g))return[3,4];A.label=1;case 1:return A.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(r)];case 2:return A.sent(),[3,4];case 3:return M=A.sent(),v(new Error("Session is invalid due to: "+g.message+" and failed to clean up invalid session: "+M.message)),[2];case 4:return[2,v(g)];case 5:return r.globalSignOut({onSuccess:function(I){if(Be.debug("global sign out success"),a)E.oAuthSignOutRedirect(l,v);else return l()},onFailure:function(I){return Be.debug("global sign out failed",I),v(I)}}),[2]}})})},{clientMetadata:h})}else Be.debug("user sign out",r),r.signOut(function(){if(a)i.oAuthSignOutRedirect(l,v);else return l()})})]}})})},e.prototype.oAuthSignOutRedirect=function(t,r){var n=Kr().isBrowser;n?this.oAuthSignOutRedirectOrReject(r):this.oAuthSignOutAndResolve(t)},e.prototype.oAuthSignOutAndResolve=function(t){this._oAuthHandler.signOut(),t()},e.prototype.oAuthSignOutRedirectOrReject=function(t){this._oAuthHandler.signOut(),setTimeout(function(){return t(Error("Signout timeout fail"))},3e3)},e.prototype.signOut=function(t){return pt(this,void 0,void 0,function(){var r;return mt(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return n.sent(),[3,3];case 2:return n.sent(),Be.debug("failed to clear cached items"),[3,3];case 3:return this.userPool?(r=this.userPool.getCurrentUser(),r?[4,this.cognitoIdentitySignOut(t,r)]:[3,5]):[3,7];case 4:return n.sent(),[3,6];case 5:Be.debug("no current Cognito user"),n.label=6;case 6:return[3,8];case 7:Be.debug("no Cognito User pool"),n.label=8;case 8:return vt("signOut",this.user,"A user has been signed out"),this.user=null,[2]}})})},e.prototype.cleanCachedItems=function(){return pt(this,void 0,void 0,function(){return mt(this,function(t){switch(t.label){case 0:return[4,this.Credentials.clear()];case 1:return t.sent(),[2]}})})},e.prototype.changePassword=function(t,r,n,a){var i=this;return a===void 0&&(a=this._config.clientMetadata),new Promise(function(f,l){i.userSession(t).then(function(v){t.changePassword(r,n,function(h,g){return h?(Be.debug("change password failure",h),l(h)):f(g)},a)})})},e.prototype.forgotPassword=function(t,r){if(r===void 0&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(gt.EmptyUsername);var n=this.createCognitoUser(t);return new Promise(function(a,i){n.forgotPassword({onSuccess:function(){a()},onFailure:function(f){Be.debug("forgot password failure",f),vt("forgotPassword_failure",f,t+" forgotPassword failed"),i(f)},inputVerificationCode:function(f){vt("forgotPassword",n,t+" has initiated forgot password flow"),a(f)}},r)})},e.prototype.forgotPasswordSubmit=function(t,r,n,a){if(a===void 0&&(a=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(gt.EmptyUsername);if(!r)return this.rejectAuthError(gt.EmptyCode);if(!n)return this.rejectAuthError(gt.EmptyPassword);var i=this.createCognitoUser(t);return new Promise(function(f,l){i.confirmPassword(r,n,{onSuccess:function(v){vt("forgotPasswordSubmit",i,t+" forgotPasswordSubmit successful"),f(v)},onFailure:function(v){vt("forgotPasswordSubmit_failure",v,t+" forgotPasswordSubmit failed"),l(v)}},a)})},e.prototype.currentUserInfo=function(){return pt(this,void 0,void 0,function(){var t,v,r,n,a,i,f,l,v;return mt(this,function(h){switch(h.label){case 0:return t=this.Credentials.getCredSource(),!t||t==="aws"||t==="userPool"?[4,this.currentUserPoolUser().catch(function(g){return Be.error(g)})]:[3,9];case 1:if(v=h.sent(),!v)return[2,null];h.label=2;case 2:return h.trys.push([2,8,,9]),[4,this.userAttributes(v)];case 3:r=h.sent(),n=this.attributesToObject(r),a=null,h.label=4;case 4:return h.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return a=h.sent(),[3,7];case 6:return i=h.sent(),Be.debug("Failed to retrieve credentials while getting current user info",i),[3,7];case 7:return f={id:a?a.identityId:void 0,username:v.getUsername(),attributes:n},[2,f];case 8:return l=h.sent(),Be.error("currentUserInfo error",l),[2,{}];case 9:return t==="federated"?(v=this.user,[2,v||{}]):[2]}})})},e.prototype.federatedSignIn=function(t,r,n){return pt(this,void 0,void 0,function(){var a,v,i,f,l,v,h,g,_,M,E,A;return mt(this,function(I){switch(I.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if(typeof t>"u"&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return td(t)||dD(t)||vD(t)||typeof t>"u"?(a=t||{provider:lc.Cognito},v=td(a)?a.provider:a.customProvider,i=(td(a),a.customState),this._config.userPoolId&&(f=Pa(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,l=Pa(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,l,f,v,i)),[3,4]):[3,1];case 1:v=t;try{h=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user),h&&Be.warn("There is already a signed in user: "+h+` in your app.
																	You should not call Auth.federatedSignIn method again as it may cause unexpected behavior.`)}catch{}return g=r.token,_=r.identity_id,M=r.expires_at,[4,this.Credentials.set({provider:v,token:g,identity_id:_,user:n,expires_at:M},"federation")];case 2:return E=I.sent(),[4,this.currentAuthenticatedUser()];case 3:return A=I.sent(),vt("signIn",A,"A user "+A.username+" has been signed in"),Be.debug("federated sign in credentials",E),[2,E];case 4:return[2]}})})},e.prototype._handleAuthResponse=function(t){return pt(this,void 0,void 0,function(){var r,n,a,i,f,l,v,h,g,_,M,E,A,I;return mt(this,function(O){switch(O.label){case 0:if(this.oAuthFlowInProgress)return Be.debug("Skipping URL "+t+" current flow in progress"),[2];O.label=1;case 1:if(O.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if(vt("parsingCallbackUrl",{url:t},"The callback url is being parsed"),r=t||(Kr().isBrowser?window.location.href:""),n=!!(Xt.exports.parse(r).query||"").split("&").map(function(T){return T.split("=")}).find(function(T){var P=Si(T,1),k=P[0];return k==="code"||k==="error"}),a=!!(Xt.exports.parse(r).hash||"#").substr(1).split("&").map(function(T){return T.split("=")}).find(function(T){var P=Si(T,1),k=P[0];return k==="access_token"||k==="error"}),!(n||a))return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),O.label=2;case 2:return O.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(r)];case 3:return i=O.sent(),f=i.accessToken,l=i.idToken,v=i.refreshToken,h=i.state,g=new rv({IdToken:new Q0({IdToken:l}),RefreshToken:new ev({RefreshToken:v}),AccessToken:new Y0({AccessToken:f})}),_=void 0,this._config.identityPoolId?[4,this.Credentials.set(g,"session")]:[3,5];case 4:_=O.sent(),Be.debug("AWS credentials",_),O.label=5;case 5:return M=/-/.test(h),E=this.createCognitoUser(g.getIdToken().decodePayload()["cognito:username"]),E.setSignInUserSession(g),window&&typeof window.history<"u"&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),vt("signIn",E,"A user "+E.getUsername()+" has been signed in"),vt("cognitoHostedUI",E,"A user "+E.getUsername()+" has been signed in via Cognito Hosted UI"),M&&(A=h.split("-").splice(1).join("-"),vt("customOAuthState",Tx(A),"State for user "+E.getUsername())),[2,_];case 6:return I=O.sent(),Be.debug("Error in cognito hosted auth response",I),window&&typeof window.history<"u"&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),vt("signIn_failure",I,"The OAuth response flow failed"),vt("cognitoHostedUI_failure",I,"A failure occurred when returning to the Cognito Hosted UI"),vt("customState_failure",I,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}})})},e.prototype.essentialCredentials=function(t){return{accessKeyId:t.accessKeyId,sessionToken:t.sessionToken,secretAccessKey:t.secretAccessKey,identityId:t.identityId,authenticated:t.authenticated}},e.prototype.attributesToObject=function(t){var r=this,n={};return t&&t.map(function(a){a.Name==="email_verified"||a.Name==="phone_number_verified"?n[a.Name]=r.isTruthyString(a.Value)||a.Value===!0:n[a.Name]=a.Value}),n},e.prototype.isTruthyString=function(t){return typeof t.toLowerCase=="function"&&t.toLowerCase()==="true"},e.prototype.createCognitoUser=function(t){var r={Username:t,Pool:this.userPool};r.Storage=this._storage;var n=this._config.authenticationFlowType,a=new nv(r);return n&&a.setAuthenticationFlowType(n),a},e.prototype._isValidAuthStorage=function(t){return!!t&&typeof t.getItem=="function"&&typeof t.setItem=="function"&&typeof t.removeItem=="function"&&typeof t.clear=="function"},e.prototype.noUserPoolErrorHandler=function(t){return t&&(!t.userPoolId||!t.identityPoolId)?gt.MissingAuthConfig:gt.NoConfig},e.prototype.rejectAuthError=function(t){return Promise.reject(new Gi(t))},e.prototype.rejectNoUserPool=function(){var t=this.noUserPoolErrorHandler(this._config);return Promise.reject(new UB(t))},e.prototype.rememberDevice=function(){return pt(this,void 0,void 0,function(){var t,r;return mt(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return t=n.sent(),[3,3];case 2:return r=n.sent(),Be.debug("The user is not authenticated by the error",r),[2,Promise.reject("The user is not authenticated")];case 3:return t.getCachedDeviceKeyAndPassword(),[2,new Promise(function(a,i){t.setDeviceStatusRemembered({onSuccess:function(f){a(f)},onFailure:function(f){f.code==="InvalidParameterException"?i(new Gi(gt.DeviceConfig)):f.code==="NetworkError"?i(new Gi(gt.NetworkError)):i(f)}})})]}})})},e.prototype.forgetDevice=function(){return pt(this,void 0,void 0,function(){var t,r;return mt(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return t=n.sent(),[3,3];case 2:return r=n.sent(),Be.debug("The user is not authenticated by the error",r),[2,Promise.reject("The user is not authenticated")];case 3:return t.getCachedDeviceKeyAndPassword(),[2,new Promise(function(a,i){t.forgetDevice({onSuccess:function(f){a(f)},onFailure:function(f){f.code==="InvalidParameterException"?i(new Gi(gt.DeviceConfig)):f.code==="NetworkError"?i(new Gi(gt.NetworkError)):i(f)}})})]}})})},e.prototype.fetchDevices=function(){return pt(this,void 0,void 0,function(){var t,r;return mt(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return t=n.sent(),[3,3];case 2:throw r=n.sent(),Be.debug("The user is not authenticated by the error",r),new Error("The user is not authenticated");case 3:return t.getCachedDeviceKeyAndPassword(),[2,new Promise(function(a,i){var f={onSuccess:function(l){var v=l.Devices.map(function(h){var g=h.DeviceAttributes.find(function(M){var E=M.Name;return E==="device_name"})||{},_={id:h.DeviceKey,name:g.Value};return _});a(v)},onFailure:function(l){l.code==="InvalidParameterException"?i(new Gi(gt.DeviceConfig)):l.code==="NetworkError"?i(new Gi(gt.NetworkError)):i(l)}};t.listDevices(jB,null,f)})]}})})},e}(),Li=new VB(null);ci.register(Li);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hc=function(){return hc=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},hc.apply(this,arguments)};function zB(e,t,r,n){function a(i){return i instanceof r?i:new r(function(f){f(i)})}return new(r||(r=Promise))(function(i,f){function l(g){try{h(n.next(g))}catch(_){f(_)}}function v(g){try{h(n.throw(g))}catch(_){f(_)}}function h(g){g.done?i(g.value):a(g.value).then(l,v)}h((n=n.apply(e,t||[])).next())})}function KB(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(h){return function(g){return v([h,g])}}function v(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){r.label=h[1];break}if(h[0]===6&&r.label<i[1]){r.label=i[1],i=h;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(h);break}i[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],a=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ln=function(){return ln=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ln.apply(this,arguments)};function ov(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function c4(e,t,r,n){function a(i){return i instanceof r?i:new r(function(f){f(i)})}return new(r||(r=Promise))(function(i,f){function l(g){try{h(n.next(g))}catch(_){f(_)}}function v(g){try{h(n.throw(g))}catch(_){f(_)}}function h(g){g.done?i(g.value):a(g.value).then(l,v)}h((n=n.apply(e,t||[])).next())})}function l4(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(h){return function(g){return v([h,g])}}function v(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){r.label=h[1];break}if(h[0]===6&&r.label<i[1]){r.label=i[1],i=h;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(h);break}i[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],a=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var h4={exports:{}},sm={exports:{}},d4=function(t,r){return function(){for(var a=new Array(arguments.length),i=0;i<a.length;i++)a[i]=arguments[i];return t.apply(r,a)}},HB=d4,da=Object.prototype.toString;function um(e){return Array.isArray(e)}function sv(e){return typeof e>"u"}function GB(e){return e!==null&&!sv(e)&&e.constructor!==null&&!sv(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function v4(e){return da.call(e)==="[object ArrayBuffer]"}function WB(e){return da.call(e)==="[object FormData]"}function JB(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&v4(e.buffer),t}function ZB(e){return typeof e=="string"}function YB(e){return typeof e=="number"}function p4(e){return e!==null&&typeof e=="object"}function Cf(e){if(da.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function XB(e){return da.call(e)==="[object Date]"}function QB(e){return da.call(e)==="[object File]"}function eU(e){return da.call(e)==="[object Blob]"}function m4(e){return da.call(e)==="[object Function]"}function tU(e){return p4(e)&&m4(e.pipe)}function rU(e){return da.call(e)==="[object URLSearchParams]"}function nU(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function iU(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function fm(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),um(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}function uv(){var e={};function t(a,i){Cf(e[i])&&Cf(a)?e[i]=uv(e[i],a):Cf(a)?e[i]=uv({},a):um(a)?e[i]=a.slice():e[i]=a}for(var r=0,n=arguments.length;r<n;r++)fm(arguments[r],t);return e}function aU(e,t,r){return fm(t,function(a,i){r&&typeof a=="function"?e[i]=HB(a,r):e[i]=a}),e}function oU(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var Wr={isArray:um,isArrayBuffer:v4,isBuffer:GB,isFormData:WB,isArrayBufferView:JB,isString:ZB,isNumber:YB,isObject:p4,isPlainObject:Cf,isUndefined:sv,isDate:XB,isFile:QB,isBlob:eU,isFunction:m4,isStream:tU,isURLSearchParams:rU,isStandardBrowserEnv:iU,forEach:fm,merge:uv,extend:aU,trim:nU,stripBOM:oU},mo=Wr;function eb(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var y4=function(t,r,n){if(!r)return t;var a;if(n)a=n(r);else if(mo.isURLSearchParams(r))a=r.toString();else{var i=[];mo.forEach(r,function(v,h){v===null||typeof v>"u"||(mo.isArray(v)?h=h+"[]":v=[v],mo.forEach(v,function(_){mo.isDate(_)?_=_.toISOString():mo.isObject(_)&&(_=JSON.stringify(_)),i.push(eb(h)+"="+eb(_))}))}),a=i.join("&")}if(a){var f=t.indexOf("#");f!==-1&&(t=t.slice(0,f)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t},sU=Wr;function Dl(){this.handlers=[]}Dl.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Dl.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Dl.prototype.forEach=function(t){sU.forEach(this.handlers,function(n){n!==null&&t(n)})};var uU=Dl,fU=Wr,cU=function(t,r){fU.forEach(t,function(a,i){i!==r&&i.toUpperCase()===r.toUpperCase()&&(t[r]=a,delete t[i])})},g4=function(t,r,n,a,i){return t.config=r,n&&(t.code=n),t.request=a,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},id,tb;function b4(){if(tb)return id;tb=1;var e=g4;return id=function(r,n,a,i,f){var l=new Error(r);return e(l,n,a,i,f)},id}var ad,rb;function lU(){if(rb)return ad;rb=1;var e=b4();return ad=function(r,n,a){var i=a.config.validateStatus;!a.status||!i||i(a.status)?r(a):n(e("Request failed with status code "+a.status,a.config,null,a.request,a))},ad}var od,nb;function hU(){if(nb)return od;nb=1;var e=Wr;return od=e.isStandardBrowserEnv()?function(){return{write:function(n,a,i,f,l,v){var h=[];h.push(n+"="+encodeURIComponent(a)),e.isNumber(i)&&h.push("expires="+new Date(i).toGMTString()),e.isString(f)&&h.push("path="+f),e.isString(l)&&h.push("domain="+l),v===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(n){var a=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),od}var sd,ib;function dU(){return ib||(ib=1,sd=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}),sd}var ud,ab;function vU(){return ab||(ab=1,ud=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t}),ud}var fd,ob;function pU(){if(ob)return fd;ob=1;var e=dU(),t=vU();return fd=function(n,a){return n&&!e(a)?t(n,a):a},fd}var cd,sb;function mU(){if(sb)return cd;sb=1;var e=Wr,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return cd=function(n){var a={},i,f,l;return n&&e.forEach(n.split(`
`),function(h){if(l=h.indexOf(":"),i=e.trim(h.substr(0,l)).toLowerCase(),f=e.trim(h.substr(l+1)),i){if(a[i]&&t.indexOf(i)>=0)return;i==="set-cookie"?a[i]=(a[i]?a[i]:[]).concat([f]):a[i]=a[i]?a[i]+", "+f:f}}),a},cd}var ld,ub;function yU(){if(ub)return ld;ub=1;var e=Wr;return ld=e.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),a;function i(f){var l=f;return r&&(n.setAttribute("href",l),l=n.href),n.setAttribute("href",l),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return a=i(window.location.href),function(l){var v=e.isString(l)?i(l):l;return v.protocol===a.protocol&&v.host===a.host}}():function(){return function(){return!0}}(),ld}var hd,fb;function Bl(){if(fb)return hd;fb=1;function e(t){this.message=t}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,hd=e,hd}var dd,cb;function lb(){if(cb)return dd;cb=1;var e=Wr,t=lU(),r=hU(),n=y4,a=pU(),i=mU(),f=yU(),l=b4(),v=Ul(),h=Bl();return dd=function(_){return new Promise(function(E,A){var I=_.data,O=_.headers,T=_.responseType,P;function k(){_.cancelToken&&_.cancelToken.unsubscribe(P),_.signal&&_.signal.removeEventListener("abort",P)}e.isFormData(I)&&delete O["Content-Type"];var R=new XMLHttpRequest;if(_.auth){var D=_.auth.username||"",V=_.auth.password?unescape(encodeURIComponent(_.auth.password)):"";O.Authorization="Basic "+btoa(D+":"+V)}var q=a(_.baseURL,_.url);R.open(_.method.toUpperCase(),n(q,_.params,_.paramsSerializer),!0),R.timeout=_.timeout;function $(){if(!!R){var z="getAllResponseHeaders"in R?i(R.getAllResponseHeaders()):null,b=!T||T==="text"||T==="json"?R.responseText:R.response,o={data:b,status:R.status,statusText:R.statusText,headers:z,config:_,request:R};t(function(c){E(c),k()},function(c){A(c),k()},o),R=null}}if("onloadend"in R?R.onloadend=$:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout($)},R.onabort=function(){!R||(A(l("Request aborted",_,"ECONNABORTED",R)),R=null)},R.onerror=function(){A(l("Network Error",_,null,R)),R=null},R.ontimeout=function(){var b=_.timeout?"timeout of "+_.timeout+"ms exceeded":"timeout exceeded",o=_.transitional||v.transitional;_.timeoutErrorMessage&&(b=_.timeoutErrorMessage),A(l(b,_,o.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",R)),R=null},e.isStandardBrowserEnv()){var F=(_.withCredentials||f(q))&&_.xsrfCookieName?r.read(_.xsrfCookieName):void 0;F&&(O[_.xsrfHeaderName]=F)}"setRequestHeader"in R&&e.forEach(O,function(b,o){typeof I>"u"&&o.toLowerCase()==="content-type"?delete O[o]:R.setRequestHeader(o,b)}),e.isUndefined(_.withCredentials)||(R.withCredentials=!!_.withCredentials),T&&T!=="json"&&(R.responseType=_.responseType),typeof _.onDownloadProgress=="function"&&R.addEventListener("progress",_.onDownloadProgress),typeof _.onUploadProgress=="function"&&R.upload&&R.upload.addEventListener("progress",_.onUploadProgress),(_.cancelToken||_.signal)&&(P=function(z){!R||(A(!z||z&&z.type?new h("canceled"):z),R.abort(),R=null)},_.cancelToken&&_.cancelToken.subscribe(P),_.signal&&(_.signal.aborted?P():_.signal.addEventListener("abort",P))),I||(I=null),R.send(I)})},dd}var vd,hb;function Ul(){if(hb)return vd;hb=1;var e=Wr,t=cU,r=g4,n={"Content-Type":"application/x-www-form-urlencoded"};function a(v,h){!e.isUndefined(v)&&e.isUndefined(v["Content-Type"])&&(v["Content-Type"]=h)}function i(){var v;return(typeof XMLHttpRequest<"u"||typeof ze.exports<"u"&&Object.prototype.toString.call(ze.exports)==="[object process]")&&(v=lb()),v}function f(v,h,g){if(e.isString(v))try{return(h||JSON.parse)(v),e.trim(v)}catch(_){if(_.name!=="SyntaxError")throw _}return(g||JSON.stringify)(v)}var l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:i(),transformRequest:[function(h,g){return t(g,"Accept"),t(g,"Content-Type"),e.isFormData(h)||e.isArrayBuffer(h)||e.isBuffer(h)||e.isStream(h)||e.isFile(h)||e.isBlob(h)?h:e.isArrayBufferView(h)?h.buffer:e.isURLSearchParams(h)?(a(g,"application/x-www-form-urlencoded;charset=utf-8"),h.toString()):e.isObject(h)||g&&g["Content-Type"]==="application/json"?(a(g,"application/json"),f(h)):h}],transformResponse:[function(h){var g=this.transitional||l.transitional,_=g&&g.silentJSONParsing,M=g&&g.forcedJSONParsing,E=!_&&this.responseType==="json";if(E||M&&e.isString(h)&&h.length)try{return JSON.parse(h)}catch(A){if(E)throw A.name==="SyntaxError"?r(A,this,"E_JSON_PARSE"):A}return h}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(h){return h>=200&&h<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return e.forEach(["delete","get","head"],function(h){l.headers[h]={}}),e.forEach(["post","put","patch"],function(h){l.headers[h]=e.merge(n)}),vd=l,vd}var gU=Wr,bU=Ul(),wU=function(t,r,n){var a=this||bU;return gU.forEach(n,function(f){t=f.call(a,t,r)}),t},pd,db;function w4(){return db||(db=1,pd=function(t){return!!(t&&t.__CANCEL__)}),pd}var vb=Wr,md=wU,_U=w4(),SU=Ul(),MU=Bl();function yd(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new MU("canceled")}var xU=function(t){yd(t),t.headers=t.headers||{},t.data=md.call(t,t.data,t.headers,t.transformRequest),t.headers=vb.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),vb.forEach(["delete","get","head","post","put","patch","common"],function(a){delete t.headers[a]});var r=t.adapter||SU.adapter;return r(t).then(function(a){return yd(t),a.data=md.call(t,a.data,a.headers,t.transformResponse),a},function(a){return _U(a)||(yd(t),a&&a.response&&(a.response.data=md.call(t,a.response.data,a.response.headers,t.transformResponse))),Promise.reject(a)})},Jr=Wr,_4=function(t,r){r=r||{};var n={};function a(g,_){return Jr.isPlainObject(g)&&Jr.isPlainObject(_)?Jr.merge(g,_):Jr.isPlainObject(_)?Jr.merge({},_):Jr.isArray(_)?_.slice():_}function i(g){if(Jr.isUndefined(r[g])){if(!Jr.isUndefined(t[g]))return a(void 0,t[g])}else return a(t[g],r[g])}function f(g){if(!Jr.isUndefined(r[g]))return a(void 0,r[g])}function l(g){if(Jr.isUndefined(r[g])){if(!Jr.isUndefined(t[g]))return a(void 0,t[g])}else return a(void 0,r[g])}function v(g){if(g in r)return a(t[g],r[g]);if(g in t)return a(void 0,t[g])}var h={url:f,method:f,data:f,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:v};return Jr.forEach(Object.keys(t).concat(Object.keys(r)),function(_){var M=h[_]||i,E=M(_);Jr.isUndefined(E)&&M!==v||(n[_]=E)}),n},gd,pb;function S4(){return pb||(pb=1,gd={version:"0.26.0"}),gd}var EU=S4().version,cm={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){cm[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var mb={};cm.transitional=function(t,r,n){function a(i,f){return"[Axios v"+EU+"] Transitional option '"+i+"'"+f+(n?". "+n:"")}return function(i,f,l){if(t===!1)throw new Error(a(f," has been removed"+(r?" in "+r:"")));return r&&!mb[f]&&(mb[f]=!0,console.warn(a(f," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,f,l):!0}};function AU(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),a=n.length;a-- >0;){var i=n[a],f=t[i];if(f){var l=e[i],v=l===void 0||f(l,i,e);if(v!==!0)throw new TypeError("option "+i+" must be "+v);continue}if(r!==!0)throw Error("Unknown option "+i)}}var IU={assertOptions:AU,validators:cm},M4=Wr,TU=y4,yb=uU,gb=xU,Fl=_4,x4=IU,yo=x4.validators;function Ru(e){this.defaults=e,this.interceptors={request:new yb,response:new yb}}Ru.prototype.request=function(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Fl(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&x4.assertOptions(n,{silentJSONParsing:yo.transitional(yo.boolean),forcedJSONParsing:yo.transitional(yo.boolean),clarifyTimeoutError:yo.transitional(yo.boolean)},!1);var a=[],i=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(r)===!1||(i=i&&E.synchronous,a.unshift(E.fulfilled,E.rejected))});var f=[];this.interceptors.response.forEach(function(E){f.push(E.fulfilled,E.rejected)});var l;if(!i){var v=[gb,void 0];for(Array.prototype.unshift.apply(v,a),v=v.concat(f),l=Promise.resolve(r);v.length;)l=l.then(v.shift(),v.shift());return l}for(var h=r;a.length;){var g=a.shift(),_=a.shift();try{h=g(h)}catch(M){_(M);break}}try{l=gb(h)}catch(M){return Promise.reject(M)}for(;f.length;)l=l.then(f.shift(),f.shift());return l};Ru.prototype.getUri=function(t){return t=Fl(this.defaults,t),TU(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};M4.forEach(["delete","get","head","options"],function(t){Ru.prototype[t]=function(r,n){return this.request(Fl(n||{},{method:t,url:r,data:(n||{}).data}))}});M4.forEach(["post","put","patch"],function(t){Ru.prototype[t]=function(r,n,a){return this.request(Fl(a||{},{method:t,url:r,data:n}))}});var CU=Ru,bd,bb;function OU(){if(bb)return bd;bb=1;var e=Bl();function t(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(f){n=f});var a=this;this.promise.then(function(i){if(!!a._listeners){var f,l=a._listeners.length;for(f=0;f<l;f++)a._listeners[f](i);a._listeners=null}}),this.promise.then=function(i){var f,l=new Promise(function(v){a.subscribe(v),f=v}).then(i);return l.cancel=function(){a.unsubscribe(f)},l},r(function(f){a.reason||(a.reason=new e(f),n(a.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},t.prototype.unsubscribe=function(n){if(!!this._listeners){var a=this._listeners.indexOf(n);a!==-1&&this._listeners.splice(a,1)}},t.source=function(){var n,a=new t(function(f){n=f});return{token:a,cancel:n}},bd=t,bd}var wd,wb;function PU(){return wb||(wb=1,wd=function(t){return function(n){return t.apply(null,n)}}),wd}var _d,_b;function kU(){if(_b)return _d;_b=1;var e=Wr;return _d=function(r){return e.isObject(r)&&r.isAxiosError===!0},_d}var Sb=Wr,RU=d4,Of=CU,NU=_4,DU=Ul();function E4(e){var t=new Of(e),r=RU(Of.prototype.request,t);return Sb.extend(r,Of.prototype,t),Sb.extend(r,t),r.create=function(a){return E4(NU(e,a))},r}var vi=E4(DU);vi.Axios=Of;vi.Cancel=Bl();vi.CancelToken=OU();vi.isCancel=w4();vi.VERSION=S4().version;vi.all=function(t){return Promise.all(t)};vi.spread=PU();vi.isAxiosError=kU();sm.exports=vi;sm.exports.default=vi;(function(e){e.exports=sm.exports})(h4);const Qu=D6(h4.exports);var go=new wt("RestClient"),A4=function(){function e(t){this._region="us-east-1",this._service="execute-api",this._custom_header=void 0,this._cancelTokenMap=null,this.Credentials=ki,this._options=t,go.debug("API Options",this._options),this._cancelTokenMap==null&&(this._cancelTokenMap=new WeakMap)}return e.prototype.ajax=function(t,r,n){return c4(this,void 0,void 0,function(){var a,i,f,l,v,h,g,_,M,E,A,I,O,T,P=this;return l4(this,function(k){switch(k.label){case 0:return go.debug(r,t),f="us-east-1",l="execute-api",v=void 0,typeof t=="string"?(a=this._parseUrl(t),i=t):(i=t.endpoint,v=t.custom_header,f=t.region,l=t.service,a=this._parseUrl(t.endpoint)),h={method:r,url:i,host:a.host,path:a.path,headers:{},data:null,responseType:"json",timeout:0,cancelToken:null},g={},Jn.isReactNative&&(_=Jn.userAgent||"aws-amplify/0.1.x",g={"User-Agent":_}),M=Object.assign({},n),E=M.response,M.body&&(typeof FormData=="function"&&M.body instanceof FormData?(g["Content-Type"]="multipart/form-data",h.data=M.body):(g["Content-Type"]="application/json; charset=UTF-8",h.data=JSON.stringify(M.body))),M.responseType&&(h.responseType=M.responseType),M.withCredentials&&(h.withCredentials=M.withCredentials),M.timeout&&(h.timeout=M.timeout),M.cancellableToken&&(h.cancelToken=M.cancellableToken.token),h.signerServiceInfo=M.signerServiceInfo,typeof v!="function"?[3,2]:[4,v()];case 1:return I=k.sent(),[3,3];case 2:I=void 0,k.label=3;case 3:return A=I,h.headers=ln(ln(ln({},g),A),M.headers),O=Xt.exports.parse(i,!0,!0),O.search,T=ov(O,["search"]),h.url=Xt.exports.format(ln(ln({},T),{query:ln(ln({},T.query),M.queryStringParameters||{})})),typeof h.headers.Authorization<"u"?(h.headers=Object.keys(h.headers).reduce(function(R,D){return h.headers[D]&&(R[D]=h.headers[D]),R},{}),[2,this._request(h,E)]):[2,this.Credentials.get().then(function(R){return P._signed(ln({},h),R,E,{region:f,service:l}).catch(function(D){if(hn.isClockSkewError(D)){var V=D.response.headers,q=V&&(V.date||V.Date),$=new Date(q),F=hn.getDateFromHeaderString(h.headers["x-amz-date"]);if(hn.isClockSkewed($))return hn.setClockOffset($.getTime()-F.getTime()),P.ajax(t,r,n)}throw D})},function(R){return go.debug("No credentials available, the request will be unsigned"),P._request(h,E)})]}})})},e.prototype.get=function(t,r){return this.ajax(t,"GET",r)},e.prototype.put=function(t,r){return this.ajax(t,"PUT",r)},e.prototype.patch=function(t,r){return this.ajax(t,"PATCH",r)},e.prototype.post=function(t,r){return this.ajax(t,"POST",r)},e.prototype.del=function(t,r){return this.ajax(t,"DELETE",r)},e.prototype.head=function(t,r){return this.ajax(t,"HEAD",r)},e.prototype.cancel=function(t,r){var n=this._cancelTokenMap.get(t);return n?(n.cancel(r),!0):!1},e.prototype.hasCancelToken=function(t){return this._cancelTokenMap.has(t)},e.prototype.isCancel=function(t){return Qu.isCancel(t)},e.prototype.getCancellableToken=function(){return Qu.CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(t,r){this._cancelTokenMap.set(t,r)},e.prototype.endpoint=function(t){var r=this,n=this._options.endpoints,a="";return Array.isArray(n)&&n.forEach(function(i){i.name===t&&(a=i.endpoint,typeof i.region=="string"?r._region=i.region:typeof r._options.region=="string"&&(r._region=r._options.region),typeof i.service=="string"?r._service=i.service||"execute-api":r._service="execute-api",typeof i.custom_header=="function"?r._custom_header=i.custom_header:r._custom_header=void 0)}),a},e.prototype._signed=function(t,r,n,a){var i=a.service,f=a.region,l=t.signerServiceInfo,v=ov(t,["signerServiceInfo"]),h=f||this._region||this._options.region,g=i||this._service||this._options.service,_={secret_key:r.secretAccessKey,access_key:r.accessKeyId,session_token:r.sessionToken},M={region:h,service:g},E=Object.assign(M,l),A=y2.sign(v,_,E);return A.data&&(A.body=A.data),go.debug("Signed Request: ",A),delete A.headers.host,Qu(A).then(function(I){return n?I:I.data}).catch(function(I){throw go.debug(I),I})},e.prototype._request=function(t,r){return r===void 0&&(r=!1),Qu(t).then(function(n){return r?n:n.data}).catch(function(n){throw go.debug(n),n})},e.prototype._parseUrl=function(t){var r=t.split("/");return{host:r[2],path:"/"+r.slice(3).join("/")}},e}(),ef=new wt("RestAPI"),I4=function(){function e(t){this._api=null,this.Credentials=ki,this._options=t,ef.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"RestAPI"},e.prototype.configure=function(t){var r=t||{},n=r.API,a=n===void 0?{}:n,i=ov(r,["API"]),f=ln(ln({},i),a);if(ef.debug("configure Rest API",{opt:f}),f.aws_project_region){if(f.aws_cloud_logic_custom){var l=f.aws_cloud_logic_custom;f.endpoints=typeof l=="string"?JSON.parse(l):l}f=Object.assign({},f,{region:f.aws_project_region,header:{}})}return Array.isArray(f.endpoints)?f.endpoints.forEach(function(v){typeof v.custom_header<"u"&&typeof v.custom_header!="function"&&(ef.warn("Rest API "+v.name+", custom_header should be a function"),v.custom_header=void 0)}):this._options&&Array.isArray(this._options.endpoints)?f.endpoints=this._options.endpoints:f.endpoints=[],this._options=Object.assign({},this._options,f),this.createInstance(),this._options},e.prototype.createInstance=function(){return ef.debug("create Rest API instance"),this._api=new A4(this._options),this._api.Credentials=this.Credentials,!0},e.prototype.get=function(t,r,n){try{var a=this.getEndpointInfo(t,r),i=this._api.getCancellableToken(),f=Object.assign({},n);f.cancellableToken=i;var l=this._api.get(a,f);return this._api.updateRequestToBeCancellable(l,i),l}catch(v){return Promise.reject(v.message)}},e.prototype.post=function(t,r,n){try{var a=this.getEndpointInfo(t,r),i=this._api.getCancellableToken(),f=Object.assign({},n);f.cancellableToken=i;var l=this._api.post(a,f);return this._api.updateRequestToBeCancellable(l,i),l}catch(v){return Promise.reject(v.message)}},e.prototype.put=function(t,r,n){try{var a=this.getEndpointInfo(t,r),i=this._api.getCancellableToken(),f=Object.assign({},n);f.cancellableToken=i;var l=this._api.put(a,f);return this._api.updateRequestToBeCancellable(l,i),l}catch(v){return Promise.reject(v.message)}},e.prototype.patch=function(t,r,n){try{var a=this.getEndpointInfo(t,r),i=this._api.getCancellableToken(),f=Object.assign({},n);f.cancellableToken=i;var l=this._api.patch(a,f);return this._api.updateRequestToBeCancellable(l,i),l}catch(v){return Promise.reject(v.message)}},e.prototype.del=function(t,r,n){try{var a=this.getEndpointInfo(t,r),i=this._api.getCancellableToken(),f=Object.assign({},n);f.cancellableToken=i;var l=this._api.del(a,f);return this._api.updateRequestToBeCancellable(l,i),l}catch(v){return Promise.reject(v.message)}},e.prototype.head=function(t,r,n){try{var a=this.getEndpointInfo(t,r),i=this._api.getCancellableToken(),f=Object.assign({},n);f.cancellableToken=i;var l=this._api.head(a,f);return this._api.updateRequestToBeCancellable(l,i),l}catch(v){return Promise.reject(v.message)}},e.prototype.isCancel=function(t){return this._api.isCancel(t)},e.prototype.cancel=function(t,r){return this._api.cancel(t,r)},e.prototype.hasCancelToken=function(t){return this._api.hasCancelToken(t)},e.prototype.endpoint=function(t){return c4(this,void 0,void 0,function(){return l4(this,function(r){return[2,this._api.endpoint(t)]})})},e.prototype.getEndpointInfo=function(t,r){var n=this._options.endpoints;if(!Array.isArray(n))throw new Error("API category not configured");var a=n.find(function(f){return f.name===t});if(!a)throw new Error("API "+t+" does not exist");var i={endpoint:a.endpoint+r};return typeof a.region=="string"?i.region=a.region:typeof this._options.region=="string"&&(i.region=this._options.region),typeof a.service=="string"?i.service=a.service||"execute-api":i.service="execute-api",typeof a.custom_header=="function"?i.custom_header=a.custom_header:i.custom_header=void 0,i},e}(),BU=new I4(null);ci.register(BU);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Mi=function(){return Mi=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Mi.apply(this,arguments)};function UU(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Sd(e,t,r,n){function a(i){return i instanceof r?i:new r(function(f){f(i)})}return new(r||(r=Promise))(function(i,f){function l(g){try{h(n.next(g))}catch(_){f(_)}}function v(g){try{h(n.throw(g))}catch(_){f(_)}}function h(g){g.done?i(g.value):a(g.value).then(l,v)}h((n=n.apply(e,t||[])).next())})}function Md(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(h){return function(g){return v([h,g])}}function v(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){r.label=h[1];break}if(h[0]===6&&r.label<i[1]){r.label=i[1],i=h;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(h);break}i[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],a=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Mb(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],f;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){f={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(f)throw f.error}}return i}function Pf(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pf=function(r){return typeof r}:Pf=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Pf(e)}function FU(e){return Pf(e)=="object"&&e!==null}var T4=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";function fv(e,t){for(var r=/\r\n|[\n\r]/g,n=1,a=t+1,i;(i=r.exec(e.body))&&i.index<t;)n+=1,a=t+1-(i.index+i[0].length);return{line:n,column:a}}function LU(e){return C4(e.source,fv(e.source,e.start))}function C4(e,t){var r=e.locationOffset.column-1,n=kf(r)+e.body,a=t.line-1,i=e.locationOffset.line-1,f=t.line+i,l=t.line===1?r:0,v=t.column+l,h="".concat(e.name,":").concat(f,":").concat(v,`
`),g=n.split(/\r\n|[\n\r]/g),_=g[a];if(_.length>120){for(var M=Math.floor(v/80),E=v%80,A=[],I=0;I<_.length;I+=80)A.push(_.slice(I,I+80));return h+xb([["".concat(f),A[0]]].concat(A.slice(1,M+1).map(function(O){return["",O]}),[[" ",kf(E-1)+"^"],["",A[M+1]]]))}return h+xb([["".concat(f-1),g[a-1]],["".concat(f),_],["",kf(v-1)+"^"],["".concat(f+1),g[a+1]]])}function xb(e){var t=e.filter(function(n){n[0];var a=n[1];return a!==void 0}),r=Math.max.apply(Math,t.map(function(n){var a=n[0];return a.length}));return t.map(function(n){var a=n[0],i=n[1];return qU(r,a)+(i?" | "+i:" |")}).join(`
`)}function kf(e){return Array(e+1).join(" ")}function qU(e,t){return kf(e-t.length)+t}function Rf(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rf=function(r){return typeof r}:Rf=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Rf(e)}function Eb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Eb(Object(r),!0).forEach(function(n){$U(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ab(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zU(e,t,r){return t&&Ab(e.prototype,t),r&&Ab(e,r),e}function KU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fu(e,t)}function HU(e){var t=P4();return function(){var n=cu(e),a;if(t){var i=cu(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return O4(this,a)}}function O4(e,t){return t&&(Rf(t)==="object"||typeof t=="function")?t:Gs(e)}function Gs(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cv(e){var t=typeof Map=="function"?new Map:void 0;return cv=function(n){if(n===null||!GU(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,a)}function a(){return Nf(n,arguments,cu(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),fu(a,n)},cv(e)}function Nf(e,t,r){return P4()?Nf=Reflect.construct:Nf=function(a,i,f){var l=[null];l.push.apply(l,i);var v=Function.bind.apply(a,l),h=new v;return f&&fu(h,f.prototype),h},Nf.apply(null,arguments)}function P4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function GU(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function fu(e,t){return fu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},fu(e,t)}function cu(e){return cu=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},cu(e)}var $o=function(e){KU(r,e);var t=HU(r);function r(n,a,i,f,l,v,h){var g,_,M,E;VU(this,r),E=t.call(this,n),E.name="GraphQLError",E.originalError=v!=null?v:void 0,E.nodes=Ib(Array.isArray(a)?a:a?[a]:void 0);for(var A=[],I=0,O=(T=E.nodes)!==null&&T!==void 0?T:[];I<O.length;I++){var T,P=O[I],k=P.loc;k!=null&&A.push(k)}A=Ib(A),E.source=i!=null?i:(g=A)===null||g===void 0?void 0:g[0].source,E.positions=f!=null?f:(_=A)===null||_===void 0?void 0:_.map(function(D){return D.start}),E.locations=f&&i?f.map(function(D){return fv(i,D)}):(M=A)===null||M===void 0?void 0:M.map(function(D){return fv(D.source,D.start)}),E.path=l!=null?l:void 0;var R=v==null?void 0:v.extensions;return h==null&&FU(R)?E.extensions=jU({},R):E.extensions=h!=null?h:{},Object.defineProperties(Gs(E),{message:{enumerable:!0},locations:{enumerable:E.locations!=null},path:{enumerable:E.path!=null},extensions:{enumerable:E.extensions!=null&&Object.keys(E.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),v!=null&&v.stack?(Object.defineProperty(Gs(E),"stack",{value:v.stack,writable:!0,configurable:!0}),O4(E)):(Error.captureStackTrace?Error.captureStackTrace(Gs(E),r):Object.defineProperty(Gs(E),"stack",{value:Error().stack,writable:!0,configurable:!0}),E)}return zU(r,[{key:"toString",value:function(){return WU(this)}},{key:T4,get:function(){return"Object"}}]),r}(cv(Error));function Ib(e){return e===void 0||e.length===0?void 0:e}function WU(e){var t=e.message;if(e.nodes)for(var r=0,n=e.nodes;r<n.length;r++){var a=n[r];a.loc&&(t+=`

`+LU(a.loc))}else if(e.source&&e.locations)for(var i=0,f=e.locations;i<f.length;i++){var l=f[i];t+=`

`+C4(e.source,l)}return t}function Qr(e,t,r){return new $o("Syntax Error: ".concat(r),void 0,e,[t])}var Xe=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});function JU(e,t){var r=Boolean(e);if(!r)throw new Error(t!=null?t:"Unexpected invariant triggered.")}var ZU=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0;const lv=ZU;function k4(e){var t=e.prototype.toJSON;typeof t=="function"||JU(0),e.prototype.inspect=t,lv&&(e.prototype[lv]=t)}var R4=function(){function e(r,n,a){this.start=r.start,this.end=n.end,this.startToken=r,this.endToken=n,this.source=a}var t=e.prototype;return t.toJSON=function(){return{start:this.start,end:this.end}},e}();k4(R4);var er=function(){function e(r,n,a,i,f,l,v){this.kind=r,this.start=n,this.end=a,this.line=i,this.column=f,this.value=v,this.prev=l,this.next=null}var t=e.prototype;return t.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();k4(er);function Tb(e){return e!=null&&typeof e.kind=="string"}var Ne=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function Df(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Df=function(r){return typeof r}:Df=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Df(e)}var YU=10,N4=2;function D4(e){return Ll(e,[])}function Ll(e,t){switch(Df(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return e===null?"null":XU(e,t);default:return String(e)}}function XU(e,t){if(t.indexOf(e)!==-1)return"[Circular]";var r=[].concat(t,[e]),n=tF(e);if(n!==void 0){var a=n.call(e);if(a!==e)return typeof a=="string"?a:Ll(a,r)}else if(Array.isArray(e))return eF(e,r);return QU(e,r)}function QU(e,t){var r=Object.keys(e);if(r.length===0)return"{}";if(t.length>N4)return"["+rF(e)+"]";var n=r.map(function(a){var i=Ll(e[a],t);return a+": "+i});return"{ "+n.join(", ")+" }"}function eF(e,t){if(e.length===0)return"[]";if(t.length>N4)return"[Array]";for(var r=Math.min(YU,e.length),n=e.length-r,a=[],i=0;i<r;++i)a.push(Ll(e[i],t));return n===1?a.push("... 1 more item"):n>1&&a.push("... ".concat(n," more items")),"["+a.join(", ")+"]"}function tF(e){var t=e[String(lv)];if(typeof t=="function")return t;if(typeof e.inspect=="function")return e.inspect}function rF(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){var r=e.constructor.name;if(typeof r=="string"&&r!=="")return r}return t}function xd(e,t){var r=Boolean(e);if(!r)throw new Error(t)}const nF=function(t,r){return t instanceof r};function Cb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function iF(e,t,r){return t&&Cb(e.prototype,t),r&&Cb(e,r),e}var B4=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof t=="string"||xd(0,"Body must be a string. Received: ".concat(D4(t),".")),this.body=t,this.name=r,this.locationOffset=n,this.locationOffset.line>0||xd(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||xd(0,"column in locationOffset is 1-indexed and must be positive.")}return iF(e,[{key:T4,get:function(){return"Source"}}]),e}();function aF(e){return nF(e,B4)}var oF=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function sF(e){var t=e.split(/\r\n|[\n\r]/g),r=uF(e);if(r!==0)for(var n=1;n<t.length;n++)t[n]=t[n].slice(r);for(var a=0;a<t.length&&Ob(t[a]);)++a;for(var i=t.length;i>a&&Ob(t[i-1]);)--i;return t.slice(a,i).join(`
`)}function Ob(e){for(var t=0;t<e.length;++t)if(e[t]!==" "&&e[t]!=="	")return!1;return!0}function uF(e){for(var t,r=!0,n=!0,a=0,i=null,f=0;f<e.length;++f)switch(e.charCodeAt(f)){case 13:e.charCodeAt(f+1)===10&&++f;case 10:r=!1,n=!0,a=0;break;case 9:case 32:++a;break;default:n&&!r&&(i===null||a<i)&&(i=a),n=!1}return(t=i)!==null&&t!==void 0?t:0}function fF(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=e.indexOf(`
`)===-1,a=e[0]===" "||e[0]==="	",i=e[e.length-1]==='"',f=e[e.length-1]==="\\",l=!n||i||f||r,v="";return l&&!(n&&a)&&(v+=`
`+t),v+=t?e.replace(/\n/g,`
`+t):e,l&&(v+=`
`),'"""'+v.replace(/"""/g,'\\"""')+'"""'}var cF=function(){function e(r){var n=new er(Ne.SOF,0,0,0,0,null);this.source=r,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){this.lastToken=this.token;var n=this.token=this.lookahead();return n},t.lookahead=function(){var n=this.token;if(n.kind!==Ne.EOF)do{var a;n=(a=n.next)!==null&&a!==void 0?a:n.next=hF(this,n)}while(n.kind===Ne.COMMENT);return n},e}();function lF(e){return e===Ne.BANG||e===Ne.DOLLAR||e===Ne.AMP||e===Ne.PAREN_L||e===Ne.PAREN_R||e===Ne.SPREAD||e===Ne.COLON||e===Ne.EQUALS||e===Ne.AT||e===Ne.BRACKET_L||e===Ne.BRACKET_R||e===Ne.BRACE_L||e===Ne.PIPE||e===Ne.BRACE_R}function Za(e){return isNaN(e)?Ne.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function hF(e,t){for(var r=e.source,n=r.body,a=n.length,i=t.end;i<a;){var f=n.charCodeAt(i),l=e.line,v=1+i-e.lineStart;switch(f){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++e.line,e.lineStart=i;continue;case 13:n.charCodeAt(i+1)===10?i+=2:++i,++e.line,e.lineStart=i;continue;case 33:return new er(Ne.BANG,i,i+1,l,v,t);case 35:return vF(r,i,l,v,t);case 36:return new er(Ne.DOLLAR,i,i+1,l,v,t);case 38:return new er(Ne.AMP,i,i+1,l,v,t);case 40:return new er(Ne.PAREN_L,i,i+1,l,v,t);case 41:return new er(Ne.PAREN_R,i,i+1,l,v,t);case 46:if(n.charCodeAt(i+1)===46&&n.charCodeAt(i+2)===46)return new er(Ne.SPREAD,i,i+3,l,v,t);break;case 58:return new er(Ne.COLON,i,i+1,l,v,t);case 61:return new er(Ne.EQUALS,i,i+1,l,v,t);case 64:return new er(Ne.AT,i,i+1,l,v,t);case 91:return new er(Ne.BRACKET_L,i,i+1,l,v,t);case 93:return new er(Ne.BRACKET_R,i,i+1,l,v,t);case 123:return new er(Ne.BRACE_L,i,i+1,l,v,t);case 124:return new er(Ne.PIPE,i,i+1,l,v,t);case 125:return new er(Ne.BRACE_R,i,i+1,l,v,t);case 34:return n.charCodeAt(i+1)===34&&n.charCodeAt(i+2)===34?yF(r,i,l,v,t,e):mF(r,i,l,v,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return pF(r,i,f,l,v,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return bF(r,i,l,v,t)}throw Qr(r,i,dF(f))}var h=e.line,g=1+i-e.lineStart;return new er(Ne.EOF,a,a,h,g,t)}function dF(e){return e<32&&e!==9&&e!==10&&e!==13?"Cannot contain the invalid character ".concat(Za(e),"."):e===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(Za(e),".")}function vF(e,t,r,n,a){var i=e.body,f,l=t;do f=i.charCodeAt(++l);while(!isNaN(f)&&(f>31||f===9));return new er(Ne.COMMENT,t,l,r,n,a,i.slice(t+1,l))}function pF(e,t,r,n,a,i){var f=e.body,l=r,v=t,h=!1;if(l===45&&(l=f.charCodeAt(++v)),l===48){if(l=f.charCodeAt(++v),l>=48&&l<=57)throw Qr(e,v,"Invalid number, unexpected digit after 0: ".concat(Za(l),"."))}else v=Ed(e,v,l),l=f.charCodeAt(v);if(l===46&&(h=!0,l=f.charCodeAt(++v),v=Ed(e,v,l),l=f.charCodeAt(v)),(l===69||l===101)&&(h=!0,l=f.charCodeAt(++v),(l===43||l===45)&&(l=f.charCodeAt(++v)),v=Ed(e,v,l),l=f.charCodeAt(v)),l===46||wF(l))throw Qr(e,v,"Invalid number, expected digit but got: ".concat(Za(l),"."));return new er(h?Ne.FLOAT:Ne.INT,t,v,n,a,i,f.slice(t,v))}function Ed(e,t,r){var n=e.body,a=t,i=r;if(i>=48&&i<=57){do i=n.charCodeAt(++a);while(i>=48&&i<=57);return a}throw Qr(e,a,"Invalid number, expected digit but got: ".concat(Za(i),"."))}function mF(e,t,r,n,a){for(var i=e.body,f=t+1,l=f,v=0,h="";f<i.length&&!isNaN(v=i.charCodeAt(f))&&v!==10&&v!==13;){if(v===34)return h+=i.slice(l,f),new er(Ne.STRING,t,f+1,r,n,a,h);if(v<32&&v!==9)throw Qr(e,f,"Invalid character within String: ".concat(Za(v),"."));if(++f,v===92){switch(h+=i.slice(l,f-1),v=i.charCodeAt(f),v){case 34:h+='"';break;case 47:h+="/";break;case 92:h+="\\";break;case 98:h+="\b";break;case 102:h+="\f";break;case 110:h+=`
`;break;case 114:h+="\r";break;case 116:h+="	";break;case 117:{var g=gF(i.charCodeAt(f+1),i.charCodeAt(f+2),i.charCodeAt(f+3),i.charCodeAt(f+4));if(g<0){var _=i.slice(f+1,f+5);throw Qr(e,f,"Invalid character escape sequence: \\u".concat(_,"."))}h+=String.fromCharCode(g),f+=4;break}default:throw Qr(e,f,"Invalid character escape sequence: \\".concat(String.fromCharCode(v),"."))}++f,l=f}}throw Qr(e,f,"Unterminated string.")}function yF(e,t,r,n,a,i){for(var f=e.body,l=t+3,v=l,h=0,g="";l<f.length&&!isNaN(h=f.charCodeAt(l));){if(h===34&&f.charCodeAt(l+1)===34&&f.charCodeAt(l+2)===34)return g+=f.slice(v,l),new er(Ne.BLOCK_STRING,t,l+3,r,n,a,sF(g));if(h<32&&h!==9&&h!==10&&h!==13)throw Qr(e,l,"Invalid character within String: ".concat(Za(h),"."));h===10?(++l,++i.line,i.lineStart=l):h===13?(f.charCodeAt(l+1)===10?l+=2:++l,++i.line,i.lineStart=l):h===92&&f.charCodeAt(l+1)===34&&f.charCodeAt(l+2)===34&&f.charCodeAt(l+3)===34?(g+=f.slice(v,l)+'"""',l+=4,v=l):++l}throw Qr(e,l,"Unterminated string.")}function gF(e,t,r,n){return tf(e)<<12|tf(t)<<8|tf(r)<<4|tf(n)}function tf(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function bF(e,t,r,n,a){for(var i=e.body,f=i.length,l=t+1,v=0;l!==f&&!isNaN(v=i.charCodeAt(l))&&(v===95||v>=48&&v<=57||v>=65&&v<=90||v>=97&&v<=122);)++l;return new er(Ne.NAME,t,l,r,n,a,i.slice(t,l))}function wF(e){return e===95||e>=65&&e<=90||e>=97&&e<=122}function Ad(e,t){var r=new _F(e,t);return r.parseDocument()}var _F=function(){function e(r,n){var a=aF(r)?r:new B4(r);this._lexer=new cF(a),this._options=n}var t=e.prototype;return t.parseName=function(){var n=this.expectToken(Ne.NAME);return{kind:Xe.NAME,value:n.value,loc:this.loc(n)}},t.parseDocument=function(){var n=this._lexer.token;return{kind:Xe.DOCUMENT,definitions:this.many(Ne.SOF,this.parseDefinition,Ne.EOF),loc:this.loc(n)}},t.parseDefinition=function(){if(this.peek(Ne.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(Ne.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var n=this._lexer.token;if(this.peek(Ne.BRACE_L))return{kind:Xe.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(n)};var a=this.parseOperationType(),i;return this.peek(Ne.NAME)&&(i=this.parseName()),{kind:Xe.OPERATION_DEFINITION,operation:a,name:i,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},t.parseOperationType=function(){var n=this.expectToken(Ne.NAME);switch(n.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(n)},t.parseVariableDefinitions=function(){return this.optionalMany(Ne.PAREN_L,this.parseVariableDefinition,Ne.PAREN_R)},t.parseVariableDefinition=function(){var n=this._lexer.token;return{kind:Xe.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Ne.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Ne.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(n)}},t.parseVariable=function(){var n=this._lexer.token;return this.expectToken(Ne.DOLLAR),{kind:Xe.VARIABLE,name:this.parseName(),loc:this.loc(n)}},t.parseSelectionSet=function(){var n=this._lexer.token;return{kind:Xe.SELECTION_SET,selections:this.many(Ne.BRACE_L,this.parseSelection,Ne.BRACE_R),loc:this.loc(n)}},t.parseSelection=function(){return this.peek(Ne.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var n=this._lexer.token,a=this.parseName(),i,f;return this.expectOptionalToken(Ne.COLON)?(i=a,f=this.parseName()):f=a,{kind:Xe.FIELD,alias:i,name:f,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Ne.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(n){var a=n?this.parseConstArgument:this.parseArgument;return this.optionalMany(Ne.PAREN_L,a,Ne.PAREN_R)},t.parseArgument=function(){var n=this._lexer.token,a=this.parseName();return this.expectToken(Ne.COLON),{kind:Xe.ARGUMENT,name:a,value:this.parseValueLiteral(!1),loc:this.loc(n)}},t.parseConstArgument=function(){var n=this._lexer.token;return{kind:Xe.ARGUMENT,name:this.parseName(),value:(this.expectToken(Ne.COLON),this.parseValueLiteral(!0)),loc:this.loc(n)}},t.parseFragment=function(){var n=this._lexer.token;this.expectToken(Ne.SPREAD);var a=this.expectOptionalKeyword("on");return!a&&this.peek(Ne.NAME)?{kind:Xe.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(n)}:{kind:Xe.INLINE_FRAGMENT,typeCondition:a?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},t.parseFragmentDefinition=function(){var n,a=this._lexer.token;return this.expectKeyword("fragment"),((n=this._options)===null||n===void 0?void 0:n.experimentalFragmentVariables)===!0?{kind:Xe.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(a)}:{kind:Xe.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(a)}},t.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(n){var a=this._lexer.token;switch(a.kind){case Ne.BRACKET_L:return this.parseList(n);case Ne.BRACE_L:return this.parseObject(n);case Ne.INT:return this._lexer.advance(),{kind:Xe.INT,value:a.value,loc:this.loc(a)};case Ne.FLOAT:return this._lexer.advance(),{kind:Xe.FLOAT,value:a.value,loc:this.loc(a)};case Ne.STRING:case Ne.BLOCK_STRING:return this.parseStringLiteral();case Ne.NAME:switch(this._lexer.advance(),a.value){case"true":return{kind:Xe.BOOLEAN,value:!0,loc:this.loc(a)};case"false":return{kind:Xe.BOOLEAN,value:!1,loc:this.loc(a)};case"null":return{kind:Xe.NULL,loc:this.loc(a)};default:return{kind:Xe.ENUM,value:a.value,loc:this.loc(a)}}case Ne.DOLLAR:if(!n)return this.parseVariable();break}throw this.unexpected()},t.parseStringLiteral=function(){var n=this._lexer.token;return this._lexer.advance(),{kind:Xe.STRING,value:n.value,block:n.kind===Ne.BLOCK_STRING,loc:this.loc(n)}},t.parseList=function(n){var a=this,i=this._lexer.token,f=function(){return a.parseValueLiteral(n)};return{kind:Xe.LIST,values:this.any(Ne.BRACKET_L,f,Ne.BRACKET_R),loc:this.loc(i)}},t.parseObject=function(n){var a=this,i=this._lexer.token,f=function(){return a.parseObjectField(n)};return{kind:Xe.OBJECT,fields:this.any(Ne.BRACE_L,f,Ne.BRACE_R),loc:this.loc(i)}},t.parseObjectField=function(n){var a=this._lexer.token,i=this.parseName();return this.expectToken(Ne.COLON),{kind:Xe.OBJECT_FIELD,name:i,value:this.parseValueLiteral(n),loc:this.loc(a)}},t.parseDirectives=function(n){for(var a=[];this.peek(Ne.AT);)a.push(this.parseDirective(n));return a},t.parseDirective=function(n){var a=this._lexer.token;return this.expectToken(Ne.AT),{kind:Xe.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(n),loc:this.loc(a)}},t.parseTypeReference=function(){var n=this._lexer.token,a;return this.expectOptionalToken(Ne.BRACKET_L)?(a=this.parseTypeReference(),this.expectToken(Ne.BRACKET_R),a={kind:Xe.LIST_TYPE,type:a,loc:this.loc(n)}):a=this.parseNamedType(),this.expectOptionalToken(Ne.BANG)?{kind:Xe.NON_NULL_TYPE,type:a,loc:this.loc(n)}:a},t.parseNamedType=function(){var n=this._lexer.token;return{kind:Xe.NAMED_TYPE,name:this.parseName(),loc:this.loc(n)}},t.parseTypeSystemDefinition=function(){var n=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(n.kind===Ne.NAME)switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(n)},t.peekDescription=function(){return this.peek(Ne.STRING)||this.peek(Ne.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("schema");var i=this.parseDirectives(!0),f=this.many(Ne.BRACE_L,this.parseOperationTypeDefinition,Ne.BRACE_R);return{kind:Xe.SCHEMA_DEFINITION,description:a,directives:i,operationTypes:f,loc:this.loc(n)}},t.parseOperationTypeDefinition=function(){var n=this._lexer.token,a=this.parseOperationType();this.expectToken(Ne.COLON);var i=this.parseNamedType();return{kind:Xe.OPERATION_TYPE_DEFINITION,operation:a,type:i,loc:this.loc(n)}},t.parseScalarTypeDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("scalar");var i=this.parseName(),f=this.parseDirectives(!0);return{kind:Xe.SCALAR_TYPE_DEFINITION,description:a,name:i,directives:f,loc:this.loc(n)}},t.parseObjectTypeDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("type");var i=this.parseName(),f=this.parseImplementsInterfaces(),l=this.parseDirectives(!0),v=this.parseFieldsDefinition();return{kind:Xe.OBJECT_TYPE_DEFINITION,description:a,name:i,interfaces:f,directives:l,fields:v,loc:this.loc(n)}},t.parseImplementsInterfaces=function(){var n;if(!this.expectOptionalKeyword("implements"))return[];if(((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLImplementsInterfaces)===!0){var a=[];this.expectOptionalToken(Ne.AMP);do a.push(this.parseNamedType());while(this.expectOptionalToken(Ne.AMP)||this.peek(Ne.NAME));return a}return this.delimitedMany(Ne.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var n;return((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLEmptyFields)===!0&&this.peek(Ne.BRACE_L)&&this._lexer.lookahead().kind===Ne.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(Ne.BRACE_L,this.parseFieldDefinition,Ne.BRACE_R)},t.parseFieldDefinition=function(){var n=this._lexer.token,a=this.parseDescription(),i=this.parseName(),f=this.parseArgumentDefs();this.expectToken(Ne.COLON);var l=this.parseTypeReference(),v=this.parseDirectives(!0);return{kind:Xe.FIELD_DEFINITION,description:a,name:i,arguments:f,type:l,directives:v,loc:this.loc(n)}},t.parseArgumentDefs=function(){return this.optionalMany(Ne.PAREN_L,this.parseInputValueDef,Ne.PAREN_R)},t.parseInputValueDef=function(){var n=this._lexer.token,a=this.parseDescription(),i=this.parseName();this.expectToken(Ne.COLON);var f=this.parseTypeReference(),l;this.expectOptionalToken(Ne.EQUALS)&&(l=this.parseValueLiteral(!0));var v=this.parseDirectives(!0);return{kind:Xe.INPUT_VALUE_DEFINITION,description:a,name:i,type:f,defaultValue:l,directives:v,loc:this.loc(n)}},t.parseInterfaceTypeDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("interface");var i=this.parseName(),f=this.parseImplementsInterfaces(),l=this.parseDirectives(!0),v=this.parseFieldsDefinition();return{kind:Xe.INTERFACE_TYPE_DEFINITION,description:a,name:i,interfaces:f,directives:l,fields:v,loc:this.loc(n)}},t.parseUnionTypeDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("union");var i=this.parseName(),f=this.parseDirectives(!0),l=this.parseUnionMemberTypes();return{kind:Xe.UNION_TYPE_DEFINITION,description:a,name:i,directives:f,types:l,loc:this.loc(n)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(Ne.EQUALS)?this.delimitedMany(Ne.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("enum");var i=this.parseName(),f=this.parseDirectives(!0),l=this.parseEnumValuesDefinition();return{kind:Xe.ENUM_TYPE_DEFINITION,description:a,name:i,directives:f,values:l,loc:this.loc(n)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(Ne.BRACE_L,this.parseEnumValueDefinition,Ne.BRACE_R)},t.parseEnumValueDefinition=function(){var n=this._lexer.token,a=this.parseDescription(),i=this.parseName(),f=this.parseDirectives(!0);return{kind:Xe.ENUM_VALUE_DEFINITION,description:a,name:i,directives:f,loc:this.loc(n)}},t.parseInputObjectTypeDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("input");var i=this.parseName(),f=this.parseDirectives(!0),l=this.parseInputFieldsDefinition();return{kind:Xe.INPUT_OBJECT_TYPE_DEFINITION,description:a,name:i,directives:f,fields:l,loc:this.loc(n)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(Ne.BRACE_L,this.parseInputValueDef,Ne.BRACE_R)},t.parseTypeSystemExtension=function(){var n=this._lexer.lookahead();if(n.kind===Ne.NAME)switch(n.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(n)},t.parseSchemaExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var a=this.parseDirectives(!0),i=this.optionalMany(Ne.BRACE_L,this.parseOperationTypeDefinition,Ne.BRACE_R);if(a.length===0&&i.length===0)throw this.unexpected();return{kind:Xe.SCHEMA_EXTENSION,directives:a,operationTypes:i,loc:this.loc(n)}},t.parseScalarTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var a=this.parseName(),i=this.parseDirectives(!0);if(i.length===0)throw this.unexpected();return{kind:Xe.SCALAR_TYPE_EXTENSION,name:a,directives:i,loc:this.loc(n)}},t.parseObjectTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var a=this.parseName(),i=this.parseImplementsInterfaces(),f=this.parseDirectives(!0),l=this.parseFieldsDefinition();if(i.length===0&&f.length===0&&l.length===0)throw this.unexpected();return{kind:Xe.OBJECT_TYPE_EXTENSION,name:a,interfaces:i,directives:f,fields:l,loc:this.loc(n)}},t.parseInterfaceTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var a=this.parseName(),i=this.parseImplementsInterfaces(),f=this.parseDirectives(!0),l=this.parseFieldsDefinition();if(i.length===0&&f.length===0&&l.length===0)throw this.unexpected();return{kind:Xe.INTERFACE_TYPE_EXTENSION,name:a,interfaces:i,directives:f,fields:l,loc:this.loc(n)}},t.parseUnionTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var a=this.parseName(),i=this.parseDirectives(!0),f=this.parseUnionMemberTypes();if(i.length===0&&f.length===0)throw this.unexpected();return{kind:Xe.UNION_TYPE_EXTENSION,name:a,directives:i,types:f,loc:this.loc(n)}},t.parseEnumTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var a=this.parseName(),i=this.parseDirectives(!0),f=this.parseEnumValuesDefinition();if(i.length===0&&f.length===0)throw this.unexpected();return{kind:Xe.ENUM_TYPE_EXTENSION,name:a,directives:i,values:f,loc:this.loc(n)}},t.parseInputObjectTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var a=this.parseName(),i=this.parseDirectives(!0),f=this.parseInputFieldsDefinition();if(i.length===0&&f.length===0)throw this.unexpected();return{kind:Xe.INPUT_OBJECT_TYPE_EXTENSION,name:a,directives:i,fields:f,loc:this.loc(n)}},t.parseDirectiveDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Ne.AT);var i=this.parseName(),f=this.parseArgumentDefs(),l=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var v=this.parseDirectiveLocations();return{kind:Xe.DIRECTIVE_DEFINITION,description:a,name:i,arguments:f,repeatable:l,locations:v,loc:this.loc(n)}},t.parseDirectiveLocations=function(){return this.delimitedMany(Ne.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var n=this._lexer.token,a=this.parseName();if(oF[a.value]!==void 0)return a;throw this.unexpected(n)},t.loc=function(n){var a;if(((a=this._options)===null||a===void 0?void 0:a.noLocation)!==!0)return new R4(n,this._lexer.lastToken,this._lexer.source)},t.peek=function(n){return this._lexer.token.kind===n},t.expectToken=function(n){var a=this._lexer.token;if(a.kind===n)return this._lexer.advance(),a;throw Qr(this._lexer.source,a.start,"Expected ".concat(U4(n),", found ").concat(Id(a),"."))},t.expectOptionalToken=function(n){var a=this._lexer.token;if(a.kind===n)return this._lexer.advance(),a},t.expectKeyword=function(n){var a=this._lexer.token;if(a.kind===Ne.NAME&&a.value===n)this._lexer.advance();else throw Qr(this._lexer.source,a.start,'Expected "'.concat(n,'", found ').concat(Id(a),"."))},t.expectOptionalKeyword=function(n){var a=this._lexer.token;return a.kind===Ne.NAME&&a.value===n?(this._lexer.advance(),!0):!1},t.unexpected=function(n){var a=n!=null?n:this._lexer.token;return Qr(this._lexer.source,a.start,"Unexpected ".concat(Id(a),"."))},t.any=function(n,a,i){this.expectToken(n);for(var f=[];!this.expectOptionalToken(i);)f.push(a.call(this));return f},t.optionalMany=function(n,a,i){if(this.expectOptionalToken(n)){var f=[];do f.push(a.call(this));while(!this.expectOptionalToken(i));return f}return[]},t.many=function(n,a,i){this.expectToken(n);var f=[];do f.push(a.call(this));while(!this.expectOptionalToken(i));return f},t.delimitedMany=function(n,a){this.expectOptionalToken(n);var i=[];do i.push(a.call(this));while(this.expectOptionalToken(n));return i},e}();function Id(e){var t=e.value;return U4(e.kind)+(t!=null?' "'.concat(t,'"'):"")}function U4(e){return lF(e)?'"'.concat(e,'"'):e}var SF={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},MF=Object.freeze({});function xF(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:SF,n=void 0,a=Array.isArray(e),i=[e],f=-1,l=[],v=void 0,h=void 0,g=void 0,_=[],M=[],E=e;do{f++;var A=f===i.length,I=A&&l.length!==0;if(A){if(h=M.length===0?void 0:_[_.length-1],v=g,g=M.pop(),I){if(a)v=v.slice();else{for(var O={},T=0,P=Object.keys(v);T<P.length;T++){var k=P[T];O[k]=v[k]}v=O}for(var R=0,D=0;D<l.length;D++){var V=l[D][0],q=l[D][1];a&&(V-=R),a&&q===null?(v.splice(V,1),R++):v[V]=q}}f=n.index,i=n.keys,l=n.edits,a=n.inArray,n=n.prev}else{if(h=g?a?f:i[f]:void 0,v=g?g[h]:E,v==null)continue;g&&_.push(h)}var $=void 0;if(!Array.isArray(v)){if(!Tb(v))throw new Error("Invalid AST Node: ".concat(D4(v),"."));var F=EF(t,v.kind,A);if(F){if($=F.call(t,v,h,g,_,M),$===MF)break;if($===!1){if(!A){_.pop();continue}}else if($!==void 0&&(l.push([h,$]),!A))if(Tb($))v=$;else{_.pop();continue}}}if($===void 0&&I&&l.push([h,v]),A)_.pop();else{var z;n={inArray:a,index:f,keys:i,edits:l,prev:n},a=Array.isArray(v),i=a?v:(z=r[v.kind])!==null&&z!==void 0?z:[],f=-1,l=[],g&&M.push(g),g=v}}while(n!==void 0);return l.length!==0&&(E=l[l.length-1][1]),E}function EF(e,t,r){var n=e[t];if(n){if(!r&&typeof n=="function")return n;var a=r?n.leave:n.enter;if(typeof a=="function")return a}else{var i=r?e.leave:e.enter;if(i){if(typeof i=="function")return i;var f=i[t];if(typeof f=="function")return f}}}function Td(e){return xF(e,{leave:IF})}var AF=80,IF={Name:function(t){return t.value},Variable:function(t){return"$"+t.name},Document:function(t){return $e(t.definitions,`

`)+`
`},OperationDefinition:function(t){var r=t.operation,n=t.name,a=Zt("(",$e(t.variableDefinitions,", "),")"),i=$e(t.directives," "),f=t.selectionSet;return!n&&!i&&!a&&r==="query"?f:$e([r,$e([n,a]),i,f]," ")},VariableDefinition:function(t){var r=t.variable,n=t.type,a=t.defaultValue,i=t.directives;return r+": "+n+Zt(" = ",a)+Zt(" ",$e(i," "))},SelectionSet:function(t){var r=t.selections;return Cn(r)},Field:function(t){var r=t.alias,n=t.name,a=t.arguments,i=t.directives,f=t.selectionSet,l=Zt("",r,": ")+n,v=l+Zt("(",$e(a,", "),")");return v.length>AF&&(v=l+Zt(`(
`,Bf($e(a,`
`)),`
)`)),$e([v,$e(i," "),f]," ")},Argument:function(t){var r=t.name,n=t.value;return r+": "+n},FragmentSpread:function(t){var r=t.name,n=t.directives;return"..."+r+Zt(" ",$e(n," "))},InlineFragment:function(t){var r=t.typeCondition,n=t.directives,a=t.selectionSet;return $e(["...",Zt("on ",r),$e(n," "),a]," ")},FragmentDefinition:function(t){var r=t.name,n=t.typeCondition,a=t.variableDefinitions,i=t.directives,f=t.selectionSet;return"fragment ".concat(r).concat(Zt("(",$e(a,", "),")")," ")+"on ".concat(n," ").concat(Zt("",$e(i," ")," "))+f},IntValue:function(t){var r=t.value;return r},FloatValue:function(t){var r=t.value;return r},StringValue:function(t,r){var n=t.value,a=t.block;return a?fF(n,r==="description"?"":"  "):JSON.stringify(n)},BooleanValue:function(t){var r=t.value;return r?"true":"false"},NullValue:function(){return"null"},EnumValue:function(t){var r=t.value;return r},ListValue:function(t){var r=t.values;return"["+$e(r,", ")+"]"},ObjectValue:function(t){var r=t.fields;return"{"+$e(r,", ")+"}"},ObjectField:function(t){var r=t.name,n=t.value;return r+": "+n},Directive:function(t){var r=t.name,n=t.arguments;return"@"+r+Zt("(",$e(n,", "),")")},NamedType:function(t){var r=t.name;return r},ListType:function(t){var r=t.type;return"["+r+"]"},NonNullType:function(t){var r=t.type;return r+"!"},SchemaDefinition:Tn(function(e){var t=e.directives,r=e.operationTypes;return $e(["schema",$e(t," "),Cn(r)]," ")}),OperationTypeDefinition:function(t){var r=t.operation,n=t.type;return r+": "+n},ScalarTypeDefinition:Tn(function(e){var t=e.name,r=e.directives;return $e(["scalar",t,$e(r," ")]," ")}),ObjectTypeDefinition:Tn(function(e){var t=e.name,r=e.interfaces,n=e.directives,a=e.fields;return $e(["type",t,Zt("implements ",$e(r," & ")),$e(n," "),Cn(a)]," ")}),FieldDefinition:Tn(function(e){var t=e.name,r=e.arguments,n=e.type,a=e.directives;return t+(Pb(r)?Zt(`(
`,Bf($e(r,`
`)),`
)`):Zt("(",$e(r,", "),")"))+": "+n+Zt(" ",$e(a," "))}),InputValueDefinition:Tn(function(e){var t=e.name,r=e.type,n=e.defaultValue,a=e.directives;return $e([t+": "+r,Zt("= ",n),$e(a," ")]," ")}),InterfaceTypeDefinition:Tn(function(e){var t=e.name,r=e.interfaces,n=e.directives,a=e.fields;return $e(["interface",t,Zt("implements ",$e(r," & ")),$e(n," "),Cn(a)]," ")}),UnionTypeDefinition:Tn(function(e){var t=e.name,r=e.directives,n=e.types;return $e(["union",t,$e(r," "),n&&n.length!==0?"= "+$e(n," | "):""]," ")}),EnumTypeDefinition:Tn(function(e){var t=e.name,r=e.directives,n=e.values;return $e(["enum",t,$e(r," "),Cn(n)]," ")}),EnumValueDefinition:Tn(function(e){var t=e.name,r=e.directives;return $e([t,$e(r," ")]," ")}),InputObjectTypeDefinition:Tn(function(e){var t=e.name,r=e.directives,n=e.fields;return $e(["input",t,$e(r," "),Cn(n)]," ")}),DirectiveDefinition:Tn(function(e){var t=e.name,r=e.arguments,n=e.repeatable,a=e.locations;return"directive @"+t+(Pb(r)?Zt(`(
`,Bf($e(r,`
`)),`
)`):Zt("(",$e(r,", "),")"))+(n?" repeatable":"")+" on "+$e(a," | ")}),SchemaExtension:function(t){var r=t.directives,n=t.operationTypes;return $e(["extend schema",$e(r," "),Cn(n)]," ")},ScalarTypeExtension:function(t){var r=t.name,n=t.directives;return $e(["extend scalar",r,$e(n," ")]," ")},ObjectTypeExtension:function(t){var r=t.name,n=t.interfaces,a=t.directives,i=t.fields;return $e(["extend type",r,Zt("implements ",$e(n," & ")),$e(a," "),Cn(i)]," ")},InterfaceTypeExtension:function(t){var r=t.name,n=t.interfaces,a=t.directives,i=t.fields;return $e(["extend interface",r,Zt("implements ",$e(n," & ")),$e(a," "),Cn(i)]," ")},UnionTypeExtension:function(t){var r=t.name,n=t.directives,a=t.types;return $e(["extend union",r,$e(n," "),a&&a.length!==0?"= "+$e(a," | "):""]," ")},EnumTypeExtension:function(t){var r=t.name,n=t.directives,a=t.values;return $e(["extend enum",r,$e(n," "),Cn(a)]," ")},InputObjectTypeExtension:function(t){var r=t.name,n=t.directives,a=t.fields;return $e(["extend input",r,$e(n," "),Cn(a)]," ")}};function Tn(e){return function(t){return $e([t.description,e(t)],`
`)}}function $e(e){var t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(t=e==null?void 0:e.filter(function(n){return n}).join(r))!==null&&t!==void 0?t:""}function Cn(e){return Zt(`{
`,Bf($e(e,`
`)),`
}`)}function Zt(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return t!=null&&t!==""?e+t+r:""}function Bf(e){return Zt("  ",e.replace(/\n/g,`
  `))}function TF(e){return e.indexOf(`
`)!==-1}function Pb(e){return e!=null&&e.some(TF)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hv=function(e,t){return hv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])},hv(e,t)};function CF(e,t){hv(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var br=function(){return br=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},br.apply(this,arguments)};function Lr(e,t,r,n){function a(i){return i instanceof r?i:new r(function(f){f(i)})}return new(r||(r=Promise))(function(i,f){function l(g){try{h(n.next(g))}catch(_){f(_)}}function v(g){try{h(n.throw(g))}catch(_){f(_)}}function h(g){g.done?i(g.value):a(g.value).then(l,v)}h((n=n.apply(e,t||[])).next())})}function qr(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(h){return function(g){return v([h,g])}}function v(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){r.label=h[1];break}if(h[0]===6&&r.label<i[1]){r.label=i[1],i=h;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(h);break}i[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],a=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function OF(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],f;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){f={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(f)throw f.error}}return i}var PF=new wt("AbstractPubSubProvider"),kF=function(){function e(t){this._config=t}return e.prototype.configure=function(t){return this._config=br(br({},t),this._config),PF.debug("configure "+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return"PubSub"},Object.defineProperty(e.prototype,"options",{get:function(){return br({},this._config)},enumerable:!0,configurable:!0}),e}(),dc={exports:{}},kb=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(kb){var Rb=new Uint8Array(16);dc.exports=function(){return kb(Rb),Rb}}else{var Nb=new Array(16);dc.exports=function(){for(var t=0,r;t<16;t++)(t&3)===0&&(r=Math.random()*4294967296),Nb[t]=r>>>((t&3)<<3)&255;return Nb}}var F4=[];for(var rf=0;rf<256;++rf)F4[rf]=(rf+256).toString(16).substr(1);function RF(e,t){var r=t||0,n=F4;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")}var L4=RF,NF=dc.exports,DF=L4,Db,Cd,Od=0,Pd=0;function BF(e,t,r){var n=t&&r||0,a=t||[];e=e||{};var i=e.node||Db,f=e.clockseq!==void 0?e.clockseq:Cd;if(i==null||f==null){var l=NF();i==null&&(i=Db=[l[0]|1,l[1],l[2],l[3],l[4],l[5]]),f==null&&(f=Cd=(l[6]<<8|l[7])&16383)}var v=e.msecs!==void 0?e.msecs:new Date().getTime(),h=e.nsecs!==void 0?e.nsecs:Pd+1,g=v-Od+(h-Pd)/1e4;if(g<0&&e.clockseq===void 0&&(f=f+1&16383),(g<0||v>Od)&&e.nsecs===void 0&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Od=v,Pd=h,Cd=f,v+=122192928e5;var _=((v&268435455)*1e4+h)%4294967296;a[n++]=_>>>24&255,a[n++]=_>>>16&255,a[n++]=_>>>8&255,a[n++]=_&255;var M=v/4294967296*1e4&268435455;a[n++]=M>>>8&255,a[n++]=M&255,a[n++]=M>>>24&15|16,a[n++]=M>>>16&255,a[n++]=f>>>8|128,a[n++]=f&255;for(var E=0;E<6;++E)a[n+E]=i[E];return t||DF(a)}var UF=BF,FF=dc.exports,LF=L4;function qF(e,t,r){var n=t&&r||0;typeof e=="string"&&(t=e==="binary"?new Array(16):null,e=null),e=e||{};var a=e.random||(e.rng||FF)();if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,t)for(var i=0;i<16;++i)t[n+i]=a[i];return t||LF(a)}var jF=qF,$F=UF,q4=jF,lm=q4;lm.v1=$F;lm.v4=q4;var VF=lm,Tr;(function(e){e.CONNECTION_CLOSED="Connection closed",e.CONNECTION_FAILED="Connection failed",e.REALTIME_SUBSCRIPTION_INIT_ERROR="AppSync Realtime subscription init error",e.SUBSCRIPTION_ACK="Subscription ack",e.TIMEOUT_DISCONNECT="Timeout disconnect"})(Tr||(Tr={}));var ir;(function(e){e.Connected="Connected",e.ConnectedPendingNetwork="ConnectedPendingNetwork",e.ConnectionDisrupted="ConnectionDisrupted",e.ConnectionDisruptedPendingNetwork="ConnectionDisruptedPendingNetwork",e.Connecting="Connecting",e.ConnectedPendingDisconnect="ConnectedPendingDisconnect",e.Disconnected="Disconnected",e.ConnectedPendingKeepAlive="ConnectedPendingKeepAlive"})(ir||(ir={}));var zF=5e3,KF=[400,401,403],j4="ConnectionStateChange",Pn;(function(e){e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_START="start",e.GQL_START_ACK="start_ack",e.GQL_DATA="data",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_STOP="stop",e.GQL_COMPLETE="complete",e.GQL_ERROR="error"})(Pn||(Pn={}));var Yi;(function(e){e[e.PENDING=0]="PENDING",e[e.CONNECTED=1]="CONNECTED",e[e.FAILED=2]="FAILED"})(Yi||(Yi={}));var Zr;(function(e){e[e.CLOSED=0]="CLOSED",e[e.READY=1]="READY",e[e.CONNECTING=2]="CONNECTING"})(Zr||(Zr={}));var HF=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",GF={accept:"application/json, text/javascript","content-encoding":"amz-1.0","content-type":"application/json; charset=UTF-8"},Bb=15e3,WF=15e3,Ub=5*60*1e3,JF=65*1e3,ZF=5*1e3,YF=60*1e3,Fb=function(){return new d2().networkMonitor()},Ir={KEEP_ALIVE_MISSED:{keepAliveState:"unhealthy"},KEEP_ALIVE:{keepAliveState:"healthy"},CONNECTION_ESTABLISHED:{connectionState:"connected"},CONNECTION_FAILED:{intendedConnectionState:"disconnected",connectionState:"disconnected"},CLOSING_CONNECTION:{intendedConnectionState:"disconnected"},OPENING_CONNECTION:{intendedConnectionState:"connected",connectionState:"connecting"},CLOSED:{connectionState:"disconnected"},ONLINE:{networkState:"connected"},OFFLINE:{networkState:"disconnected"}},XF=function(){function e(){var t=this;this._networkMonitoringSubscription=void 0,this._linkedConnectionState={networkState:"connected",connectionState:"disconnected",intendedConnectionState:"disconnected",keepAliveState:"healthy"},this._initialNetworkStateSubscription=Fb().subscribe(function(r){var n=r.online,a;t.record(n?Ir.ONLINE:Ir.OFFLINE),(a=t._initialNetworkStateSubscription)===null||a===void 0||a.unsubscribe()}),this._linkedConnectionStateObservable=new Pr(function(r){r.next(t._linkedConnectionState),t._linkedConnectionStateObserver=r})}return e.prototype.enableNetworkMonitoring=function(){var t=this,r;(r=this._initialNetworkStateSubscription)===null||r===void 0||r.unsubscribe(),this._networkMonitoringSubscription===void 0&&(this._networkMonitoringSubscription=Fb().subscribe(function(n){var a=n.online;t.record(a?Ir.ONLINE:Ir.OFFLINE)}))},e.prototype.disableNetworkMonitoring=function(){var t;(t=this._networkMonitoringSubscription)===null||t===void 0||t.unsubscribe(),this._networkMonitoringSubscription=void 0},Object.defineProperty(e.prototype,"connectionStateObservable",{get:function(){var t=this,r;return this._linkedConnectionStateObservable.map(function(n){return t.connectionStatesTranslator(n)}).filter(function(n){var a=n!==r;return r=n,a})},enumerable:!0,configurable:!0}),e.prototype.record=function(t){t.intendedConnectionState==="connected"?this.enableNetworkMonitoring():t.intendedConnectionState==="disconnected"&&this.disableNetworkMonitoring();var r=br(br({},this._linkedConnectionState),t);this._linkedConnectionState=br({},r),this._linkedConnectionStateObserver.next(this._linkedConnectionState)},e.prototype.connectionStatesTranslator=function(t){var r=t.connectionState,n=t.networkState,a=t.intendedConnectionState,i=t.keepAliveState;return r==="connected"&&n==="disconnected"?ir.ConnectedPendingNetwork:r==="connected"&&a==="disconnected"?ir.ConnectedPendingDisconnect:r==="disconnected"&&a==="connected"&&n==="disconnected"?ir.ConnectionDisruptedPendingNetwork:r==="disconnected"&&a==="connected"?ir.ConnectionDisrupted:r==="connected"&&i==="unhealthy"?ir.ConnectedPendingKeepAlive:r==="connecting"?ir.Connecting:r==="disconnected"?ir.Disconnected:ir.Connected},e}(),ls;(function(e){e.START_RECONNECT="START_RECONNECT",e.HALT_RECONNECT="HALT_RECONNECT"})(ls||(ls={}));var QF=function(){function e(){this.reconnectObservers=[]}return e.prototype.addObserver=function(t){this.reconnectObservers.push(t)},e.prototype.record=function(t){var r=this;t===ls.START_RECONNECT&&this.reconnectSetTimeoutId===void 0&&this.reconnectIntervalId===void 0&&(this.reconnectSetTimeoutId=setTimeout(function(){r._triggerReconnect(),r.reconnectIntervalId=setInterval(function(){r._triggerReconnect()},YF)},ZF)),t===ls.HALT_RECONNECT&&(this.reconnectIntervalId&&(clearInterval(this.reconnectIntervalId),this.reconnectIntervalId=void 0),this.reconnectSetTimeoutId&&(clearTimeout(this.reconnectSetTimeoutId),this.reconnectSetTimeoutId=void 0))},e.prototype.close=function(){this.reconnectObservers.forEach(function(t){var r;(r=t.complete)===null||r===void 0||r.call(t)})},e.prototype._triggerReconnect=function(){this.reconnectObservers.forEach(function(t){var r;(r=t.next)===null||r===void 0||r.call(t)})},e}(),zt=new wt("AWSAppSyncRealTimeProvider"),Lb=function(e,t,r){_r.dispatch("api",{event:e,data:t,message:r},"PubSub",HF)},eL=/^https:\/\/\w{26}\.appsync\-api\.\w{2}(?:(?:\-\w{2,})+)\-\d\.amazonaws.com(?:\.cn)?\/graphql$/i,tL="/realtime",rL=function(e){CF(t,e);function t(r){r===void 0&&(r={});var n=e.call(this,r)||this;return n.socketStatus=Zr.CLOSED,n.keepAliveTimeout=Ub,n.subscriptionObserverMap=new Map,n.promiseArray=[],n.connectionStateMonitor=new XF,n.reconnectionMonitor=new QF,n.connectionStateMonitorSubscription=n.connectionStateMonitor.connectionStateObservable.subscribe(function(a){Lb(j4,{provider:n,connectionState:a},"Connection state is "+a),n.connectionState=a,a===ir.ConnectionDisrupted&&n.reconnectionMonitor.record(ls.START_RECONNECT),[ir.Connected,ir.ConnectedPendingDisconnect,ir.ConnectedPendingKeepAlive,ir.ConnectedPendingNetwork,ir.ConnectedPendingNetwork,ir.ConnectionDisruptedPendingNetwork,ir.Disconnected].includes(a)&&n.reconnectionMonitor.record(ls.HALT_RECONNECT)}),n}return t.prototype.close=function(){this.socketStatus=Zr.CLOSED,this.connectionStateMonitor.record(Ir.CONNECTION_FAILED),this.connectionStateMonitorSubscription.unsubscribe(),this.reconnectionMonitor.close()},t.prototype.getNewWebSocket=function(r,n){return new WebSocket(r,n)},t.prototype.getProviderName=function(){return"AWSAppSyncRealTimeProvider"},t.prototype.newClient=function(){throw new Error("Not used here")},t.prototype.publish=function(r,n,a){return Lr(this,void 0,void 0,function(){return qr(this,function(i){throw new Error("Operation not supported")})})},t.prototype.isCustomDomain=function(r){return r.match(eL)===null},t.prototype.subscribe=function(r,n){var a=this,i=n==null?void 0:n.appSyncGraphqlEndpoint;return new Pr(function(f){if(!n||!i)f.error({errors:[br({},new $o("Subscribe only available for AWS AppSync endpoint"))]}),f.complete();else{var l=!1,v=VF.v4(),h=function(){if(!l){l=!0;var _=a._startSubscriptionWithAWSAppSyncRealTime({options:n,observer:f,subscriptionId:v}).catch(function(M){zt.debug(Tr.REALTIME_SUBSCRIPTION_INIT_ERROR+": "+M),a.connectionStateMonitor.record(Ir.CLOSED)});_.finally(function(){l=!1})}},g;return g=new Pr(function(_){a.reconnectionMonitor.addObserver(_)}).subscribe(function(){h()}),h(),function(){return Lr(a,void 0,void 0,function(){var _,M;return qr(this,function(E){switch(E.label){case 0:g==null||g.unsubscribe(),E.label=1;case 1:return E.trys.push([1,3,4,5]),[4,this._waitForSubscriptionToBeConnected(v)];case 2:if(E.sent(),_=(this.subscriptionObserverMap.get(v)||{}).subscriptionState,!_)return[2];if(_===Yi.CONNECTED)this._sendUnsubscriptionMessage(v);else throw new Error("Subscription never connected");return[3,5];case 3:return M=E.sent(),zt.debug("Error while unsubscribing "+M),[3,5];case 4:return this._removeSubscriptionObserver(v),[7];case 5:return[2]}})})}}})},Object.defineProperty(t.prototype,"isSSLEnabled",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),t.prototype._startSubscriptionWithAWSAppSyncRealTime=function(r){var n=r.options,a=r.observer,i=r.subscriptionId,f;return Lr(this,void 0,void 0,function(){var l,v,h,g,_,M,E,A,I,O,T,P,k,R,D,V,q,$,F,z,b,o,u,c=this;return qr(this,function(d){switch(d.label){case 0:return l=n.appSyncGraphqlEndpoint,v=n.authenticationType,h=n.query,g=n.variables,_=n.apiKey,M=n.region,E=n.graphql_headers,A=E===void 0?function(){return{}}:E,I=n.additionalHeaders,O=I===void 0?{}:I,T=Yi.PENDING,P={query:h,variables:g},this.subscriptionObserverMap.set(i,{observer:a,query:h!=null?h:"",variables:g!=null?g:{},subscriptionState:T,startAckTimeoutId:void 0}),k=JSON.stringify(P),D=[{}],[4,this._awsRealTimeHeaderBasedAuth({apiKey:_,appSyncGraphqlEndpoint:l,authenticationType:v,payload:k,canonicalUri:"",region:M,additionalHeaders:O})];case 1:return V=[br.apply(void 0,D.concat([d.sent()]))],[4,A()];case 2:R=br.apply(void 0,[br.apply(void 0,[br.apply(void 0,V.concat([d.sent()])),O]),(u={},u[sD]=uD.userAgent,u)]),q={id:i,payload:{data:k,extensions:{authorization:br({},R)}},type:Pn.GQL_START},$=JSON.stringify(q),d.label=3;case 3:return d.trys.push([3,5,,6]),this.connectionStateMonitor.record(Ir.OPENING_CONNECTION),[4,this._initializeWebSocketConnection({apiKey:_,appSyncGraphqlEndpoint:l,authenticationType:v,region:M,additionalHeaders:O})];case 4:return d.sent(),[3,6];case 5:return F=d.sent(),this._logStartSubscriptionError(i,a,F),[2];case 6:return z=(f=this.subscriptionObserverMap.get(i))!==null&&f!==void 0?f:{},b=z.subscriptionFailedCallback,o=z.subscriptionReadyCallback,this.subscriptionObserverMap.set(i,{observer:a,subscriptionState:T,query:h!=null?h:"",variables:g!=null?g:{},subscriptionReadyCallback:o,subscriptionFailedCallback:b,startAckTimeoutId:setTimeout(function(){c._timeoutStartSubscriptionAck.call(c,i)},WF)}),this.awsRealTimeSocket&&this.awsRealTimeSocket.send($),[2]}})})},t.prototype._logStartSubscriptionError=function(r,n,a){var i;zt.debug({err:a});var f=String((i=a.message)!==null&&i!==void 0?i:"");if(Promise.resolve(this.connectionStateMonitor.record(Ir.CLOSED)),this.connectionState!==ir.ConnectionDisruptedPendingNetwork){o2(a)?n.error({errors:[br({},new $o(Tr.CONNECTION_FAILED+": "+f))]}):zt.debug(Tr.CONNECTION_FAILED+": "+f);var l=(this.subscriptionObserverMap.get(r)||{}).subscriptionFailedCallback;typeof l=="function"&&l()}},t.prototype._waitForSubscriptionToBeConnected=function(r){return Lr(this,void 0,void 0,function(){var n,a,i=this;return qr(this,function(f){return n=this.subscriptionObserverMap.get(r),n&&(a=n.subscriptionState,a===Yi.PENDING)?[2,new Promise(function(l,v){var h=n.observer,g=n.subscriptionState,_=n.variables,M=n.query;i.subscriptionObserverMap.set(r,{observer:h,subscriptionState:g,variables:_,query:M,subscriptionReadyCallback:l,subscriptionFailedCallback:v})})]:[2]})})},t.prototype._sendUnsubscriptionMessage=function(r){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===Zr.READY){var n={id:r,type:Pn.GQL_STOP},a=JSON.stringify(n);this.awsRealTimeSocket.send(a)}}catch(i){zt.debug({err:i})}},t.prototype._removeSubscriptionObserver=function(r){this.subscriptionObserverMap.delete(r),setTimeout(this._closeSocketIfRequired.bind(this),1e3)},t.prototype._closeSocketIfRequired=function(){if(!(this.subscriptionObserverMap.size>0)){if(!this.awsRealTimeSocket){this.socketStatus=Zr.CLOSED;return}if(this.connectionStateMonitor.record(Ir.CLOSING_CONNECTION),this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{zt.debug("closing WebSocket..."),this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId),this.keepAliveAlertTimeoutId&&clearTimeout(this.keepAliveAlertTimeoutId);var r=this.awsRealTimeSocket;r.onclose=null,r.onerror=null,r.close(1e3),this.awsRealTimeSocket=void 0,this.socketStatus=Zr.CLOSED,this.connectionStateMonitor.record(Ir.CLOSED)}}},t.prototype._handleIncomingSubscriptionMessage=function(r){var n=this;if(typeof r.data=="string"){zt.debug("subscription message from AWS AppSync RealTime: "+r.data);var a=JSON.parse(String(r.data)),i=a.id,f=i===void 0?"":i,l=a.payload,v=a.type,h=this.subscriptionObserverMap.get(f)||{},g=h.observer,_=g===void 0?null:g,M=h.query,E=M===void 0?"":M,A=h.variables,I=A===void 0?{}:A,O=h.startAckTimeoutId,T=h.subscriptionReadyCallback,P=h.subscriptionFailedCallback;if(zt.debug({id:f,observer:_,query:E,variables:I}),v===Pn.GQL_DATA&&l&&l.data){_?_.next(l):zt.debug("observer not found for id: "+f);return}if(v===Pn.GQL_START_ACK){zt.debug("subscription ready for "+JSON.stringify({query:E,variables:I})),typeof T=="function"&&T(),O&&clearTimeout(O),Lb(Tr.SUBSCRIPTION_ACK,{query:E,variables:I},"Connection established for subscription");var k=Yi.CONNECTED;_&&this.subscriptionObserverMap.set(f,{observer:_,query:E,variables:I,startAckTimeoutId:void 0,subscriptionState:k,subscriptionReadyCallback:T,subscriptionFailedCallback:P}),this.connectionStateMonitor.record(Ir.CONNECTION_ESTABLISHED);return}if(v===Pn.GQL_CONNECTION_KEEP_ALIVE){this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId),this.keepAliveAlertTimeoutId&&clearTimeout(this.keepAliveAlertTimeoutId),this.keepAliveTimeoutId=setTimeout(function(){return n._errorDisconnect(Tr.TIMEOUT_DISCONNECT)},this.keepAliveTimeout),this.keepAliveAlertTimeoutId=setTimeout(function(){n.connectionStateMonitor.record(Ir.KEEP_ALIVE_MISSED)},JF),this.connectionStateMonitor.record(Ir.KEEP_ALIVE);return}if(v===Pn.GQL_ERROR){var k=Yi.FAILED;_&&(this.subscriptionObserverMap.set(f,{observer:_,query:E,variables:I,startAckTimeoutId:O,subscriptionReadyCallback:T,subscriptionFailedCallback:P,subscriptionState:k}),zt.debug(Tr.CONNECTION_FAILED+": "+JSON.stringify(l)),_.error({errors:[br({},new $o(Tr.CONNECTION_FAILED+": "+JSON.stringify(l)))]}),O&&clearTimeout(O),typeof P=="function"&&P())}}},t.prototype._errorDisconnect=function(r){zt.debug("Disconnect error: "+r),this.awsRealTimeSocket&&(this.connectionStateMonitor.record(Ir.CLOSED),this.awsRealTimeSocket.close()),this.socketStatus=Zr.CLOSED},t.prototype._timeoutStartSubscriptionAck=function(r){var n=this.subscriptionObserverMap.get(r);if(n){var a=n.observer,i=n.query,f=n.variables;if(!a)return;this.subscriptionObserverMap.set(r,{observer:a,query:i,variables:f,subscriptionState:Yi.FAILED}),this.connectionStateMonitor.record(Ir.CLOSED),zt.debug("timeoutStartSubscription",JSON.stringify({query:i,variables:f}))}},t.prototype._initializeWebSocketConnection=function(r){var n=this,a=r.appSyncGraphqlEndpoint,i=r.authenticationType,f=r.apiKey,l=r.region,v=r.additionalHeaders;if(this.socketStatus!==Zr.READY)return new Promise(function(h,g){return Lr(n,void 0,void 0,function(){var _,M,E,A,I,O,T,P,k;return qr(this,function(R){switch(R.label){case 0:if(this.promiseArray.push({res:h,rej:g}),this.socketStatus!==Zr.CLOSED)return[3,5];R.label=1;case 1:return R.trys.push([1,4,,5]),this.socketStatus=Zr.CONNECTING,_="{}",[4,this._awsRealTimeHeaderBasedAuth({authenticationType:i,payload:_,canonicalUri:"/connect",apiKey:f,appSyncGraphqlEndpoint:a,region:l,additionalHeaders:v})];case 2:return M=R.sent(),E=M?JSON.stringify(M):"",A=Ue.Buffer.from(E).toString("base64"),I=Ue.Buffer.from(_).toString("base64"),O=a!=null?a:"",this.isCustomDomain(O)?O=O.concat(tL):O=O.replace("appsync-api","appsync-realtime-api").replace("gogi-beta","grt-beta"),T=this.isSSLEnabled?"wss://":"ws://",O=O.replace("https://",T).replace("http://",T),P=O+"?header="+A+"&payload="+I,[4,this._initializeRetryableHandshake(P)];case 3:return R.sent(),this.promiseArray.forEach(function(D){var V=D.res;zt.debug("Notifying connection successful"),V()}),this.socketStatus=Zr.READY,this.promiseArray=[],[3,5];case 4:return k=R.sent(),zt.debug("Connection exited with",k),this.promiseArray.forEach(function(D){var V=D.rej;return V(k)}),this.promiseArray=[],this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.awsRealTimeSocket.close(3001),this.awsRealTimeSocket=void 0,this.socketStatus=Zr.CLOSED,[3,5];case 5:return[2]}})})})},t.prototype._initializeRetryableHandshake=function(r){return Lr(this,void 0,void 0,function(){return qr(this,function(n){switch(n.label){case 0:return zt.debug("Initializaling retryable Handshake"),[4,Jv(this._initializeHandshake.bind(this),[r],zF)];case 1:return n.sent(),[2]}})})},t.prototype._initializeHandshake=function(r){return Lr(this,void 0,void 0,function(){var n,a,i,f,l=this;return qr(this,function(v){switch(v.label){case 0:zt.debug("Initializing handshake "+r),v.label=1;case 1:return v.trys.push([1,4,,5]),[4,function(){return new Promise(function(h,g){var _=l.getNewWebSocket(r,"graphql-ws");_.onerror=function(){zt.debug("WebSocket connection error")},_.onclose=function(){g(new Error("Connection handshake error"))},_.onopen=function(){return l.awsRealTimeSocket=_,h()}})}()];case 2:return v.sent(),[4,function(){return new Promise(function(h,g){if(l.awsRealTimeSocket){var _=!1;l.awsRealTimeSocket.onerror=function(A){zt.debug("WebSocket error "+JSON.stringify(A))},l.awsRealTimeSocket.onclose=function(A){zt.debug("WebSocket closed "+A.reason),g(new Error(JSON.stringify(A)))},l.awsRealTimeSocket.onmessage=function(A){if(typeof A.data=="string"){zt.debug("subscription message from AWS AppSyncRealTime: "+A.data+" ");var I=JSON.parse(A.data),O=I.type,T=I.payload,P=(T===void 0?{}:T).connectionTimeoutMs,k=P===void 0?Ub:P;if(O===Pn.GQL_CONNECTION_ACK){_=!0,l.awsRealTimeSocket&&(l.keepAliveTimeout=k,l.awsRealTimeSocket.onmessage=l._handleIncomingSubscriptionMessage.bind(l),l.awsRealTimeSocket.onerror=function(u){zt.debug(u),l._errorDisconnect(Tr.CONNECTION_CLOSED)},l.awsRealTimeSocket.onclose=function(u){zt.debug("WebSocket closed "+u.reason),l._errorDisconnect(Tr.CONNECTION_CLOSED)}),h("Cool, connected to AWS AppSyncRealTime");return}if(O===Pn.GQL_CONNECTION_ERROR){var R=I.payload,D=(R===void 0?{}:R).errors,V=OF(D===void 0?[]:D,1),q=V[0],$=q===void 0?{}:q,F=$.errorType,z=F===void 0?"":F,b=$.errorCode,o=b===void 0?0:b;g({errorType:z,errorCode:o})}}};var M={type:Pn.GQL_CONNECTION_INIT};l.awsRealTimeSocket.send(JSON.stringify(M));var E=function(A){A||(l.connectionStateMonitor.record(Ir.CONNECTION_FAILED),g(new Error("Connection timeout: ack from AWSAppSyncRealTime was not received after "+Bb+" ms")))};setTimeout(function(){return E(_)},Bb)}})}()];case 3:return v.sent(),[3,5];case 4:throw n=v.sent(),a=n,i=a.errorType,f=a.errorCode,KF.includes(f)?new zr(i):i?new Error(i):n;case 5:return[2]}})})},t.prototype._awsRealTimeHeaderBasedAuth=function(r){var n=r.authenticationType,a=r.payload,i=r.canonicalUri,f=r.appSyncGraphqlEndpoint,l=r.apiKey,v=r.region,h=r.additionalHeaders;return Lr(this,void 0,void 0,function(){var g,_,M,E;return qr(this,function(A){switch(A.label){case 0:return g={API_KEY:this._awsRealTimeApiKeyHeader.bind(this),AWS_IAM:this._awsRealTimeIAMHeader.bind(this),OPENID_CONNECT:this._awsRealTimeOPENIDHeader.bind(this),AMAZON_COGNITO_USER_POOLS:this._awsRealTimeCUPHeader.bind(this),AWS_LAMBDA:this._customAuthHeader},!n||!g[n]?(zt.debug("Authentication type "+n+" not supported"),[2,void 0]):[3,1];case 1:return _=g[n],M=Xt.exports.parse(f!=null?f:"").host,zt.debug("Authenticating with "+n),[4,_({payload:a,canonicalUri:i,appSyncGraphqlEndpoint:f,apiKey:l,region:v,host:M,additionalHeaders:h})];case 2:return E=A.sent(),[2,E]}})})},t.prototype._awsRealTimeCUPHeader=function(r){var n=r.host;return Lr(this,void 0,void 0,function(){var a;return qr(this,function(i){switch(i.label){case 0:return[4,Li.currentSession()];case 1:return a=i.sent(),[2,{Authorization:a.getAccessToken().getJwtToken(),host:n}]}})})},t.prototype._awsRealTimeOPENIDHeader=function(r){var n=r.host;return Lr(this,void 0,void 0,function(){var a,i,f;return qr(this,function(l){switch(l.label){case 0:return[4,Ja.getItem("federatedInfo")];case 1:return i=l.sent(),i?(a=i.token,[3,4]):[3,2];case 2:return[4,Li.currentAuthenticatedUser()];case 3:f=l.sent(),f&&(a=f.token),l.label=4;case 4:if(!a)throw new Error("No federated jwt");return[2,{Authorization:a,host:n}]}})})},t.prototype._awsRealTimeApiKeyHeader=function(r){var n=r.apiKey,a=r.host;return Lr(this,void 0,void 0,function(){var i,f;return qr(this,function(l){return i=new Date,f=i.toISOString().replace(/[:\-]|\.\d{3}/g,""),[2,{host:a,"x-amz-date":f,"x-api-key":n}]})})},t.prototype._awsRealTimeIAMHeader=function(r){var n=r.payload,a=r.canonicalUri,i=r.appSyncGraphqlEndpoint,f=r.region;return Lr(this,void 0,void 0,function(){var l,v,h,g,_;return qr(this,function(M){switch(M.label){case 0:return l={region:f,service:"appsync"},[4,this._ensureCredentials()];case 1:if(v=M.sent(),!v)throw new Error("No credentials");return[4,ki.get().then(function(E){var A=E,I=A.secretAccessKey,O=A.accessKeyId,T=A.sessionToken;return{secret_key:I,access_key:O,session_token:T}})];case 2:return h=M.sent(),g={url:""+i+a,data:n,method:"POST",headers:br({},GF)},_=y2.sign(g,h,l),[2,_.headers]}})})},t.prototype._customAuthHeader=function(r){var n=r.host,a=r.additionalHeaders;if(!a||!a.Authorization)throw new Error("No auth token specified");return{Authorization:a.Authorization,host:n}},t.prototype._ensureCredentials=function(){return ki.get().then(function(r){if(!r)return!1;var n=ki.shear(r);return zt.debug("set credentials for AWSAppSyncRealTimeProvider",n),!0}).catch(function(r){return zt.warn("ensure credentials error",r),!1})},t}(kF),nL=Kr().isNode,kd=new wt("PubSub"),iL=function(){function e(t){this._options=t!=null?t:{},kd.debug("PubSub Options",this._options),this._pluggables=[],this.subscribe=this.subscribe.bind(this)}return Object.defineProperty(e.prototype,"awsAppSyncRealTimeProvider",{get:function(){return this._awsAppSyncRealTimeProvider||(this._awsAppSyncRealTimeProvider=new rL(this._options)),this._awsAppSyncRealTimeProvider},enumerable:!0,configurable:!0}),e.prototype.getModuleName=function(){return"PubSub"},e.prototype.configure=function(t){var r=this,n=t?t.PubSub||t:{};return kd.debug("configure PubSub",{opt:n}),this._options=Object.assign({},this._options,n),this._pluggables.map(function(a){return a.configure(r._options)}),this._options},e.prototype.addPluggable=function(t){return Lr(this,void 0,void 0,function(){var r;return qr(this,function(n){return t&&t.getCategory()==="PubSub"?(this._pluggables.push(t),r=t.configure(this._options),[2,r]):[2]})})},e.prototype.removePluggable=function(t){this._pluggables=this._pluggables.filter(function(r){return r.getProviderName()!==t})},e.prototype.getProviderByName=function(t){return t===n4?this.awsAppSyncRealTimeProvider:this._pluggables.find(function(r){return r.getProviderName()===t})},e.prototype.getProviders=function(t){t===void 0&&(t={});var r=t.provider;if(!r)return this._pluggables;var n=this.getProviderByName(r);if(!n)throw new Error("Could not find provider named "+String(r));return[n]},e.prototype.publish=function(t,r,n){return Lr(this,void 0,void 0,function(){return qr(this,function(a){return[2,Promise.all(this.getProviders(n).map(function(i){return i.publish(t,r,n)}))]})})},e.prototype.subscribe=function(t,r){if(nL&&this._options&&this._options.ssr)throw new Error("Subscriptions are not supported for Server-Side Rendering (SSR)");kd.debug("subscribe options",r);var n=this.getProviders(r);return new Pr(function(a){var i=n.map(function(l){return{provider:l,observable:l.subscribe(t,r)}}),f=i.map(function(l){var v=l.provider,h=l.observable;return h.subscribe({start:console.error,next:function(g){return a.next({provider:v,value:g})},error:function(g){return a.error({provider:v,error:g})}})});return function(){return f.forEach(function(l){return l.unsubscribe()})}})},e}(),Uf=new iL;ci.register(Uf);var Ei;(function(e){e.NO_API_KEY="No api-key configured",e.NO_CURRENT_USER="No current user",e.NO_CREDENTIALS="No credentials",e.NO_FEDERATED_JWT="No federated jwt",e.NO_AUTH_TOKEN="No auth token specified"})(Ei||(Ei={}));var aL="x-amz-user-agent",wa=new wt("GraphQLAPI"),$4=function(){function e(t){this._api=null,this.Auth=Li,this.Cache=Ja,this.Credentials=ki,this._options=t,wa.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"GraphQLAPI"},e.prototype.configure=function(t){var r=t||{},n=r.API,a=n===void 0?{}:n,i=UU(r,["API"]),f=Mi(Mi({},i),a);return wa.debug("configure GraphQL API",{opt:f}),f.aws_project_region&&(f=Object.assign({},f,{region:f.aws_project_region,header:{}})),typeof f.graphql_headers<"u"&&typeof f.graphql_headers!="function"&&(wa.warn("graphql_headers should be a function"),f.graphql_headers=void 0),this._options=Object.assign({},this._options,f),this.createInstance(),this._options},e.prototype.createInstance=function(){return wa.debug("create Rest instance"),this._options?(this._api=new A4(this._options),this._api.Credentials=this.Credentials,!0):Promise.reject("API not configured")},e.prototype._headerBasedAuth=function(t,r){return r===void 0&&(r={}),Sd(this,void 0,void 0,function(){var n,a,i,f,l,v,h,g,_,M,E;return Md(this,function(A){switch(A.label){case 0:switch(n=this._options,a=n.aws_appsync_authenticationType,i=n.aws_appsync_apiKey,f=t||a||"AWS_IAM",l={},v=f,v){case"API_KEY":return[3,1];case"AWS_IAM":return[3,2];case"OPENID_CONNECT":return[3,4];case"AMAZON_COGNITO_USER_POOLS":return[3,11];case"AWS_LAMBDA":return[3,15]}return[3,16];case 1:if(!i)throw new Error(Ei.NO_API_KEY);return l={Authorization:null,"X-Api-Key":i},[3,17];case 2:return[4,this._ensureCredentials()];case 3:if(h=A.sent(),!h)throw new Error(Ei.NO_CREDENTIALS);return[3,17];case 4:return A.trys.push([4,9,,10]),g=void 0,[4,Ja.getItem("federatedInfo")];case 5:return _=A.sent(),_?(g=_.token,[3,8]):[3,6];case 6:return[4,Li.currentAuthenticatedUser()];case 7:M=A.sent(),M&&(g=M.token),A.label=8;case 8:if(!g)throw new Error(Ei.NO_FEDERATED_JWT);return l={Authorization:g},[3,10];case 9:throw A.sent(),new Error(Ei.NO_CURRENT_USER);case 10:return[3,17];case 11:return A.trys.push([11,13,,14]),[4,this.Auth.currentSession()];case 12:return E=A.sent(),l={Authorization:E.getAccessToken().getJwtToken()},[3,14];case 13:throw A.sent(),new Error(Ei.NO_CURRENT_USER);case 14:return[3,17];case 15:if(!r.Authorization)throw new Error(Ei.NO_AUTH_TOKEN);return l={Authorization:r.Authorization},[3,17];case 16:return l={Authorization:null},[3,17];case 17:return[2,l]}})})},e.prototype.getGraphqlOperationType=function(t){var r=Ad(t),n=r.definitions,a=Mb(n,1),i=a[0].operation;return i},e.prototype.graphql=function(t,r){var n=t.query,a=t.variables,i=a===void 0?{}:a,f=t.authMode,l=t.authToken,v=t.userAgentSuffix,h=Ad(typeof n=="string"?n:Td(n)),g=Mb(h.definitions.filter(function(P){return P.kind==="OperationDefinition"}),1),_=g[0],M=_===void 0?{}:_,E=M.operation,A=r||{};switch(l&&(A.Authorization=l),E){case"query":case"mutation":this.createInstanceIfNotCreated();var I=this._api.getCancellableToken(),O={cancellableToken:I,withCredentials:this._options.withCredentials},T=this._graphql({query:h,variables:i,authMode:f,userAgentSuffix:v},A,O);return this._api.updateRequestToBeCancellable(T,I),T;case"subscription":return this._graphqlSubscribe({query:h,variables:i,authMode:f},A);default:throw new Error("invalid operation type: "+E)}},e.prototype._graphql=function(t,r,n){var a=t.query,i=t.variables,f=t.authMode,l=t.userAgentSuffix;return r===void 0&&(r={}),n===void 0&&(n={}),Sd(this,void 0,void 0,function(){var v,h,g,_,M,E,A,I,O,T,P,k,R,D,V,q,$,F,z,b,o,u;return Md(this,function(c){switch(c.label){case 0:return this.createInstanceIfNotCreated(),v=this._options,h=v.aws_appsync_region,g=v.aws_appsync_graphqlEndpoint,_=v.graphql_headers,M=_===void 0?function(){return{}}:_,E=v.graphql_endpoint,A=v.graphql_endpoint_iam_region,O=[{}],T=!E,T?[4,this._headerBasedAuth(f,r)]:[3,2];case 1:T=c.sent(),c.label=2;case 2:return P=[Mi.apply(void 0,O.concat([T]))],k=E,k?A?[4,this._headerBasedAuth(f,r)]:[3,4]:[3,6];case 3:return R=c.sent(),[3,5];case 4:R={Authorization:null},c.label=5;case 5:k=R,c.label=6;case 6:return D=[Mi.apply(void 0,P.concat([k]))],[4,M({query:a,variables:i})];case 7:if(I=Mi.apply(void 0,[Mi.apply(void 0,[Mi.apply(void 0,D.concat([c.sent()])),r]),!E&&(u={},u[aL]=r2(l),u)]),V={query:Td(a),variables:i},q=Object.assign({headers:I,body:V,signerServiceInfo:{service:E?"execute-api":"appsync",region:E?A:h}},n),$=E||g,!$)throw F=new $o("No graphql endpoint provided."),{data:{},errors:[F]};c.label=8;case 8:return c.trys.push([8,10,,11]),[4,this._api.post($,q)];case 9:return z=c.sent(),[3,11];case 10:if(b=c.sent(),this._api.isCancel(b))throw b;return z={data:{},errors:[new $o(b.message,null,null,null,null,b)]},[3,11];case 11:if(o=z.errors,o&&o.length)throw z;return[2,z]}})})},e.prototype.createInstanceIfNotCreated=function(){return Sd(this,void 0,void 0,function(){return Md(this,function(t){switch(t.label){case 0:return this._api?[3,2]:[4,this.createInstance()];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.isCancel=function(t){return this._api.isCancel(t)},e.prototype.cancel=function(t,r){return this._api.cancel(t,r)},e.prototype.hasCancelToken=function(t){return this._api.hasCancelToken(t)},e.prototype._graphqlSubscribe=function(t,r){var n=t.query,a=t.variables,i=t.authMode,f=t.authToken;r===void 0&&(r={});var l=this._options,v=l.aws_appsync_region,h=l.aws_appsync_graphqlEndpoint,g=l.aws_appsync_authenticationType,_=l.aws_appsync_apiKey,M=l.graphql_headers,E=M===void 0?function(){return{}}:M,A=i||g||"AWS_IAM";if(Uf&&typeof Uf.subscribe=="function")return Uf.subscribe("",{provider:n4,appSyncGraphqlEndpoint:h,authenticationType:A,apiKey:_,query:Td(n),region:v,variables:a,graphql_headers:E,additionalHeaders:r,authToken:f});throw wa.debug("No pubsub module applied for subscription"),new Error("No pubsub module applied for subscription")},e.prototype._ensureCredentials=function(){var t=this;return this.Credentials.get().then(function(r){if(!r)return!1;var n=t.Credentials.shear(r);return wa.debug("set credentials for api",n),!0}).catch(function(r){return wa.warn("ensure credentials error",r),!1})},e}(),oL=new $4(null);ci.register(oL);var sL=new wt("API"),uL=function(){function e(t){this.Auth=Li,this.Cache=Ja,this.Credentials=ki,this._options=t,this._restApi=new I4(t),this._graphqlApi=new $4(t),sL.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"API"},e.prototype.configure=function(t){this._options=Object.assign({},this._options,t),this._restApi.Credentials=this.Credentials,this._graphqlApi.Auth=this.Auth,this._graphqlApi.Cache=this.Cache,this._graphqlApi.Credentials=this.Credentials;var r=this._restApi.configure(this._options),n=this._graphqlApi.configure(this._options);return hc(hc({},r),n)},e.prototype.get=function(t,r,n){return this._restApi.get(t,r,n)},e.prototype.post=function(t,r,n){return this._restApi.post(t,r,n)},e.prototype.put=function(t,r,n){return this._restApi.put(t,r,n)},e.prototype.patch=function(t,r,n){return this._restApi.patch(t,r,n)},e.prototype.del=function(t,r,n){return this._restApi.del(t,r,n)},e.prototype.head=function(t,r,n){return this._restApi.head(t,r,n)},e.prototype.isCancel=function(t){return this._restApi.isCancel(t)},e.prototype.cancel=function(t,r){return this._restApi.hasCancelToken(t)?this._restApi.cancel(t,r):this._graphqlApi.hasCancelToken(t)?this._graphqlApi.cancel(t,r):!1},e.prototype.endpoint=function(t){return zB(this,void 0,void 0,function(){return KB(this,function(r){return[2,this._restApi.endpoint(t)]})})},e.prototype.getGraphqlOperationType=function(t){return this._graphqlApi.getGraphqlOperationType(t)},e.prototype.graphql=function(t,r){return this._graphqlApi.graphql(t,r)},e}(),Nu=new uL(null);ci.register(Nu);function Or(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(a){return"'"+a+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ya(e){return!!e&&!!e[rn]}function sa(e){return!!e&&(function(t){if(!t||typeof t!="object")return!1;var r=Object.getPrototypeOf(t);if(r===null)return!0;var n=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return n===Object||typeof n=="function"&&Function.toString.call(n)===yL}(e)||Array.isArray(e)||!!e[qa]||!!e.constructor[qa]||ql(e)||jl(e))}function hs(e,t,r){r===void 0&&(r=!1),ua(e)===0?(r?Object.keys:ym)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,a){return t(a,n,e)})}function ua(e){var t=e[rn];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:ql(e)?2:jl(e)?3:0}function lu(e,t){return ua(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Ff(e,t){return ua(e)===2?e.get(t):e[t]}function V4(e,t,r){var n=ua(e);n===2?e.set(t,r):n===3?(e.delete(t),e.add(r)):e[t]=r}function fL(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function ql(e){return pL&&e instanceof Map}function jl(e){return mL&&e instanceof Set}function Sa(e){return e.o||e.t}function hm(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=gL(e);delete t[rn];for(var r=ym(t),n=0;n<r.length;n++){var a=r[n],i=t[a];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),t)}function dm(e,t){return t===void 0&&(t=!1),vm(e)||Ya(e)||!sa(e)||(ua(e)>1&&(e.set=e.add=e.clear=e.delete=cL),Object.freeze(e),t&&hs(e,function(r,n){return dm(n,!0)},!0)),e}function cL(){Or(2)}function vm(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Ri(e){var t=mv[e];return t||Or(18,e),t}function lL(e,t){mv[e]||(mv[e]=t)}function qb(){return hu}function Rd(e,t){t&&(Ri("Patches"),e.u=[],e.s=[],e.v=t)}function vc(e){dv(e),e.p.forEach(hL),e.p=null}function dv(e){e===hu&&(hu=e.l)}function jb(e){return hu={p:[],l:hu,h:e,m:!0,_:0}}function hL(e){var t=e[rn];t.i===0||t.i===1?t.j():t.O=!0}function Nd(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.g||Ri("ES5").S(t,e,n),n?(r[rn].P&&(vc(t),Or(4)),sa(e)&&(e=pc(t,e),t.l||mc(t,e)),t.u&&Ri("Patches").M(r[rn],e,t.u,t.s)):e=pc(t,r,[]),vc(t),t.u&&t.v(t.u,t.s),e!==mm?e:void 0}function pc(e,t,r){if(vm(t))return t;var n=t[rn];if(!n)return hs(t,function(i,f){return $b(e,n,t,i,f,r)},!0),t;if(n.A!==e)return t;if(!n.P)return mc(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var a=n.i===4||n.i===5?n.o=hm(n.k):n.o;hs(n.i===3?new Set(a):a,function(i,f){return $b(e,n,a,i,f,r)}),mc(e,a,!1),r&&e.u&&Ri("Patches").R(n,r,e.u,e.s)}return n.o}function $b(e,t,r,n,a,i){if(Ya(a)){var f=pc(e,a,i&&t&&t.i!==3&&!lu(t.D,n)?i.concat(n):void 0);if(V4(r,n,f),!Ya(f))return;e.m=!1}if(sa(a)&&!vm(a)){if(!e.h.F&&e._<1)return;pc(e,a),t&&t.A.l||mc(e,a)}}function mc(e,t,r){r===void 0&&(r=!1),e.h.F&&e.m&&dm(t,r)}function Dd(e,t){var r=e[rn];return(r?Sa(r):e)[t]}function Vb(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function vv(e){e.P||(e.P=!0,e.l&&vv(e.l))}function Bd(e){e.o||(e.o=hm(e.t))}function pv(e,t,r){var n=ql(t)?Ri("MapSet").N(t,r):jl(t)?Ri("MapSet").T(t,r):e.g?function(a,i){var f=Array.isArray(a),l={i:f?1:0,A:i?i.A:qb(),P:!1,I:!1,D:{},l:i,t:a,k:null,o:null,j:null,C:!1},v=l,h=Lf;f&&(v=[l],h=qf);var g=Proxy.revocable(v,h),_=g.revoke,M=g.proxy;return l.k=M,l.j=_,M}(t,r):Ri("ES5").J(t,r);return(r?r.A:qb()).p.push(n),n}function dL(e){return Ya(e)||Or(22,e),function t(r){if(!sa(r))return r;var n,a=r[rn],i=ua(r);if(a){if(!a.P&&(a.i<4||!Ri("ES5").K(a)))return a.t;a.I=!0,n=zb(r,i),a.I=!1}else n=zb(r,i);return hs(n,function(f,l){a&&Ff(a.t,f)===l||V4(n,f,t(l))}),i===3?new Set(n):n}(e)}function zb(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return hm(e)}function vL(){function e(n){if(!sa(n))return n;if(Array.isArray(n))return n.map(e);if(ql(n))return new Map(Array.from(n.entries()).map(function(f){return[f[0],e(f[1])]}));if(jl(n))return new Set(Array.from(n).map(e));var a=Object.create(Object.getPrototypeOf(n));for(var i in n)a[i]=e(n[i]);return lu(n,qa)&&(a[qa]=n[qa]),a}function t(n){return Ya(n)?e(n):n}var r="add";lL("Patches",{$:function(n,a){return a.forEach(function(i){for(var f=i.path,l=i.op,v=n,h=0;h<f.length-1;h++){var g=ua(v),_=""+f[h];g!==0&&g!==1||_!=="__proto__"&&_!=="constructor"||Or(24),typeof v=="function"&&_==="prototype"&&Or(24),typeof(v=Ff(v,_))!="object"&&Or(15,f.join("/"))}var M=ua(v),E=e(i.value),A=f[f.length-1];switch(l){case"replace":switch(M){case 2:return v.set(A,E);case 3:Or(16);default:return v[A]=E}case r:switch(M){case 1:return v.splice(A,0,E);case 2:return v.set(A,E);case 3:return v.add(E);default:return v[A]=E}case"remove":switch(M){case 1:return v.splice(A,1);case 2:return v.delete(A);case 3:return v.delete(i.value);default:return delete v[A]}default:Or(17,l)}}),n},R:function(n,a,i,f){switch(n.i){case 0:case 4:case 2:return function(l,v,h,g){var _=l.t,M=l.o;hs(l.D,function(E,A){var I=Ff(_,E),O=Ff(M,E),T=A?lu(_,E)?"replace":r:"remove";if(I!==O||T!=="replace"){var P=v.concat(E);h.push(T==="remove"?{op:T,path:P}:{op:T,path:P,value:O}),g.push(T===r?{op:"remove",path:P}:T==="remove"?{op:r,path:P,value:t(I)}:{op:"replace",path:P,value:t(I)})}})}(n,a,i,f);case 5:case 1:return function(l,v,h,g){var _=l.t,M=l.D,E=l.o;if(E.length<_.length){var A=[E,_];_=A[0],E=A[1];var I=[g,h];h=I[0],g=I[1]}for(var O=0;O<_.length;O++)if(M[O]&&E[O]!==_[O]){var T=v.concat([O]);h.push({op:"replace",path:T,value:t(E[O])}),g.push({op:"replace",path:T,value:t(_[O])})}for(var P=_.length;P<E.length;P++){var k=v.concat([P]);h.push({op:r,path:k,value:t(E[P])})}_.length<E.length&&g.push({op:"replace",path:v.concat(["length"]),value:_.length})}(n,a,i,f);case 3:return function(l,v,h,g){var _=l.t,M=l.o,E=0;_.forEach(function(A){if(!M.has(A)){var I=v.concat([E]);h.push({op:"remove",path:I,value:A}),g.unshift({op:r,path:I,value:A})}E++}),E=0,M.forEach(function(A){if(!_.has(A)){var I=v.concat([E]);h.push({op:r,path:I,value:A}),g.unshift({op:"remove",path:I,value:A})}E++})}(n,a,i,f)}},M:function(n,a,i,f){i.push({op:"replace",path:[],value:a===mm?void 0:a}),f.push({op:"replace",path:[],value:n.t})}})}var Kb,hu,pm=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",pL=typeof Map<"u",mL=typeof Set<"u",Hb=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",mm=pm?Symbol.for("immer-nothing"):((Kb={})["immer-nothing"]=!0,Kb),qa=pm?Symbol.for("immer-draftable"):"__$immer_draftable",rn=pm?Symbol.for("immer-state"):"__$immer_state",yL=""+Object.prototype.constructor,ym=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,gL=Object.getOwnPropertyDescriptors||function(e){var t={};return ym(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},mv={},Lf={get:function(e,t){if(t===rn)return e;var r=Sa(e);if(!lu(r,t))return function(a,i,f){var l,v=Vb(i,f);return v?"value"in v?v.value:(l=v.get)===null||l===void 0?void 0:l.call(a.k):void 0}(e,r,t);var n=r[t];return e.I||!sa(n)?n:n===Dd(e.t,t)?(Bd(e),e.o[t]=pv(e.A.h,n,e)):n},has:function(e,t){return t in Sa(e)},ownKeys:function(e){return Reflect.ownKeys(Sa(e))},set:function(e,t,r){var n=Vb(Sa(e),t);if(n!=null&&n.set)return n.set.call(e.k,r),!0;if(!e.P){var a=Dd(Sa(e),t),i=a==null?void 0:a[rn];if(i&&i.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(fL(r,a)&&(r!==void 0||lu(e.t,t)))return!0;Bd(e),vv(e)}return e.o[t]===r&&typeof r!="number"&&(r!==void 0||t in e.o)||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return Dd(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,Bd(e),vv(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=Sa(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){Or(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Or(12)}},qf={};hs(Lf,function(e,t){qf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),qf.deleteProperty=function(e,t){return Lf.deleteProperty.call(this,e[0],t)},qf.set=function(e,t,r){return Lf.set.call(this,e[0],t,r,e[0])};var bL=function(){function e(r){var n=this;this.g=Hb,this.F=!0,this.produce=function(a,i,f){if(typeof a=="function"&&typeof i!="function"){var l=i;i=a;var v=n;return function(E){var A=this;E===void 0&&(E=l);for(var I=arguments.length,O=Array(I>1?I-1:0),T=1;T<I;T++)O[T-1]=arguments[T];return v.produce(E,function(P){var k;return(k=i).call.apply(k,[A,P].concat(O))})}}var h;if(typeof i!="function"&&Or(6),f!==void 0&&typeof f!="function"&&Or(7),sa(a)){var g=jb(n),_=pv(n,a,void 0),M=!0;try{h=i(_),M=!1}finally{M?vc(g):dv(g)}return typeof Promise<"u"&&h instanceof Promise?h.then(function(E){return Rd(g,f),Nd(E,g)},function(E){throw vc(g),E}):(Rd(g,f),Nd(h,g))}if(!a||typeof a!="object")return(h=i(a))===mm?void 0:(h===void 0&&(h=a),n.F&&dm(h,!0),h);Or(21,a)},this.produceWithPatches=function(a,i){return typeof a=="function"?function(v){for(var h=arguments.length,g=Array(h>1?h-1:0),_=1;_<h;_++)g[_-1]=arguments[_];return n.produceWithPatches(v,function(M){return a.apply(void 0,[M].concat(g))})}:[n.produce(a,i,function(v,h){f=v,l=h}),f,l];var f,l},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){sa(r)||Or(8),Ya(r)&&(r=dL(r));var n=jb(this),a=pv(this,r,void 0);return a[rn].C=!0,dv(n),a},t.finishDraft=function(r,n){var a=r&&r[rn],i=a.A;return Rd(i,n),Nd(void 0,i)},t.setAutoFreeze=function(r){this.F=r},t.setUseProxies=function(r){r&&!Hb&&Or(20),this.g=r},t.applyPatches=function(r,n){var a;for(a=n.length-1;a>=0;a--){var i=n[a];if(i.path.length===0&&i.op==="replace"){r=i.value;break}}var f=Ri("Patches").$;return Ya(r)?f(r,n):this.produce(r,function(l){return f(l,n.slice(a+1))})},e}(),nn=new bL,Ys=nn.produce;nn.produceWithPatches.bind(nn);var wL=nn.setAutoFreeze.bind(nn);nn.setUseProxies.bind(nn);var _L=nn.applyPatches.bind(nn);nn.createDraft.bind(nn);nn.finishDraft.bind(nn);var yc={exports:{}},Gb=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(Gb){var Wb=new Uint8Array(16);yc.exports=function(){return Gb(Wb),Wb}}else{var Jb=new Array(16);yc.exports=function(){for(var t=0,r;t<16;t++)(t&3)===0&&(r=Math.random()*4294967296),Jb[t]=r>>>((t&3)<<3)&255;return Jb}}var z4=[];for(var nf=0;nf<256;++nf)z4[nf]=(nf+256).toString(16).substr(1);function SL(e,t){var r=t||0,n=z4;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")}var K4=SL,ML=yc.exports,xL=K4,Zb,Ud,Fd=0,Ld=0;function EL(e,t,r){var n=t&&r||0,a=t||[];e=e||{};var i=e.node||Zb,f=e.clockseq!==void 0?e.clockseq:Ud;if(i==null||f==null){var l=ML();i==null&&(i=Zb=[l[0]|1,l[1],l[2],l[3],l[4],l[5]]),f==null&&(f=Ud=(l[6]<<8|l[7])&16383)}var v=e.msecs!==void 0?e.msecs:new Date().getTime(),h=e.nsecs!==void 0?e.nsecs:Ld+1,g=v-Fd+(h-Ld)/1e4;if(g<0&&e.clockseq===void 0&&(f=f+1&16383),(g<0||v>Fd)&&e.nsecs===void 0&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Fd=v,Ld=h,Ud=f,v+=122192928e5;var _=((v&268435455)*1e4+h)%4294967296;a[n++]=_>>>24&255,a[n++]=_>>>16&255,a[n++]=_>>>8&255,a[n++]=_&255;var M=v/4294967296*1e4&268435455;a[n++]=M>>>8&255,a[n++]=M&255,a[n++]=M>>>24&15|16,a[n++]=M>>>16&255,a[n++]=f>>>8|128,a[n++]=f&255;for(var E=0;E<6;++E)a[n+E]=i[E];return t||xL(a)}var AL=EL,IL=yc.exports,TL=K4;function CL(e,t,r){var n=t&&r||0;typeof e=="string"&&(t=e==="binary"?new Array(16):null,e=null),e=e||{};var a=e.random||(e.rng||IL)();if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,t)for(var i=0;i<16;++i)t[n+i]=a[i];return t||TL(a)}var OL=CL,PL=AL,H4=OL,gm=H4;gm.v1=PL;gm.v4=H4;var gc=gm,Yb=function(){return[]};function Vo(e){var t=new Error(e);return t.source="ulid",t}var zo="0123456789ABCDEFGHJKMNPQRSTVWXYZ",Ko=zo.length,Xb=Math.pow(2,48)-1,yv=10,G4=16;function Qb(e,t,r){return t>e.length-1?e:e.substr(0,t)+r+e.substr(t+1)}function kL(e){for(var t=void 0,r=e.length,n=void 0,a=void 0,i=Ko-1;!t&&r-->=0;){if(n=e[r],a=zo.indexOf(n),a===-1)throw Vo("incorrectly encoded string");if(a===i){e=Qb(e,r,zo[0]);continue}t=Qb(e,r,zo[a+1])}if(typeof t=="string")return t;throw Vo("cannot increment this string")}function RL(e){var t=Math.floor(e()*Ko);return t===Ko&&(t=Ko-1),zo.charAt(t)}function gv(e,t){if(isNaN(e))throw new Error(e+" must be a number");if(e>Xb)throw Vo("cannot encode time greater than "+Xb);if(e<0)throw Vo("time must be positive");if(Number.isInteger(e)===!1)throw Vo("time must be an integer");for(var r=void 0,n="";t>0;t--)r=e%Ko,n=zo.charAt(r)+n,e=(e-r)/Ko;return n}function W4(e,t){for(var r="";e>0;e--)r=RL(t)+r;return r}function J4(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=arguments[1];t||(t=typeof window<"u"?window:null);var r=t&&(t.crypto||t.msCrypto);if(r)return function(){var a=new Uint8Array(1);return r.getRandomValues(a),a[0]/255};try{var n=require("crypto");return function(){return n.randomBytes(1).readUInt8()/255}}catch{}if(e){try{console.error("secure crypto unusable, falling back to insecure Math.random()!")}catch{}return function(){return Math.random()}}throw Vo("secure crypto unusable, insecure Math.random not allowed")}function NL(e){return e||(e=J4()),function(r){return isNaN(r)&&(r=Date.now()),gv(r,yv)+W4(G4,e)}}function DL(e){e||(e=J4());var t=0,r=void 0;return function(a){if(isNaN(a)&&(a=Date.now()),a<=t){var i=r=kL(r);return gv(t,yv)+i}t=a;var f=r=W4(G4,e);return gv(a,yv)+f}}NL();var bv=function(){function e(){}return e.createPredicateBuilder=function(t){var r=t.name,n=new Set(Object.keys(t.fields)),a=new Proxy({},{get:function(i,f,l){var v=f;if(!n.has(v))throw new Error("Invalid field for model. field: "+v+", model: "+r);var h=function(g){var _;return(_=e.sortPredicateGroupsMap.get(l))===null||_===void 0||_.push({field:v,sortDirection:g}),l};return h}});return e.sortPredicateGroupsMap.set(a,[]),a},e.isValidPredicate=function(t){return e.sortPredicateGroupsMap.has(t)},e.getPredicates=function(t,r){if(r===void 0&&(r=!0),r&&!e.isValidPredicate(t))throw new Error("The predicate is not valid");var n=e.sortPredicateGroupsMap.get(t);if(n)return n;throw new Error("Predicate group not found")},e.createFromExisting=function(t,r){if(!(!r||!t))return r(e.createPredicateBuilder(t))},e.sortPredicateGroupsMap=new WeakMap,e}(),BL=new WeakSet;function qd(e){return BL.has(e)}var UL=new Set(["and","or","not"]),FL=function(e){var t=Wt(Object.keys(e));return t.length===1&&UL.has(t[0])},LL=function(e){return!Array.isArray(e)&&Object.keys(e).length===0},Z4=new Set(["eq","ne","gt","lt","ge","le","contains","notContains","beginsWith","between"]),qL=function(e){var t=Wt(Object.keys(e));return!Array.isArray(e)&&t.length===1&&Z4.has(t[0])},Y4=function(e){return Array.isArray(e)?e.every(function(t){return Y4(t)}):Object.keys(e).length<=1},Kt=function(){function e(){}return e.isValidPredicate=function(t){return e.predicateGroupsMap.has(t)},e.getPredicates=function(t,r){if(r===void 0&&(r=!0),r&&!e.isValidPredicate(t))throw new Error("The predicate is not valid");return e.predicateGroupsMap.get(t)},e.createForPk=function(t,r){var n=hr(t),a=rM(r,n),i=this.createFromAST(t,{and:n.map(function(f,l){var v,h=a[l];return v={},v[f]={eq:h},v})});return i},e.createFromFlatEqualities=function(t,r){var n={and:Object.entries(r).map(function(a){var i,f=Le(a,2),l=f[0],v=f[1];return i={},i[l]={eq:v},i})};return this.createFromAST(t,n)},e.transformGraphQLFilterNodeToPredicateAST=function(t){var r=this;if(!Y4(t))throw new Error("Invalid GraphQL Condition or subtree: "+JSON.stringify(t));if(LL(t))return{type:"and",predicates:[]};if(FL(t)){var n=Object.keys(t)[0],a=this.transformGraphQLFilterNodeToPredicateAST(t[n]);return{type:n,predicates:Array.isArray(a)?a:[a]}}else if(qL(t)){var i=Object.keys(t)[0];return{operator:i,operand:t[i]}}else{if(Array.isArray(t))return t.map(function(l){return r.transformGraphQLFilterNodeToPredicateAST(l)});var f=Object.keys(t)[0];return pe({field:f},this.transformGraphQLFilterNodeToPredicateAST(t[f]))}},e.createFromAST=function(t,r){var n={};return e.predicateGroupsMap.set(n,this.transformGraphQLFilterNodeToPredicateAST(r)),n},e.predicateGroupsMap=new WeakMap,e}(),Du="id",ta="#",X4="-",Xs={idEmptyString:"An index field cannot contain an empty string value",queryByPkWithCompositeKeyPresent:"Models with composite primary keys cannot be queried by a single key value. Use object literal syntax for composite keys instead: https://docs.amplify.aws/lib/datastore/advanced-workflows/q/platform/js/#querying-records-with-custom-primary-keys",deleteByPkWithCompositeKeyPresent:"Models with composite primary keys cannot be deleted by a single key value, unless using a predicate. Use object literal syntax for composite keys instead: https://docs.amplify.aws/lib/datastore/advanced-workflows/q/platform/js/#querying-records-with-custom-primary-keys",observeWithObjectLiteral:"Object literal syntax cannot be used with observe. Use a predicate instead: https://docs.amplify.aws/lib/datastore/data-access/q/platform/js/#predicates"},ds;(function(e){e.DATASTORE="datastore",e.USER="user",e.SYNC="sync",e.STORAGE="storage"})(ds||(ds={}));var bm=ds.DATASTORE,Ts=ds.USER,Ho=ds.SYNC,Q4=ds.STORAGE,bc="/DataStore",cn=function(e){return typeof e>"u"||e===void 0||e===null},Xa=function(e,t,r){var n,a=!1;if(r.length===0)return!0;switch(t){case"not":n="every",a=!0;break;case"and":n="every";break;case"or":n="some";break;default:throw new Error("Invalid "+t)}var i=r[n](function(f){if(vs(f)){var l=f.field,v=f.operator,h=f.operand,g=e[l];return jL(g,v,h)}if(du(f)){var _=f.type,M=f.predicates;return Xa(e,_,M)}throw new Error("Not a predicate or group")});return a?!i:i},jL=function(e,t,r){switch(t){case"ne":return e!==r;case"eq":return e===r;case"le":return e<=r;case"lt":return e<r;case"ge":return e>=r;case"gt":return e>r;case"between":var n=Le(r,2),a=n[0],i=n[1];return e>=a&&e<=i;case"beginsWith":return!cn(e)&&e.startsWith(r);case"contains":return!cn(e)&&e.indexOf(r)>-1;case"notContains":return cn(e)||e.indexOf(r)===-1;default:return!1}},ja=function(e){return e&&typeof e.copyOf=="function"},$L=new WeakSet;function VL(e){$L.add(e)}var jd=new WeakMap,wm=function(e,t,r,n,a){var i=a(r.name,e),f=[],l=i.copyOf(t,function(){});f.unshift({modelName:e,item:l,instance:l}),jd.has(r)||jd.set(r,Array.from(r.modelTopologicalOrdering.keys()));var v=jd.get(r);return f.sort(function(h,g){return v.indexOf(h.modelName)-v.indexOf(g.modelName)}),f},af,zL=function(){return new Promise(function(e){var t=gc.v4(),r,n=function(){af=!1,e(!0)},a=function(){return ue(void 0,void 0,void 0,function(){return se(this,function(i){switch(i.label){case 0:return r&&r.result&&typeof r.result.close=="function"?[4,r.result.close()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[4,indexedDB.deleteDatabase(t)];case 3:return i.sent(),af=!0,[2,e(!1)]}})})};if(af===!0)return a();if(af===!1||indexedDB===null)return n();r=indexedDB.open(t),r.onerror=n,r.onsuccess=a})},bo,KL=function(){return ue(void 0,void 0,void 0,function(){var e,t,r,n,a,i,f;return se(this,function(l){switch(l.label){case 0:return l.trys.push([0,6,,7]),e=gc.v4(),t="indexedDBFeatureProbeStore",r="idx",indexedDB===null?[2,!1]:bo!==void 0?[2,bo]:[4,new Promise(function(v){var h=indexedDB.open(e);h.onerror=function(){return v(!1)},h.onsuccess=function(){var g=h.result;v(g)},h.onupgradeneeded=function(g){var _,M=(_=g==null?void 0:g.target)===null||_===void 0?void 0:_.result;M.onerror=function(){return v(!1)};var E=M.createObjectStore(t,{autoIncrement:!0});E.createIndex(r,["id"])}})];case 1:if(n=l.sent(),!n)throw new Error("Could not open probe DB");return a=n.transaction(t,"readwrite"),i=a.objectStore(t),i.add({id:1}),a.commit(),[4,new Promise(function(v){var h=n.transaction(t,"readonly"),g=h.objectStore(t),_=g.index(r),M=_.get([1]);M.onerror=function(){return v(!1)},M.onsuccess=function(E){var A;v((A=E==null?void 0:E.target)===null||A===void 0?void 0:A.result)}})];case 2:return f=l.sent(),n&&typeof n.close=="function"?[4,n.close()]:[3,4];case 3:l.sent(),l.label=4;case 4:return[4,indexedDB.deleteDatabase(e)];case 5:return l.sent(),f===void 0?bo=!0:bo=!1,[3,7];case 6:return l.sent(),bo=!1,[3,7];case 7:return[2,bo]}})})},HL=function(e){return Ue.Buffer.from(new a4().random(e).toString(),"hex")},GL=function(){return HL(1).readUInt8(0)/255};function eM(e){var t=DL(GL);return function(){return t(e)}}function ew(){return typeof performance<"u"&&performance&&typeof performance.now=="function"?performance.now()|0:Date.now()}function tM(e){return function(r,n){var a,i;try{for(var f=He(e),l=f.next();!l.done;l=f.next()){var v=l.value,h=v.field,g=v.sortDirection,_=g===Sv.ASCENDING?1:-1;if(r[h]<n[h])return-1*_;if(r[h]>n[h])return 1*_}}catch(M){a={error:M}}finally{try{l&&!l.done&&(i=f.return)&&i.call(f)}finally{if(a)throw a.error}}return 0}}function wc(e,t,r){var n,a;r===void 0&&(r=!1);var i=e,f=t,l=function(O,T){return O==null&&T==null};if(i instanceof Object&&!(f instanceof Object)||!(i instanceof Object)&&f instanceof Object)return!1;if(!(i instanceof Object))return r&&l(i,f)?!0:i===f;if(Array.isArray(i)&&!Array.isArray(f)||Array.isArray(f)&&!Array.isArray(i))return!1;i instanceof Set&&f instanceof Set&&(i=Wt(i),f=Wt(f)),i instanceof Map&&f instanceof Map&&(i=Object.fromEntries(i),f=Object.fromEntries(f));var v=Object.keys(i),h=Object.keys(f);if(v.length!==h.length&&(!r||Array.isArray(i)))return!1;var g=v.length>=h.length?v:h;try{for(var _=He(g),M=_.next();!M.done;M=_.next()){var E=M.value,A=i[E],I=f[E];if(!wc(A,I,r))return!1}}catch(O){n={error:O}}finally{try{M&&!M.done&&(a=_.return)&&a.call(_)}finally{if(n)throw n.error}}return!0}function _m(e,t){if(t&&e.length>1){if(t.sort){var r=bv.getPredicates(t.sort);if(r.length){var n=tM(r);e.sort(n)}}var a=t.page,i=a===void 0?0:a,f=t.limit,l=f===void 0?0:f,v=Math.max(0,i*l)||0,h=l>0?v+l:e.length;return e.slice(v,h)}return e}function WL(e,t){return ue(this,void 0,void 0,function(){var r,n,a,i,f,l;return se(this,function(v){switch(v.label){case 0:v.trys.push([0,5,6,7]),r=He(e),n=r.next(),v.label=1;case 1:return n.done?[3,4]:(a=n.value,[4,t(a)]);case 2:if(v.sent())return[2,!0];v.label=3;case 3:return n=r.next(),[3,1];case 4:return[3,7];case 5:return i=v.sent(),f={error:i},[3,7];case 6:try{n&&!n.done&&(l=r.return)&&l.call(r)}finally{if(f)throw f.error}return[7];case 7:return[2,!1]}})})}function JL(e,t){return ue(this,void 0,void 0,function(){var r,n,a,i,f,l;return se(this,function(v){switch(v.label){case 0:v.trys.push([0,5,6,7]),r=He(e),n=r.next(),v.label=1;case 1:return n.done?[3,4]:(a=n.value,[4,t(a)]);case 2:if(!v.sent())return[2,!1];v.label=3;case 3:return n=r.next(),[3,1];case 4:return[3,7];case 5:return i=v.sent(),f={error:i},[3,7];case 6:try{n&&!n.done&&(l=r.return)&&l.call(r)}finally{if(f)throw f.error}return[7];case 7:return[2,!0]}})})}var ZL=function(e){return!!/^\d{4}-\d{2}-\d{2}(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},YL=function(e){return!!/^\d{2}:\d{2}(:\d{2}(.\d+)?)?(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},XL=function(e){return!!/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}(:\d{2}(.\d+)?)?(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},QL=function(e){return!!/^\d+$/.exec(String(e))},eq=function(e){return!!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.exec(e)},tq=function(e){try{return JSON.parse(e),!0}catch{return!1}},rq=function(e){try{return!!new URL(e)}catch{return!1}},nq=function(e){return!!/^\+?\d[\d\s-]+$/.exec(e)},iq=function(e){return!!/((^((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))$)|(^((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?$))$/.exec(e)},tw=function(){function e(){var t=this;this.promise=new Promise(function(r,n){t.resolve=r,t.reject=n})}return e}(),aq=function(){function e(t){this.limitPromise=new tw,this.raceInFlight=!1,this.callback=function(){},this.defaultErrorHandler=function(r){throw r===void 0&&(r="DeferredCallbackResolver error"),new Error(r)},this.callback=t.callback,this.errorHandler=t.errorHandler||this.defaultErrorHandler,this.maxInterval=t.maxInterval||2e3}return e.prototype.startTimer=function(){var t=this;this.timerPromise=new Promise(function(r,n){t.timer=setTimeout(function(){r(Mc.TIMER)},t.maxInterval)})},e.prototype.racePromises=function(){return ue(this,void 0,void 0,function(){var t,r;return se(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),this.raceInFlight=!0,this.startTimer(),[4,Promise.race([this.timerPromise,this.limitPromise.promise])];case 1:return t=n.sent(),this.callback(),[3,4];case 2:return r=n.sent(),this.errorHandler(r),[3,4];case 3:return this.clear(),this.raceInFlight=!1,this.limitPromise=new tw,[2,t];case 4:return[2]}})})},e.prototype.start=function(){this.raceInFlight||this.racePromises()},e.prototype.clear=function(){clearTimeout(this.timer)},e.prototype.resolve=function(){this.limitPromise.resolve(Mc.LIMIT)},e}();function oq(e,t,r){var n=t.concat(r),a;return Ys(e,function(i){_L(i,n)},function(i){a=i}),a}var ka=function(e,t){var r=e+"_"+t;return r},sq=function(e){var t=function(f){var l=Le(f.properties.fields),v=l.slice(1);return v},r=e.filter(lq).map(t),n=function(f){return f.reduce(function(l,v){var h=new Set(v);if(l.length===0)return l.push(h),l;var g=l.findIndex(function(M){return Wt(M).some(function(E){return h.has(E)})});if(g>-1){var _=new Set(Wt(l[g],h));l[g]=_}else l.push(h);return l},[])},a=n(r),i=n(a);return i},Sm=function(e){var t,r=(t=e==null?void 0:e.attributes)===null||t===void 0?void 0:t.find($l);return r},hr=function(e){var t=Sm(e);return t&&Vl(t)?t.properties.fields:[Du]},rM=function(e,t){return t.map(function(r){return e[r]})},uq=function(e,t){var r={};return t.forEach(function(n){return r[n]=e[n]}),r},nM=function(e){var t=Sm(e);return!(t&&Vl(t))},fq=function(e){var t=Sm(e);return t&&Vl(t)?t.properties.fields[0]===Du:!1},iM=function(e){var t={},r={};return Object.keys(e.models).forEach(function(n){var a,i;t[n]={indexes:[],relationTypes:[]},r[n]={};var f=e.models[n];if(Object.keys(f.fields).forEach(function(_){var M=f.fields[_];if(typeof M.type=="object"&&"model"in M.type){var E=M.association.connectionType;if(t[n].relationTypes.push({fieldName:M.name,modelName:M.type.model,relationType:E,targetName:M.association.targetName,targetNames:M.association.targetNames,associatedWith:M.association.associatedWith}),E==="BELONGS_TO"){var A=aM(M.association);if(A){var I=wv(A),O=t[n].indexes.find(function(T){var P=Le(T,1),k=P[0];return k===I});O||t[n].indexes.push([I,A])}}}}),f.attributes){r[n].compositeKeys=sq(f.attributes);var l=function(_){if(!$l(_))return"continue";var M=_.properties.fields;if(Vl(_))return r[n].primaryKey=M,"continue";var E=wv(M),A=t[n].indexes.find(function(I){var O=Le(I,1),T=O[0];return T===E});A||t[n].indexes.push([E,M])};try{for(var v=He(f.attributes),h=v.next();!h.done;h=v.next()){var g=h.value;l(g)}}catch(_){a={error:_}}finally{try{h&&!h.done&&(i=v.return)&&i.call(v)}finally{if(a)throw a.error}}}r[n].primaryKey||(r[n].primaryKey=[Du]),t[n].indexes.push(["byPk",r[n].primaryKey,{unique:!0}])}),[t,r]},aM=function(e){var t=e==null?void 0:e.targetName,r=e==null?void 0:e.targetNames;return Array.isArray(r)?r:typeof t=="string"?[t]:void 0},wv=function(e){return e.reduce(function(t,r,n){return n===0?r:""+t+X4+r},"")},_c=function(e,t){return e.length!==t.length?!1:e.every(function(r,n){return r===t[n]})},jf=function(e,t){var r,n,a=(n=(r=e==null?void 0:e.keys)===null||r===void 0?void 0:r[t])===null||n===void 0?void 0:n.primaryKey;return a||[Du]},cq=function(e){var t,r,n=(t=e.attributes)===null||t===void 0?void 0:t.find(function(l){return l.type==="model"}),a=(r=n==null?void 0:n.properties)===null||r===void 0?void 0:r.timestamps,i={createdAt:"createdAt",updatedAt:"updatedAt"},f=a||{};return pe(pe({},i),f)};function oM(e){return e&&e.pluralName!==void 0}function _v(e){return oM(e)&&e.attributes!==void 0}function Mm(e){return(e==null?void 0:e.targetName)||(e==null?void 0:e.targetNames)}function rw(e,t){var r,n;return(n=(r=e==null?void 0:e.fields[t])===null||r===void 0?void 0:r.association)===null||n===void 0?void 0:n.connectionType}function $l(e){return e.type==="key"&&e.properties&&e.properties.fields&&e.properties.fields.length>0}function Vl(e){return $l(e)&&e.properties.name===void 0}function lq(e){return $l(e)&&e.properties.name!==void 0&&e.properties.fields.length>2}var mn;(function(e){e.CUSTOM="custom",e.OWNER="owner",e.GROUPS="groups",e.PRIVATE="private",e.PUBLIC="public"})(mn||(mn={}));var Cr;(function(e){e.FUNCTION="function",e.USER_POOLS="userPools",e.OIDC="oidc",e.IAM="iam",e.API_KEY="apiKey"})(Cr||(Cr={}));var Qa;(function(e){e[e.ID=0]="ID",e[e.String=1]="String",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Boolean=4]="Boolean",e[e.AWSDate=5]="AWSDate",e[e.AWSTime=6]="AWSTime",e[e.AWSDateTime=7]="AWSDateTime",e[e.AWSTimestamp=8]="AWSTimestamp",e[e.AWSEmail=9]="AWSEmail",e[e.AWSJSON=10]="AWSJSON",e[e.AWSURL=11]="AWSURL",e[e.AWSPhone=12]="AWSPhone",e[e.AWSIPAddress=13]="AWSIPAddress"})(Qa||(Qa={}));(function(e){function t(n){switch(n){case"Boolean":return"boolean";case"ID":case"String":case"AWSDate":case"AWSTime":case"AWSDateTime":case"AWSEmail":case"AWSURL":case"AWSPhone":case"AWSIPAddress":return"string";case"Int":case"Float":case"AWSTimestamp":return"number";case"AWSJSON":return"object";default:throw new Error("Invalid scalar type")}}e.getJSType=t;function r(n){switch(n){case"AWSDate":return ZL;case"AWSTime":return YL;case"AWSDateTime":return XL;case"AWSTimestamp":return QL;case"AWSEmail":return eq;case"AWSJSON":return tq;case"AWSURL":return rq;case"AWSPhone":return nq;case"AWSIPAddress":return iq;default:return}}e.getValidationFunction=r})(Qa||(Qa={}));function sM(e){return e&&Qa[e]!==void 0}function uM(e){var t="model";return!!(e&&e[t])}function Sc(e){var t="nonModel";return!!(e&&e[t])}function hq(e){var t="enum";return!!(e&&e[t])}function of(e,t){var r=hr(t);return typeof e=="object"&&e&&r.every(function(n){return e[n]!==void 0})}var xt;(function(e){e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(xt||(xt={}));function vs(e){return e&&e.field!==void 0}function du(e){return e&&e.type!==void 0}var qi;(function(e){e[e.FIRST=0]="FIRST",e[e.LAST=1]="LAST"})(qi||(qi={}));var Sv;(function(e){e.ASCENDING="ASCENDING",e.DESCENDING="DESCENDING"})(Sv||(Sv={}));var Qs;(function(e){e.DEFAULT="DEFAULT",e.MULTI_AUTH="MULTI_AUTH"})(Qs||(Qs={}));var Mv;(function(e){e.CREATE="CREATE",e.READ="READ",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Mv||(Mv={}));var ia;(function(e){e.sync="sync",e.mutate="mutate",e.subscribe="subscribe"})(ia||(ia={}));var nw=Symbol("DISCARD"),Mc;(function(e){e.LIMIT="LIMIT",e.TIMER="TIMER"})(Mc||(Mc={}));var dq=function(){function e(){this.__isPredicateInternalsKeySentinel=!0}return e}();function iw(e){return e.allow==="private"&&!e.provider?Cr.USER_POOLS:e.allow==="public"&&!e.provider?Cr.API_KEY:e.provider}function vq(e){var t=[mn.CUSTOM,mn.OWNER,mn.GROUPS,mn.PRIVATE,mn.PUBLIC],r=[Cr.FUNCTION,Cr.USER_POOLS,Cr.OIDC,Cr.IAM,Cr.API_KEY];return Wt(e).sort(function(n,a){return n.allow===a.allow?r.indexOf(iw(n))-r.indexOf(iw(a)):t.indexOf(n.allow)-t.indexOf(a.allow)})}function pq(e){var t=e.rules,r=e.currentUser,n=new Set;return t.forEach(function(a){switch(a.allow){case mn.CUSTOM:(!a.provider||a.provider===Cr.FUNCTION)&&n.add(dr.AWS_LAMBDA);break;case mn.GROUPS:case mn.OWNER:{r&&(a.provider===Cr.USER_POOLS?n.add(dr.AMAZON_COGNITO_USER_POOLS):a.provider===Cr.OIDC&&n.add(dr.OPENID_CONNECT));break}case mn.PRIVATE:{r&&(!a.provider||a.provider===Cr.USER_POOLS?n.add(dr.AMAZON_COGNITO_USER_POOLS):a.provider===Cr.IAM&&n.add(dr.AWS_IAM));break}case mn.PUBLIC:{a.provider===Cr.IAM?n.add(dr.AWS_IAM):(!a.provider||a.provider===Cr.API_KEY)&&n.add(dr.API_KEY);break}}}),Array.from(n)}var mq=function(e){return function(t){var r=t.schema,n=t.modelName;return ue(void 0,void 0,void 0,function(){var a,i,f,l,v;return se(this,function(h){switch(h.label){case 0:e.Auth=e.Auth||Li,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,e.Auth.currentAuthenticatedUser()];case 2:return a=h.sent(),[3,4];case 3:return h.sent(),[3,4];case 4:return i=r.namespaces.user.models[n].attributes,i&&(f=i.find(function(g){return g.type==="auth"}),!((v=f==null?void 0:f.properties)===null||v===void 0)&&v.rules)?(l=vq(f.properties.rules),[2,pq({currentUser:a,rules:l})]):[2,[]]}})})}},xv={exports:{}};(function(e,t){(function(r,n){r(t,e)})(function(r,n){function a(T){return typeof Symbol=="function"&&Boolean(Symbol[T])}function i(T){return a(T)?Symbol[T]:"@@"+T}typeof Symbol=="function"&&!Symbol.observable&&(Symbol.observable=Symbol("observable"));function f(T){setTimeout(function(){throw T})}function l(T,P){var k=T[P];if(k!=null){if(typeof k!="function")throw new TypeError(k+" is not a function");return k}}function v(T){var P=T.constructor;return P!==void 0&&(P=P[i("species")],P===null&&(P=void 0)),P!==void 0?P:O}function h(T,P){Object.keys(P).forEach(function(k){var R=Object.getOwnPropertyDescriptor(P,k);R.enumerable=!1,Object.defineProperty(T,k,R)})}function g(T){var P=T._cleanup;if(!!P){T._cleanup=void 0;try{P()}catch(k){f(k)}}}function _(T){return T._observer===void 0}function M(T){_(T)||(T._observer=void 0,g(T))}function E(T){return function(){T.unsubscribe()}}function A(T,P){if(Object(T)!==T)throw new TypeError("Observer must be an object");this._cleanup=void 0,this._observer=T;try{var k=l(T,"start");k&&k.call(T,this)}catch(D){f(D)}if(!_(this)){T=new I(this);try{var R=P.call(void 0,T);if(R!=null){if(typeof R.unsubscribe=="function")R=E(R);else if(typeof R!="function")throw new TypeError(R+" is not a function");this._cleanup=R}}catch(D){T.error(D);return}_(this)&&g(this)}}h(A.prototype={},{get closed(){return _(this)},unsubscribe:function(){M(this)}});function I(T){this._subscription=T}h(I.prototype={},{get closed(){return _(this._subscription)},next:function(T){var P=this._subscription;if(!_(P)){var k=P._observer;try{var R=l(k,"next");R&&R.call(k,T)}catch(D){f(D)}}},error:function(T){var P=this._subscription;if(_(P)){f(T);return}var k=P._observer;P._observer=void 0;try{var R=l(k,"error");if(R)R.call(k,T);else throw T}catch(D){f(D)}g(P)},complete:function(){var T=this._subscription;if(!_(T)){var P=T._observer;T._observer=void 0;try{var k=l(P,"complete");k&&k.call(P)}catch(R){f(R)}g(T)}}});function O(T){if(!(this instanceof O))throw new TypeError("Observable cannot be called as a function");if(typeof T!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=T}h(O.prototype,{subscribe:function(T){for(var P=[],k=1;k<arguments.length;++k)P.push(arguments[k]);return typeof T=="function"?T={next:T,error:P[0],complete:P[1]}:(typeof T!="object"||T===null)&&(T={}),new A(T,this._subscriber)},forEach:function(T){var P=this;return new Promise(function(k,R){if(typeof T!="function")return Promise.reject(new TypeError(T+" is not a function"));P.subscribe({_subscription:null,start:function(D){if(Object(D)!==D)throw new TypeError(D+" is not an object");this._subscription=D},next:function(D){var V=this._subscription;if(!V.closed)try{T(D)}catch(q){R(q),V.unsubscribe()}},error:R,complete:k})})},map:function(T){var P=this;if(typeof T!="function")throw new TypeError(T+" is not a function");var k=v(this);return new k(function(R){return P.subscribe({next:function(D){if(!R.closed){try{D=T(D)}catch(V){return R.error(V)}R.next(D)}},error:function(D){R.error(D)},complete:function(){R.complete()}})})},filter:function(T){var P=this;if(typeof T!="function")throw new TypeError(T+" is not a function");var k=v(this);return new k(function(R){return P.subscribe({next:function(D){if(!R.closed){try{if(!T(D))return}catch(V){return R.error(V)}R.next(D)}},error:function(D){R.error(D)},complete:function(){R.complete()}})})},reduce:function(T){var P=this;if(typeof T!="function")throw new TypeError(T+" is not a function");var k=v(this),R=arguments.length>1,D=!1,V=arguments[1],q=V;return new k(function($){return P.subscribe({next:function(F){if(!$.closed){var z=!D;if(D=!0,!z||R)try{q=T(q,F)}catch(b){return $.error(b)}else q=F}},error:function(F){$.error(F)},complete:function(){if(!D&&!R)return $.error(new TypeError("Cannot reduce an empty sequence"));$.next(q),$.complete()}})})}}),Object.defineProperty(O.prototype,i("observable"),{value:function(){return this},writable:!0,configurable:!0}),h(O,{from:function(T){var P=typeof this=="function"?this:O;if(T==null)throw new TypeError(T+" is not an object");var k=l(T,i("observable"));if(k){var R=k.call(T);if(Object(R)!==R)throw new TypeError(R+" is not an object");return R.constructor===P?R:new P(function(D){return R.subscribe(D)})}if(a("iterator")&&(k=l(T,i("iterator"))))return new P(function(D){for(var V=k.call(T)[Symbol.iterator](),q;q=V.next(),!q.done;){var $=q.value;if(D.next($),D.closed)return}D.complete()});if(Array.isArray(T))return new P(function(D){for(var V=0;V<T.length;++V)if(D.next(T[V]),D.closed)return;D.complete()});throw new TypeError(T+" is not observable")},of:function(){for(var T=[],P=0;P<arguments.length;++P)T.push(arguments[P]);var k=typeof this=="function"?this:O;return new k(function(R){for(var D=0;D<T.length;++D)if(R.next(T[D]),R.closed)return;R.complete()})}}),Object.defineProperty(O,i("species"),{get:function(){return this},configurable:!0}),Object.defineProperty(O,"extensions",{value:{observableSymbol:i("observable"),setHostReportError:function(T){f=T}}}),r.Observable=O})})(xv,xv.exports);var yq=xv.exports.Observable,gq=yq;function bq(e,t){Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);n.enumerable=!1,Object.defineProperty(e,r,n)})}function $d(e,t,r){if(e._observer)aw(e._observer,t,r);else if(e._observers){var n=[];e._observers.forEach(function(a){n.push(a)}),n.forEach(function(a){aw(a,t,r)})}}function aw(e,t,r){if(!e.closed)switch(t){case"next":return e.next(r);case"error":return e.error(r);case"complete":return e.complete(r)}}function xm(e){return e._observer||e._observers&&e._observers.size>0}function wq(e,t){e._observers?e._observers.add(t):e._observer?(e._observers=new Set,e._observers.add(e._observer),e._observers.add(t),e._observer=null):e._observer=t}function _q(e,t){e._observers?e._observers.delete(t):e._observer===t&&(e._observer=null)}function Sq(e,t){!xm(e)&&t&&t.start&&t.start()}function Mq(e,t){!xm(e)&&t&&t.pause&&t.pause()}function fM(e){var t=this;this._observer=null,this._observers=null,this._observable=new gq(function(r){return Sq(t,e),wq(t,r),function(){_q(t,r),Mq(t,e)}})}bq(fM.prototype,{get observable(){return this._observable},get observed(){return xm(this)},next:function(e){$d(this,"next",e)},error:function(e){$d(this,"error",e)},complete:function(e){$d(this,"complete",e)}});var xq=fM,Eq=new wt("DataStore"),Ev;(function(e){e.LIST="query",e.CREATE="mutation",e.UPDATE="mutation",e.DELETE="mutation",e.GET="query"})(Ev||(Ev={}));var _t;(function(e){e.CREATE="Create",e.UPDATE="Update",e.DELETE="Delete",e.GET="Get"})(_t||(_t={}));var Aq={_version:void 0,_lastChangedAt:void 0,_deleted:void 0},Iq=Object.keys(Aq);function Tq(){return Iq}function Em(e,t){var r=cM(t),n=kq(e,t),a=Cq(t,r),i=Object.values(r).map(function(l){var v=l.name;return v}).concat(a).concat(n);oM(t)&&(i=i.concat(Tq()).concat(Pq(t,e)));var f=i.join(`
`);return f}function Cq(e,t){var r=Oq(e);return!t.owner&&r.includes("owner")?["owner"]:[]}function Oq(e){var t=[];return _v(e)&&e.attributes.forEach(function(r){if(r.properties&&r.properties.rules){var n=r.properties.rules.find(function(a){return a.allow==="owner"});n&&n.ownerField&&t.push(n.ownerField)}}),t}function cM(e){var t=e.fields,r=Object.values(t).filter(function(n){return!!(sM(n.type)||hq(n.type))}).reduce(function(n,a){return n[a.name]=a,n},{});return r}function Pq(e,t){var r=[];return Object.values(e.fields).filter(function(n){var a=n.association;return a&&Object.keys(a).length}).forEach(function(n){var a=n.name,i=n.association,f=(i||{}).connectionType;switch(f){case"HAS_ONE":case"HAS_MANY":break;case"BELONGS_TO":if(Mm(i))if(i.targetNames&&i.targetNames.length>0){var l=Le(iM(t),1),v=l[0],h=e.fields[a].type.model,g=v[h].indexes.find(function(E){var A=Le(E,1),I=A[0];return I==="byPk"}),_=g&&g[1],M=_==null?void 0:_.join(" ");r.push(a+" { "+M+" _deleted }")}else r.push(a+" { id _deleted }");break;default:throw new Error("Invalid connection type "+f)}}),r}function kq(e,t){var r=[];return Object.values(t.fields).forEach(function(n){var a=n.name,i=n.type;if(Sc(i)){var f=e.nonModels[i.nonModel],l=Object.values(cM(f)).map(function(h){var g=h.name;return g}),v=[];Object.values(f.fields).forEach(function(h){var g=h.type,_=h.name;if(Sc(g)){var M=e.nonModels[g.nonModel];v.push(_+" { "+Em(e,M)+" }")}}),r.push(a+" { "+l.join(" ")+" "+v.join(" ")+" }")}}),r}function lM(e){var t=[].concat(e.attributes||[]).find(function(f){return f&&f.type==="auth"}),r=(t||{}).properties,n=(r===void 0?{}:r).rules,a=n===void 0?[]:n,i=[];return a.forEach(function(f){var l=f.identityClaim,v=l===void 0?"cognito:username":l,h=f.ownerField,g=h===void 0?"owner":h,_=f.operations,M=_===void 0?["create","update","delete","read"]:_,E=f.provider,A=E===void 0?"userPools":E,I=f.groupClaim,O=I===void 0?"cognito:groups":I,T=f.allow,P=T===void 0?"iam":T,k=f.groups,R=k===void 0?[]:k,D=f.groupsField,V=D===void 0?"":D,q=M.includes("read"),$=P==="owner";if(!(!q&&!$)){var F={identityClaim:v,ownerField:g,provider:A,groupClaim:O,authStrategy:P,groups:R,groupsField:V,areSubscriptionsPublic:!1};if($){var z=[].concat(e.attributes||[]).find(function(d){return d&&d.type==="model"}),b=(z||{}).properties,o=(b===void 0?{}:b).subscriptions,u=(o===void 0?{}:o).level,c=u===void 0?"on":u;F.areSubscriptionsPublic=!M.includes("read")||c==="public"}if($){i.push(F);return}i.unshift(F)}}),i}function Rq(e,t,r,n,a,i){i===void 0&&(i=!1);var f=Em(e,t),l=t.name,v="on"+r+l,h=[],g=[];i&&(h.push("$filter: ModelSubscription"+l+"FilterInput"),g.push("filter: $filter")),n&&(h.push("$"+a+": String!"),g.push(a+": $"+a));var _=h.length?"("+h.join(",")+")":"",M=g.length?"("+g.join(",")+")":"";return[r,v,"subscription operation"+_+`{
			`+v+M+`{
				`+f+`
			}
		}`]}function Ws(e,t,r){var n=Em(e,t),a=t.name,i=t.pluralName,f,l,v,h;switch(r){case"LIST":f="sync"+i,l="($limit: Int, $nextToken: String, $lastSync: AWSTimestamp, $filter: Model"+a+"FilterInput)",v="(limit: $limit, nextToken: $nextToken, lastSync: $lastSync, filter: $filter)",n=`items {
							`+n+`
						}
						nextToken
						startedAt`;break;case"CREATE":f="create"+a,l="($input: Create"+a+"Input!)",v="(input: $input)",h=_t.CREATE;break;case"UPDATE":f="update"+a,l="($input: Update"+a+"Input!, $condition: Model"+a+"ConditionInput)",v="(input: $input, condition: $condition)",h=_t.UPDATE;break;case"DELETE":f="delete"+a,l="($input: Delete"+a+"Input!, $condition: Model"+a+"ConditionInput)",v="(input: $input, condition: $condition)",h=_t.DELETE;break;case"GET":f="get"+a,l="($id: ID!)",v="(id: $id)",h=_t.GET;break;default:throw new Error("Invalid graphQlOpType "+r)}return[[h,f,Ev[r]+" operation"+l+`{
		`+f+v+`{
			`+n+`
		}
	}`]]}function hM(e,t,r,n,a,i,f,l,v){var h;switch(r){case xt.INSERT:h=_t.CREATE;break;case xt.UPDATE:h=_t.UPDATE;break;case xt.DELETE:h=_t.DELETE;break;default:throw new Error("Invalid opType "+r)}var g=function(A,I){var O=A&&I!==null&&typeof I=="object"&&t.fields[A]&&t.fields[A].type==="AWSJSON";return O?JSON.stringify(I):I},_=ai(t,a),M=xt.INSERT&&v?{id:v}:{},E=l(f,pe(pe({},M),{data:JSON.stringify(a,g),modelId:_,model:n.name,operation:h,condition:JSON.stringify(i)}));return E}function Nq(e,t){var r={};if(!e||!Array.isArray(e.predicates))return r;var n=hr(t);return Bu(e,n)}function Bu(e,t,r){t===void 0&&(t=[]),r===void 0&&(r=!0);var n={};if(!e||!Array.isArray(e.predicates))return n;var a=e.type,i=e.predicates,f=a==="and"||a==="or";n[a]=f?[]:{};var l=[];if(i.forEach(function(g){var _,M;if(vs(g)){var E=g.field,A=g.operator,I=g.operand;if(t.includes(E))return;var O=(_={},_[E]=(M={},M[A]=I,M),_);l.push(O);return}var T=Bu(g,t,!1);Object.keys(T).length>0&&l.push(T)}),l.length===1){var v=Le(l,1),h=v[0];if(f&&!r||f&&r&&("and"in h||"or"in h))return delete n[a],Object.assign(n,h),n}if(l.forEach(function(g){f?n[a].push(g):n[a]=g}),f){if(n[a].length===0)return{}}else if(Object.keys(n[a]).length===0)return{};return n}function Dq(e){var t=new Set;if(!e||!Array.isArray(e.predicates))return t;for(var r=e.predicates,n=Wt(r);n.length>0;){var a=n.pop();vs(a)?t.add(a.field):du(a)&&n.push.apply(n,Wt(a.predicates))}return t}function Bq(e){var t,r,n=lM(e),a=new Set;try{for(var i=He(n),f=i.next();!f.done;f=i.next()){var l=f.value;l.groupsField&&!l.groups.length?a.add(l.groupsField):l.ownerField&&a.add(l.ownerField)}}catch(v){t={error:v}}finally{try{f&&!f.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return a}function Uq(e){if(!e||!Array.isArray(e.predicates))return 0;for(var t=0,r=[e];r.length>0;){var n=r.pop();if(du(n)){var a=n.predicates,i=n.type;i==="or"&&a.length>1&&(t+=a.length),r.push.apply(r,Wt(a))}}return t||1}function Fq(e){if(!e||!Array.isArray(e.predicates))return null;for(var t=Bu(e),r=[t],n=function(_){var M,E,A={};try{for(var I=He(_),O=I.next();!O.done;O=I.next()){var T=O.value,P=Le(Object.keys(T),1),k=P[0];if(A[k])return k;A[k]=!0}}catch(R){M={error:R}}finally{try{O&&!O.done&&(E=I.return)&&E.call(I)}finally{if(M)throw M.error}}return null};r.length>0;){var a=r.pop(),i=Le(Object.keys(a),1),f=i[0],l=a[f];if(!Array.isArray(l))return null;var v=l.filter(function(_){return!Array.isArray(Object.values(_)[0])}),h=l.filter(function(_){return Array.isArray(Object.values(_)[0])});if(f==="and"){var g=n(v);if(g)return g}r.push.apply(r,Wt(h))}return null}var Vr;(function(e){e[e.UnknownField=0]="UnknownField",e[e.MaxAttributes=1]="MaxAttributes",e[e.MaxCombinations=2]="MaxCombinations",e[e.RepeatedFieldname=3]="RepeatedFieldname",e[e.NotGroup=4]="NotGroup",e[e.FieldNotInType=5]="FieldNotInType"})(Vr||(Vr={}));function Lq(e,t,r){var n=Dq(r),a=Wt(n).join(", "),i=Bq(t),f=Wt(i).join(", "),l=Uq(r),v=Fq(r);switch(e){case Vr.UnknownField:return"Your API was generated with an older version of the CLI that doesn't support backend subscription filtering.To enable backend subscription filtering, upgrade your Amplify CLI to the latest version and push your app by running `amplify upgrade` followed by `amplify push`";case Vr.MaxAttributes:{var h="Your selective sync expression for "+t.name+" contains "+n.size+" different model fields: "+a+`.

`;return i.size>0&&(h+=`Note: the number of fields you can use with selective sync is affected by @auth rules configured on the model.

Dynamic auth modes, such as owner auth and dynamic group auth each utilize 1 field.
`+("You currently have "+i.size+" dynamic auth mode(s) configured on this model: "+f+".")),h}case Vr.MaxCombinations:{var h="Your selective sync expression for "+t.name+" contains "+l+` field combinations (total number of predicates in an OR expression).

`;return i.size>0&&(h+=`Note: the number of fields you can use with selective sync is affected by @auth rules configured on the model.

Dynamic auth modes, such as owner auth and dynamic group auth factor in to the number of combinations you're using.
`+("You currently have "+i.size+" dynamic auth mode(s) configured on this model: "+f+".")),h}case Vr.RepeatedFieldname:return"Your selective sync expression for "+t.name+" contains multiple entries for "+v+" in the same AND group.";case Vr.NotGroup:return"Your selective sync expression for "+t.name+" uses a `not` group. If you'd like to filter subscriptions in the backend, rewrite your expression using `ne` or `notContains` operators.";case Vr.FieldNotInType:return""}}function ow(e,t){var r=e[t.groupClaim]||[];if(typeof r=="string"){var n=void 0;try{n=JSON.parse(r)}catch{n=r}r=[].concat(n)}return r}function Am(e){var t=e.authModeStrategy,r=e.defaultAuthMode,n=e.modelName,a=e.schema;return ue(this,void 0,void 0,function(){var i,f,l,v=this;return se(this,function(h){switch(h.label){case 0:i=Object.values(Mv),f={CREATE:[],READ:[],UPDATE:[],DELETE:[]},h.label=1;case 1:return h.trys.push([1,3,,4]),[4,Promise.all(i.map(function(g){return ue(v,void 0,void 0,function(){var _;return se(this,function(M){switch(M.label){case 0:return[4,t({schema:a,modelName:n,operation:g})];case 1:return _=M.sent(),typeof _=="string"?f[g]=[_]:Array.isArray(_)&&_.length?f[g]=_:f[g]=[r],[2]}})})}))];case 2:return h.sent(),[3,4];case 3:return l=h.sent(),Eq.debug("Error getting auth modes for model: "+n,l),[3,4];case 4:return[2,f]}})})}function sw(e){var t=["Request failed with status code 401","Request failed with status code 403"],r;return e&&e.errors?r=e.errors.find(function(n){return t.includes(n.message)}):e&&e.message&&(r=e),r?r.message:null}function uw(e){var t=Object.values(Ei),r=e&&e.message&&t.find(function(n){return e.message.includes(n)});return r||null}function xc(e,t){return t===void 0&&(t={}),ue(this,void 0,void 0,function(){var r,n,a,i;return se(this,function(f){switch(f.label){case 0:if(e!==dr.AWS_LAMBDA)return[3,6];if(r=t.authProviders,n=(r===void 0?{functionAuthProvider:null}:r).functionAuthProvider,!(n&&typeof n=="function"))return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n()];case 2:return a=f.sent().token,[2,a];case 3:throw i=f.sent(),new Error("Error retrieving token from `functionAuthProvider`: "+i);case 4:return[3,6];case 5:throw new Error("You must provide a `functionAuthProvider` function to `DataStore.configure` when using "+dr.AWS_LAMBDA);case 6:return[2]}})})}function ai(e,t){var r=hr(e),n=r.map(function(a){return t[a]}).join(X4);return n}const qq=(e,t)=>t.some(r=>e instanceof r);let fw,cw;function jq(){return fw||(fw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $q(){return cw||(cw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dM=new WeakMap,Av=new WeakMap,vM=new WeakMap,Vd=new WeakMap,Im=new WeakMap;function Vq(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",i),e.removeEventListener("error",f)},i=()=>{r(Ni(e.result)),a()},f=()=>{n(e.error),a()};e.addEventListener("success",i),e.addEventListener("error",f)});return t.then(r=>{r instanceof IDBCursor&&dM.set(r,e)}).catch(()=>{}),Im.set(t,e),t}function zq(e){if(Av.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",f),e.removeEventListener("abort",f)},i=()=>{r(),a()},f=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",i),e.addEventListener("error",f),e.addEventListener("abort",f)});Av.set(e,t)}let Iv={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Av.get(e);if(t==="objectStoreNames")return e.objectStoreNames||vM.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ni(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Kq(e){Iv=e(Iv)}function Hq(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(zd(this),t,...r);return vM.set(n,t.sort?t.sort():[t]),Ni(n)}:$q().includes(e)?function(...t){return e.apply(zd(this),t),Ni(dM.get(this))}:function(...t){return Ni(e.apply(zd(this),t))}}function Gq(e){return typeof e=="function"?Hq(e):(e instanceof IDBTransaction&&zq(e),qq(e,jq())?new Proxy(e,Iv):e)}function Ni(e){if(e instanceof IDBRequest)return Vq(e);if(Vd.has(e))return Vd.get(e);const t=Gq(e);return t!==e&&(Vd.set(e,t),Im.set(t,e)),t}const zd=e=>Im.get(e);function Wq(e,t,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const f=indexedDB.open(e,t),l=Ni(f);return n&&f.addEventListener("upgradeneeded",v=>{n(Ni(f.result),v.oldVersion,v.newVersion,Ni(f.transaction))}),r&&f.addEventListener("blocked",()=>r()),l.then(v=>{i&&v.addEventListener("close",()=>i()),a&&v.addEventListener("versionchange",()=>a())}).catch(()=>{}),l}function Jq(e,{blocked:t}={}){const r=indexedDB.deleteDatabase(e);return t&&r.addEventListener("blocked",()=>t()),Ni(r).then(()=>{})}const Zq=["get","getKey","getAll","getAllKeys","count"],Yq=["put","add","delete","clear"],Kd=new Map;function lw(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Kd.get(t))return Kd.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=Yq.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||Zq.includes(r)))return;const i=async function(f,...l){const v=this.transaction(f,a?"readwrite":"readonly");let h=v.store;n&&(h=h.index(l.shift()));const g=await h[r](...l);return a&&await v.done,g};return Kd.set(t,i),i}Kq(e=>({...e,get:(t,r,n)=>lw(t,r)||e.get(t,r,n),has:(t,r)=>!!lw(t,r)||e.has(t,r)}));var zl=function(){function e(t,r){if(!rw(t.schema,r))throw new Error(t.schema.name+"."+r+" is not a relationship.");this.localModel=t,this._field=r}return e.from=function(t,r){return rw(t.schema,r)?new this(t,r):null},e.allFrom=function(t){var r,n,a=[];try{for(var i=He(Object.keys(t.schema.fields)),f=i.next();!f.done;f=i.next()){var l=f.value,v=e.from(t,l);v&&a.push(v)}}catch(h){r={error:h}}finally{try{f&&!f.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},Object.defineProperty(e.prototype,"localDefinition",{get:function(){return this.localModel.schema},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localConstructor",{get:function(){return this.localModel.builder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.localAssocation.connectionType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localAssocation",{get:function(){return this.localDefinition.fields[this.field].association},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localJoinFields",{get:function(){return this.localAssocation.targetName?[this.localAssocation.targetName]:this.localAssocation.targetNames?this.localAssocation.targetNames:this.localPKFields},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localPKFields",{get:function(){return this.localModel.pkField},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteDefinition",{get:function(){var t;return(t=this.remoteModelType.modelConstructor)===null||t===void 0?void 0:t.schema},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteModelType",{get:function(){return this.localDefinition.fields[this.field].type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteModelConstructor",{get:function(){return this.remoteModelType.modelConstructor.builder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remotePKFields",{get:function(){var t;return((t=this.remoteModelType.modelConstructor)===null||t===void 0?void 0:t.pkField)||["id"]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localAssociatedWith",{get:function(){if(this.localAssocation.connectionType==="HAS_MANY"||this.localAssocation.connectionType==="HAS_ONE")return Array.isArray(this.localAssocation.associatedWith)?this.localAssocation.associatedWith:[this.localAssocation.associatedWith]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"explicitRemoteAssociation",{get:function(){var t;if(this.localAssociatedWith)return this.localAssociatedWith.length===1?(t=this.remoteDefinition.fields[this.localAssociatedWith[0]])===null||t===void 0?void 0:t.association:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteJoinFields",{get:function(){var t,r,n;return!((t=this.explicitRemoteAssociation)===null||t===void 0)&&t.targetName?[this.explicitRemoteAssociation.targetName]:!((r=this.explicitRemoteAssociation)===null||r===void 0)&&r.targetNames?(n=this.explicitRemoteAssociation)===null||n===void 0?void 0:n.targetNames:this.localAssociatedWith?this.localAssociatedWith:this.remotePKFields},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this.localJoinFields.length>0&&this.remoteJoinFields.length>0},enumerable:!0,configurable:!0}),e.prototype.createLocalFKObject=function(t){for(var r={},n=0;n<this.localJoinFields.length;n++)r[this.localJoinFields[n]]=t[this.remoteJoinFields[n]];return r},e.prototype.createRemoteQueryObject=function(t){for(var r={},n=0;n<this.remoteJoinFields.length;n++){var a=t[this.localJoinFields[n]];if(a==null)return null;r[this.remoteJoinFields[n]]=t[this.localJoinFields[n]]}return r},e}(),Hd=new wt("DataStore"),hw="amplify-datastore",pM=function(){function e(){this.dbName=hw}return e.prototype.setUp=function(t,r,n,a,i){return ue(this,void 0,void 0,function(){var f,l,v=this;return se(this,function(h){switch(h.label){case 0:return[4,this.preSetUpChecks()];case 1:return h.sent(),this.initPromise?[3,2]:(this.initPromise=new Promise(function(g,_){v.resolve=g,v.reject=_}),[3,4]);case 2:return[4,this.initPromise];case 3:return h.sent(),[2];case 4:i&&(this.dbName=hw+"-"+i),this.schema=t,this.namespaceResolver=r,this.modelInstanceCreator=n,this.getModelConstructorByModelName=a,h.label=5;case 5:return h.trys.push([5,8,,9]),this.db?[3,7]:(f=this,[4,this.initDb()]);case 6:f.db=h.sent(),this.resolve(),h.label=7;case 7:return[3,9];case 8:return l=h.sent(),this.reject(l),[3,9];case 9:return[2]}})})},e.prototype.getStorenameForModel=function(t){var r=this.namespaceResolver(t),n=t.name;return ka(r,n)},e.prototype.getIndexKeyValuesFromModel=function(t){var r=Object.getPrototypeOf(t).constructor,n=this.namespaceResolver(r),a=jf(this.schema.namespaces[n],r.name);return rM(t,a)},e.prototype.saveMetadata=function(t){var r=this,n=Object.getPrototypeOf(t).constructor,a=this.getStorenameForModel(n),i=this.namespaceResolver(n),f=wm(n.name,t,this.schema.namespaces[i],this.modelInstanceCreator,this.getModelConstructorByModelName),l=new Set,v=Object.values(f).map(function(g){var _=g.modelName,M=g.item,E=g.instance,A=ka(i,_);l.add(A);var I=jf(r.schema.namespaces[i],_);return{storeName:A,item:M,instance:E,keys:I}}),h=this.getIndexKeyValuesFromModel(t);return{storeName:a,set:l,connectionStoreNames:v,modelKeyValues:h}},e.prototype.validateSaveCondition=function(t,r){if(!!(t&&r)){var n=Kt.getPredicates(t),a=n,i=a.predicates,f=a.type,l=Xa(r,f,i);if(!l){var v="Conditional update failed";throw Hd.error(v,{model:r,condition:i}),new Error(v)}}},e.prototype.load=function(t,r,n){return ue(this,void 0,void 0,function(){var a,i,f,l,v=this;return se(this,function(h){return a=this.schema.namespaces[t],i=a.relationships[r].relationTypes,f=i.map(function(g){var _=g.modelName;return ka(t,_)}),l=this.getModelConstructorByModelName(t,r),f.length===0?[2,n.map(function(g){return v.modelInstanceCreator(l,g)})]:[2,n.map(function(g){return v.modelInstanceCreator(l,g)})]})})},e.prototype.keyValueFromPredicate=function(t,r){var n,a,i=t.predicates;if(i.length===r.length){var f=[],l=function(_){var M=i.find(function(E){return vs(E)&&E.field===_&&E.operator==="eq"&&E.operand!==null&&E.operand!==void 0});M&&f.push(M.operand)};try{for(var v=He(r),h=v.next();!h.done;h=v.next()){var g=h.value;l(g)}}catch(_){n={error:_}}finally{try{h&&!h.done&&(a=v.return)&&a.call(v)}finally{if(n)throw n.error}}return f.length===r.length?f:void 0}},e.prototype.queryMetadata=function(t,r,n){var a=this.getStorenameForModel(t),i=this.namespaceResolver(t),f=r&&Kt.getPredicates(r),l=jf(this.schema.namespaces[i],t.name),v=f&&this.keyValueFromPredicate(f,l),h=n&&n.sort,g=n&&n.limit;return{storeName:a,namespaceName:i,queryByKey:v,predicates:f,hasSort:h,hasPagination:g}},e.prototype.delete=function(t,r){return ue(this,void 0,void 0,function(){var n,l,a,i,P,P,f,l,v,h,g,_,T,M,E,A,I,O,T,P;return se(this,function(k){switch(k.label){case 0:return[4,this.preOpCheck()];case 1:return k.sent(),n=[],ja(t)?(l=t,a=this.namespaceResolver(l),[4,this.query(l,r)]):[3,9];case 2:return i=k.sent(),r===void 0?[3,5]:[4,this.deleteTraverse(i,l,a,n)];case 3:return k.sent(),[4,this.deleteItem(n)];case 4:return k.sent(),P=n.reduce(function(R,D){var V=D.items;return R.concat(V)},[]),[2,[i,P]];case 5:return[4,this.deleteTraverse(i,l,a,n)];case 6:return k.sent(),[4,this.deleteItem(n)];case 7:return k.sent(),P=n.reduce(function(R,D){var V=D.items;return R.concat(V)},[]),[2,[i,P]];case 8:return[3,16];case 9:return f=t,l=Object.getPrototypeOf(f).constructor,v=this.namespaceResolver(l),h=this.getStorenameForModel(l),r?(g=this.getIndexKeyValuesFromModel(f),[4,this._get(h,g)]):[3,12];case 10:if(_=k.sent(),_===void 0)return T="Model instance not found in storage",Hd.warn(T,{model:f}),[2,[[f],[]]];if(M=Kt.getPredicates(r),E=M,A=E.predicates,I=E.type,O=Xa(_,I,A),!O)throw T="Conditional update failed",Hd.error(T,{model:_,condition:A}),new Error(T);return[4,this.deleteTraverse([f],l,v,n)];case 11:return k.sent(),[3,14];case 12:return[4,this.deleteTraverse([f],l,v,n)];case 13:k.sent(),k.label=14;case 14:return[4,this.deleteItem(n)];case 15:return k.sent(),P=n.reduce(function(R,D){var V=D.items;return R.concat(V)},[]),[2,[[f],P]];case 16:return[2]}})})},e.prototype.deleteTraverse=function(t,r,n,a){var i,f,l,v,h,g;return ue(this,void 0,void 0,function(){var _,M,E,A,I,O,T,P,k,R,D,V;return se(this,function(q){switch(q.label){case 0:_=["HAS_ONE","HAS_MANY"],q.label=1;case 1:q.trys.push([1,19,20,25]),i=ti(t),q.label=2;case 2:return[4,i.next()];case 3:if(f=q.sent(),!!f.done)return[3,18];M=f.value,E=this.schema.namespaces[n].models[r.name],A={builder:r,schema:E,pkField:hr(E)},I=zl.allFrom(A).filter(function($){return _.includes($.type)}),q.label=4;case 4:q.trys.push([4,11,12,17]),O=ti(I),q.label=5;case 5:return[4,O.next()];case 6:return T=q.sent(),!T.done?(P=T.value,k=P.createRemoteQueryObject(M),k===null?[3,9]:[4,this.query(P.remoteModelConstructor,Kt.createFromFlatEqualities(P.remoteDefinition,k))]):[3,10];case 7:return R=q.sent(),[4,this.deleteTraverse(R,P.remoteModelConstructor,n,a)];case 8:q.sent(),q.label=9;case 9:return[3,5];case 10:return[3,17];case 11:return D=q.sent(),h={error:D},[3,17];case 12:return q.trys.push([12,,15,16]),T&&!T.done&&(g=O.return)?[4,g.call(O)]:[3,14];case 13:q.sent(),q.label=14;case 14:return[3,16];case 15:if(h)throw h.error;return[7];case 16:return[7];case 17:return[3,2];case 18:return[3,25];case 19:return V=q.sent(),l={error:V},[3,25];case 20:return q.trys.push([20,,23,24]),f&&!f.done&&(v=i.return)?[4,v.call(i)]:[3,22];case 21:q.sent(),q.label=22;case 22:return[3,24];case 23:if(l)throw l.error;return[7];case 24:return[7];case 25:return a.push({storeName:ka(n,r.name),items:t}),[2]}})})},e}(),sf=new wt("DataStore"),Xq=7,Qq=3,ej=function(e){ys(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.safariCompatabilityMode=!1,r.canonicalKeyPath=function(n){return r.safariCompatabilityMode?n.length>1?n:n[0]:n},r}return t.prototype.preSetUpChecks=function(){return ue(this,void 0,void 0,function(){return se(this,function(r){switch(r.label){case 0:return[4,this.checkPrivate()];case 1:return r.sent(),[4,this.setSafariCompatabilityMode()];case 2:return r.sent(),[2]}})})},t.prototype.preOpCheck=function(){return ue(this,void 0,void 0,function(){return se(this,function(r){switch(r.label){case 0:return[4,this.checkPrivate()];case 1:return r.sent(),[2]}})})},t.prototype.initDb=function(){return ue(this,void 0,void 0,function(){var r=this;return se(this,function(n){switch(n.label){case 0:return[4,Wq(this.dbName,Qq,{upgrade:function(a,i,f,l){return ue(r,void 0,void 0,function(){var v,h,g,_,M,E,A,I,O,T,P,k,R,D,V,q,$=this;return se(this,function(F){switch(F.label){case 0:if(i===0)return Object.keys(this.schema.namespaces).forEach(function(z){var b=$.schema.namespaces[z];Object.keys(b.models).forEach(function(o){var u=ka(z,o);$.createObjectStoreForModel(a,z,u,o)})}),[2];if(!((i===1||i===2)&&f===3))return[3,16];F.label=1;case 1:F.trys.push([1,14,,15]),F.label=2;case 2:F.trys.push([2,11,12,13]),v=He(l.objectStoreNames),h=v.next(),F.label=3;case 3:return h.done?[3,10]:(g=h.value,_=l.objectStore(g),M="tmp_"+g,_.name=M,E=this.getNamespaceAndModelFromStorename(g),A=E.namespaceName,I=E.modelName,O=I in this.schema.namespaces[A].models,O?(T=this.createObjectStoreForModel(a,A,g,I),[4,_.openCursor()]):(a.deleteObjectStore(M),[3,9]));case 4:P=F.sent(),k=0,F.label=5;case 5:return P&&P.value?[4,T.put(P.value)]:[3,8];case 6:return F.sent(),[4,P.continue()];case 7:return P=F.sent(),k++,[3,5];case 8:a.deleteObjectStore(M),sf.debug(k+" "+g+" records migrated"),F.label=9;case 9:return h=v.next(),[3,3];case 10:return[3,13];case 11:return R=F.sent(),V={error:R},[3,13];case 12:try{h&&!h.done&&(q=v.return)&&q.call(v)}finally{if(V)throw V.error}return[7];case 13:return Object.keys(this.schema.namespaces).forEach(function(z){var b=$.schema.namespaces[z],o=new Set(l.objectStoreNames);Object.keys(b.models).map(function(u){return[u,ka(z,u)]}).filter(function(u){var c=Le(u,2),d=c[1];return!o.has(d)}).forEach(function(u){var c=Le(u,2),d=c[0],p=c[1];$.createObjectStoreForModel(a,z,p,d)})}),[3,15];case 14:throw D=F.sent(),sf.error("Error migrating IndexedDB data",D),l.abort(),D;case 15:return[2];case 16:return[2]}})})}})];case 1:return[2,n.sent()]}})})},t.prototype._get=function(r,n){return ue(this,void 0,void 0,function(){var a,i,f,l;return se(this,function(v){switch(v.label){case 0:return typeof r=="string"?(i=r,a=this.db.transaction(i,"readonly").store.index("byPk")):(f=r,a=f.index("byPk")),[4,a.get(this.canonicalKeyPath(n))];case 1:return l=v.sent(),[2,l]}})})},t.prototype.clear=function(){var r;return ue(this,void 0,void 0,function(){return se(this,function(n){switch(n.label){case 0:return[4,this.checkPrivate()];case 1:return n.sent(),(r=this.db)===null||r===void 0||r.close(),[4,Jq(this.dbName)];case 2:return n.sent(),this.db=void 0,this.initPromise=void 0,[2]}})})},t.prototype.save=function(r,n){var a,i;return ue(this,void 0,void 0,function(){var f,l,v,h,g,_,M,E,A,I,O,T,P,k,R,D,V,q,$,F,z,b;return se(this,function(o){switch(o.label){case 0:return[4,this.checkPrivate()];case 1:return o.sent(),f=this.saveMetadata(r),l=f.storeName,v=f.set,h=f.connectionStoreNames,g=f.modelKeyValues,_=this.db.transaction(Wt([l],Array.from(v.values())),"readwrite"),M=_.objectStore(l),[4,this._get(M,g)];case 2:E=o.sent(),this.validateSaveCondition(n,E),A=[],o.label=3;case 3:o.trys.push([3,11,12,17]),I=ti(h),o.label=4;case 4:return[4,I.next()];case 5:return O=o.sent(),!O.done?(T=O.value,P=T.storeName,k=T.item,R=T.instance,D=T.keys,V=_.objectStore(P),q=D.map(function(u){return k[u]}),[4,this._get(V,q)]):[3,10];case 6:return $=o.sent(),F=$?xt.UPDATE:xt.INSERT,_c(q,g)||F===xt.INSERT?[4,V.index("byPk").getKey(this.canonicalKeyPath(q))]:[3,9];case 7:return z=o.sent(),[4,V.put(k,z)];case 8:o.sent(),A.push([R,F]),o.label=9;case 9:return[3,4];case 10:return[3,17];case 11:return b=o.sent(),a={error:b},[3,17];case 12:return o.trys.push([12,,15,16]),O&&!O.done&&(i=I.return)?[4,i.call(I)]:[3,14];case 13:o.sent(),o.label=14;case 14:return[3,16];case 15:if(a)throw a.error;return[7];case 16:return[7];case 17:return[4,_.done];case 18:return o.sent(),[2,A]}})})},t.prototype.query=function(r,n,a){return ue(this,void 0,void 0,function(){var i,f,l,v,h,g,_,M,E=this;return se(this,function(A){switch(A.label){case 0:return[4,this.checkPrivate()];case 1:return A.sent(),i=this.queryMetadata(r,n,a),f=i.storeName,l=i.namespaceName,v=i.queryByKey,h=i.predicates,g=i.hasSort,_=i.hasPagination,[4,function(){return ue(E,void 0,void 0,function(){var I,O,T;return se(this,function(P){switch(P.label){case 0:return v?[4,this.getByKey(f,v)]:[3,2];case 1:return I=P.sent(),[2,I?[I]:[]];case 2:return h?[4,this.filterOnPredicate(f,h)]:[3,4];case 3:return O=P.sent(),[2,this.inMemoryPagination(O,a)];case 4:return g?[4,this.getAll(f)]:[3,6];case 5:return T=P.sent(),[2,this.inMemoryPagination(T,a)];case 6:return _?[2,this.enginePagination(f,a)]:[2,this.getAll(f)]}})})}()];case 2:return M=A.sent(),[4,this.load(l,r.name,M)];case 3:return[2,A.sent()]}})})},t.prototype.queryOne=function(r,n){return n===void 0&&(n=qi.FIRST),ue(this,void 0,void 0,function(){var a,i,f;return se(this,function(l){switch(l.label){case 0:return[4,this.checkPrivate()];case 1:return l.sent(),a=this.getStorenameForModel(r),[4,this.db.transaction([a],"readonly").objectStore(a).openCursor(void 0,n===qi.FIRST?"next":"prev")];case 2:return i=l.sent(),f=i?i.value:void 0,[2,f&&this.modelInstanceCreator(r,f)]}})})},t.prototype.batchSave=function(r,n){return ue(this,void 0,void 0,function(){var a,i,f,l,v,h,g,_,M,E,A,I,O,T,P=this;return se(this,function(k){switch(k.label){case 0:return[4,this.checkPrivate()];case 1:if(k.sent(),n.length===0)return[2,[]];a=r.name,i=this.namespaceResolver(r),f=this.getStorenameForModel(r),l=[],v=this.db.transaction(f,"readwrite"),h=v.store,g=function(R){var D,V,q,$,F,z,b;return se(this,function(o){switch(o.label){case 0:return D=_.modelInstanceCreator(r,R),V=wm(a,D,_.schema.namespaces[i],_.modelInstanceCreator,_.getModelConstructorByModelName),q=_.getIndexKeyValuesFromModel(D),$=R._deleted,F=h.index("byPk"),[4,F.getKey(_.canonicalKeyPath(q))];case 1:return z=o.sent(),$?[3,3]:(b=V.find(function(u){var c=u.instance,d=P.getIndexKeyValuesFromModel(c);return _c(d,q)}).instance,l.push([b,z?xt.UPDATE:xt.INSERT]),[4,h.put(b,z)]);case 2:return o.sent(),[3,5];case 3:return l.push([R,xt.DELETE]),z?[4,h.delete(z)]:[3,5];case 4:o.sent(),o.label=5;case 5:return[2]}})},_=this,k.label=2;case 2:k.trys.push([2,7,8,9]),M=He(n),E=M.next(),k.label=3;case 3:return E.done?[3,6]:(A=E.value,[5,g(A)]);case 4:k.sent(),k.label=5;case 5:return E=M.next(),[3,3];case 6:return[3,9];case 7:return I=k.sent(),O={error:I},[3,9];case 8:try{E&&!E.done&&(T=M.return)&&T.call(M)}finally{if(O)throw O.error}return[7];case 9:return[4,v.done];case 10:return k.sent(),[2,l]}})})},t.prototype.deleteItem=function(r){var n,a,i,f;return ue(this,void 0,void 0,function(){var l,v,h,g,_,M,E,A,I,O,T,P,k,R,D,V;return se(this,function(q){switch(q.label){case 0:l=r.map(function($){var F=$.storeName;return F}),v=this.db.transaction(Wt(l),"readwrite"),q.label=1;case 1:q.trys.push([1,22,23,28]),h=ti(r),q.label=2;case 2:return[4,h.next()];case 3:if(g=q.sent(),!!g.done)return[3,21];_=g.value,M=_.storeName,E=_.items,A=v.objectStore(M),q.label=4;case 4:q.trys.push([4,14,15,20]),I=ti(E),q.label=5;case 5:return[4,I.next()];case 6:return O=q.sent(),!O.done?(T=O.value,T?(P=void 0,typeof T!="object"?[3,8]:(k=this.getIndexKeyValuesFromModel(T),[4,A.index("byPk").getKey(this.canonicalKeyPath(k))])):[3,12]):[3,13];case 7:return P=q.sent(),[3,10];case 8:return R=T.toString(),[4,A.index("byPk").getKey(R)];case 9:P=q.sent(),q.label=10;case 10:return P===void 0?[3,12]:[4,A.delete(P)];case 11:q.sent(),q.label=12;case 12:return[3,5];case 13:return[3,20];case 14:return D=q.sent(),i={error:D},[3,20];case 15:return q.trys.push([15,,18,19]),O&&!O.done&&(f=I.return)?[4,f.call(I)]:[3,17];case 16:q.sent(),q.label=17;case 17:return[3,19];case 18:if(i)throw i.error;return[7];case 19:return[7];case 20:return[3,2];case 21:return[3,28];case 22:return V=q.sent(),n={error:V},[3,28];case 23:return q.trys.push([23,,26,27]),g&&!g.done&&(a=h.return)?[4,a.call(h)]:[3,25];case 24:q.sent(),q.label=25;case 25:return[3,27];case 26:if(n)throw n.error;return[7];case 27:return[7];case 28:return[2]}})})},t.prototype.checkPrivate=function(){return ue(this,void 0,void 0,function(){var r;return se(this,function(n){switch(n.label){case 0:return[4,zL().then(function(a){return a})];case 1:return r=n.sent(),r?(sf.error("IndexedDB not supported in this browser's private mode"),[2,Promise.reject("IndexedDB not supported in this browser's private mode")]):[2,Promise.resolve()]}})})},t.prototype.setSafariCompatabilityMode=function(){return ue(this,void 0,void 0,function(){var r;return se(this,function(n){switch(n.label){case 0:return r=this,[4,KL()];case 1:return r.safariCompatabilityMode=n.sent(),this.safariCompatabilityMode===!0&&sf.debug("IndexedDB Adapter is running in Safari Compatability Mode"),[2]}})})},t.prototype.getNamespaceAndModelFromStorename=function(r){var n=Le(r.split("_")),a=n[0],i=n.slice(1);return{namespaceName:a,modelName:i.join("_")}},t.prototype.createObjectStoreForModel=function(r,n,a,i){var f=r.createObjectStore(a,{autoIncrement:!0}),l=this.schema.namespaces[n].relationships[i].indexes;return l.forEach(function(v){var h=Le(v,3),g=h[0],_=h[1],M=h[2];f.createIndex(g,_,M)}),f},t.prototype.getByKey=function(r,n){return ue(this,void 0,void 0,function(){return se(this,function(a){switch(a.label){case 0:return[4,this._get(r,n)];case 1:return[2,a.sent()]}})})},t.prototype.getAll=function(r){return ue(this,void 0,void 0,function(){return se(this,function(n){switch(n.label){case 0:return[4,this.db.getAll(r)];case 1:return[2,n.sent()]}})})},t.prototype.matchingIndexQueries=function(r,n,a){var i,f,l,v,h=this,g=[],_=new Map;try{for(var M=He(n),E=M.next();!E.done;E=M.next()){var A=E.value;_.set(String(A.field),A)}}catch(R){i={error:R}}finally{try{E&&!E.done&&(f=M.return)&&f.call(M)}finally{if(i)throw i.error}}var I=a.objectStore(r),O=function(R){var D,V,q=I.index(R),$=Array.isArray(q.keyPath)?q.keyPath:[q.keyPath],F=[];try{for(var z=(D=void 0,He($)),b=z.next();!b.done;b=z.next()){var o=b.value,u=_.get(o);if(u&&u.operand!==null&&u.operand!==void 0)F.push(u.operand);else break}}catch(c){D={error:c}}finally{try{b&&!b.done&&(V=z.return)&&V.call(z)}finally{if(D)throw D.error}}F.length===$.length&&g.push(function(){return h.db.transaction(r).objectStore(r).index(R).getAll(h.canonicalKeyPath(F))})};try{for(var T=He(I.indexNames),P=T.next();!P.done;P=T.next()){var k=P.value;O(k)}}catch(R){l={error:R}}finally{try{P&&!P.done&&(v=T.return)&&v.call(T)}finally{if(l)throw l.error}}return g},t.prototype.baseQueryIndex=function(r,n,a){return ue(this,void 0,void 0,function(){var i,f,l,v,h,g,_,M,E=this;return se(this,function(A){switch(A.label){case 0:for(i=n.predicates,f=n.type;i.length===1&&du(i[0])&&i[0].type!=="not";)f=i[0].type,i=i[0].predicates;return l=i.filter(function(I){return vs(I)&&I.operator==="eq"}),v=a||this.db.transaction(r),h={},f!=="or"?[3,2]:[4,Promise.all(i.filter(function(I){return du(I)&&I.type==="and"}).map(function(I){return E.baseQueryIndex(r,I,v)})).then(function(I){return I.filter(function(O){return O.indexedQueries.length===1}).map(function(O){return O.indexedQueries})})];case 1:return g=A.sent(),_=i.filter(function(I){return vs(I)}).map(function(I){return E.matchingIndexQueries(r,[I],v)}),M=Wt(g,_).map(function(I){return I[0]}).filter(function(I){return I}),i.length>M.length?h={groupType:null,indexedQueries:[]}:h={groupType:"or",indexedQueries:M},[3,3];case 2:f==="and"?h={groupType:f,indexedQueries:this.matchingIndexQueries(r,l,v)}:h={groupType:null,indexedQueries:[]},A.label=3;case 3:return a?[3,5]:[4,v.done];case 4:A.sent(),A.label=5;case 5:return[2,h]}})})},t.prototype.filterOnPredicate=function(r,n){return ue(this,void 0,void 0,function(){var a,i,f,l,v,h,g,_,M,E,A,I,O,T,P,k,R,D,V,q,$;return se(this,function(F){switch(F.label){case 0:return a=n.predicates,i=n.type,[4,this.baseQueryIndex(r,n)];case 1:return f=F.sent(),l=f.groupType,v=f.indexedQueries,l==="and"&&v.length>0?[4,v[0]()]:[3,3];case 2:return h=F.sent(),[3,14];case 3:if(!(l==="or"&&v.length>0&&v.length<=Xq))return[3,12];g=new Map,F.label=4;case 4:F.trys.push([4,9,10,11]),_=He(v),M=_.next(),F.label=5;case 5:return M.done?[3,8]:(E=M.value,[4,E()]);case 6:A=F.sent();try{for(I=(q=void 0,He(A)),O=I.next();!O.done;O=I.next())T=O.value,P=JSON.stringify(T),g.set(P,T)}catch(z){q={error:z}}finally{try{O&&!O.done&&($=I.return)&&$.call(I)}finally{if(q)throw q.error}}F.label=7;case 7:return M=_.next(),[3,5];case 8:return[3,11];case 9:return k=F.sent(),D={error:k},[3,11];case 10:try{M&&!M.done&&(V=_.return)&&V.call(_)}finally{if(D)throw D.error}return[7];case 11:return h=Array.from(g.values()),[3,14];case 12:return[4,this.getAll(r)];case 13:h=F.sent(),F.label=14;case 14:return R=a?h.filter(function(z){return Xa(z,i,a)}):h,[2,R]}})})},t.prototype.inMemoryPagination=function(r,n){return _m(r,n)},t.prototype.enginePagination=function(r,n){return ue(this,void 0,void 0,function(){var a,i,f,l,v,h,g,_,M;return se(this,function(E){switch(E.label){case 0:return n?(i=n.page,f=i===void 0?0:i,l=n.limit,v=l===void 0?0:l,h=Math.max(0,f*v)||0,[4,this.db.transaction(r).objectStore(r).openCursor()]):[3,7];case 1:return g=E.sent(),g&&h>0?[4,g.advance(h)]:[3,3];case 2:E.sent(),E.label=3;case 3:_=[],M=typeof v=="number"&&v>0,E.label=4;case 4:return g&&g.value?(_.push(g.value),M&&_.length===v?[3,6]:[4,g.continue()]):[3,6];case 5:return g=E.sent(),[3,4];case 6:return a=_,[3,9];case 7:return[4,this.db.getAll(r)];case 8:a=E.sent(),E.label=9;case 9:return[2,a]}})})},t}(pM);const tj=new ej;var rj=function(){function e(){var t=this;this.db=new Map,this.getAllKeys=function(){return ue(t,void 0,void 0,function(){return se(this,function(r){return[2,Array.from(this.db.keys())]})})},this.multiGet=function(r){return ue(t,void 0,void 0,function(){var n=this;return se(this,function(a){return[2,r.reduce(function(i,f){return i.push([f,n.db.get(f)]),i},[])]})})},this.multiRemove=function(r,n){return ue(t,void 0,void 0,function(){var a=this;return se(this,function(i){return r.forEach(function(f){return a.db.delete(f)}),typeof n=="function"&&n(),[2]})})},this.multiSet=function(r,n){return ue(t,void 0,void 0,function(){var a=this;return se(this,function(i){return r.forEach(function(f){var l=Le(f,2),v=l[0],h=l[1];a.setItem(v,h)}),typeof n=="function"&&n(),[2]})})},this.setItem=function(r,n){return ue(t,void 0,void 0,function(){return se(this,function(a){return[2,this.db.set(r,n)]})})},this.removeItem=function(r){return ue(t,void 0,void 0,function(){return se(this,function(n){return[2,this.db.delete(r)]})})},this.getItem=function(r){return ue(t,void 0,void 0,function(){return se(this,function(n){return[2,this.db.get(r)]})})}}return e}();function nj(){return new rj}var Gd="@AmplifyDatastore",ij="Collection",dw="Data",Wd=new Map,aj=function(){function e(){this._collectionInMemoryIndex=new Map,this.storage=nj()}return e.prototype.getCollectionIndex=function(t){return this._collectionInMemoryIndex.has(t)||this._collectionInMemoryIndex.set(t,new Map),this._collectionInMemoryIndex.get(t)},e.prototype.getMonotonicFactory=function(t){return Wd.has(t)||Wd.set(t,eM()),Wd.get(t)},e.prototype.init=function(){return ue(this,void 0,void 0,function(){var t,r,n,a,i,f,l,v,h,g,_,M,E,A,I,O,T,P,k,R;return se(this,function(D){switch(D.label){case 0:return this._collectionInMemoryIndex.clear(),[4,this.storage.getAllKeys()];case 1:t=D.sent(),r=[],D.label=2;case 2:D.trys.push([2,12,13,14]),n=He(t),a=n.next(),D.label=3;case 3:return a.done?[3,11]:(i=a.value,f=Le(i.split("::"),5),l=f[0],v=f[1],h=f[2],g=f[3],_=f[4],l!==Gd?[3,10]:h!==dw?[3,9]:(M=void 0,_!==void 0?[3,7]:(E=g,A=this.getMonotonicFactory(v)(),I=this.getLegacyKeyForItem(v,E),O=this.getKeyForItem(v,E,A),[4,this.storage.getItem(I)])));case 4:return T=D.sent(),[4,this.storage.setItem(O,T)];case 5:return D.sent(),[4,this.storage.removeItem(I)];case 6:return D.sent(),M=A,[3,8];case 7:M=g,D.label=8;case 8:return this.getCollectionIndex(v).set(_,M),[3,10];case 9:h===ij&&r.push(i),D.label=10;case 10:return a=n.next(),[3,3];case 11:return[3,14];case 12:return P=D.sent(),k={error:P},[3,14];case 13:try{a&&!a.done&&(R=n.return)&&R.call(n)}finally{if(k)throw k.error}return[7];case 14:return r.length>0?[4,this.storage.multiRemove(r)]:[3,16];case 15:D.sent(),D.label=16;case 16:return[2]}})})},e.prototype.save=function(t,r,n,a){var i,f;return ue(this,void 0,void 0,function(){var l,v,h;return se(this,function(g){switch(g.label){case 0:return l=wv(n),v=((i=this.getCollectionIndex(r))===null||i===void 0?void 0:i.get(l))||this.getMonotonicFactory(r)(),h=this.getKeyForItem(r,a,v),(f=this.getCollectionIndex(r))===null||f===void 0||f.set(a,v),[4,this.storage.setItem(h,JSON.stringify(t))];case 1:return g.sent(),[2]}})})},e.prototype.batchSave=function(t,r,n){return ue(this,void 0,void 0,function(){var a,i,f,l,v,h,g,_,M,E,A,I,O,T,P,k,R,D,V,q,$=this;return se(this,function(F){switch(F.label){case 0:if(r.length===0)return[2,[]];a=[],i=this.getCollectionIndex(t),f=new Set,l=new Set,v=[],h={},g=function(z){var b=n.map(function(d){return z[d]}),o=z._deleted,u=i.get(b.join(ta))||_.getMonotonicFactory(t)(),c=_.getKeyForItem(t,b.join(ta),u);v.push(c),h[c]={ulid:u,model:z},o?f.add(c):l.add(c)},_=this;try{for(M=He(r),E=M.next();!E.done;E=M.next())A=E.value,g(A)}catch(z){R={error:z}}finally{try{E&&!E.done&&(D=M.return)&&D.call(M)}finally{if(R)throw R.error}}return[4,this.storage.multiGet(v)];case 1:return I=F.sent(),O=I.filter(function(z){var b=Le(z,2),o=b[1];return!!o}).reduce(function(z,b){var o=Le(b,1),u=o[0];return z.add(u)},new Set),[4,new Promise(function(z,b){if(f.size===0){z();return}var o=Array.from(f);o.forEach(function(u){var c=n.map(function(d){return h[u].model[d]}).join(ta);i.delete(c)}),$.storage.multiRemove(o,function(u){u&&u.length>0?b(u):z()})})];case 2:return F.sent(),[4,new Promise(function(z,b){if(l.size===0){z();return}var o=Array.from(l).map(function(u){return[u,JSON.stringify(h[u].model)]});l.forEach(function(u){var c=h[u],d=c.model,p=c.ulid,w=n.map(function(S){return d[S]}).join(ta);i.set(w,p)}),$.storage.multiSet(o,function(u){u&&u.length>0?b(u):z()})})];case 3:F.sent();try{for(T=He(v),P=T.next();!P.done;P=T.next())k=P.value,f.has(k)&&O.has(k)?a.push([h[k].model,xt.DELETE]):l.has(k)&&a.push([h[k].model,O.has(k)?xt.UPDATE:xt.INSERT])}catch(z){V={error:z}}finally{try{P&&!P.done&&(q=T.return)&&q.call(T)}finally{if(V)throw V.error}}return[2,a]}})})},e.prototype.get=function(t,r){return ue(this,void 0,void 0,function(){var n,a,i,f;return se(this,function(l){switch(l.label){case 0:return n=this.getCollectionIndex(r).get(t),a=this.getKeyForItem(r,t,n),[4,this.storage.getItem(a)];case 1:return i=l.sent(),f=i&&JSON.parse(i),[2,f]}})})},e.prototype.getOne=function(t,r){return ue(this,void 0,void 0,function(){var n,a,i,f,l,v,h,g;return se(this,function(_){switch(_.label){case 0:return n=this.getCollectionIndex(r),a=Le(t===qi.FIRST?function(){var M,E,A,I,O;try{for(var T=He(n),P=T.next();!P.done;P=T.next()){A=Le(P.value,2),I=A[0],O=A[1];break}}catch(k){M={error:k}}finally{try{P&&!P.done&&(E=T.return)&&E.call(T)}finally{if(M)throw M.error}}return[I,O]}():function(){var M,E,A,I,O;try{for(var T=He(n),P=T.next();!P.done;P=T.next())A=Le(P.value,2),I=A[0],O=A[1]}catch(k){M={error:k}}finally{try{P&&!P.done&&(E=T.return)&&E.call(T)}finally{if(M)throw M.error}}return[I,O]}(),2),i=a[0],f=a[1],l=this.getKeyForItem(r,i,f),h=l,h?[4,this.storage.getItem(l)]:[3,2];case 1:h=_.sent(),_.label=2;case 2:return v=h,g=v&&JSON.parse(v)||void 0,[2,g]}})})},e.prototype.getAll=function(t,r){return ue(this,void 0,void 0,function(){var n,a,i,f,l,v,h,g,_,M,E,A,I,O,T,P,k,R,D;return se(this,function(V){switch(V.label){case 0:n=this.getCollectionIndex(t),a=r||{},i=a.page,f=i===void 0?0:i,l=a.limit,v=l===void 0?0:l,h=Math.max(0,f*v)||0,g=v>0?h+v:void 0,_=[],M=0;try{for(E=He(n),A=E.next();!A.done&&(I=Le(A.value,2),O=I[0],T=I[1],M++,!(!(M<=h)&&(_.push(this.getKeyForItem(t,O,T)),M===g)));A=E.next());}catch(q){R={error:q}}finally{try{A&&!A.done&&(D=E.return)&&D.call(E)}finally{if(R)throw R.error}}return[4,this.storage.multiGet(_)];case 1:return P=V.sent(),k=P.filter(function(q){var $=Le(q,2),F=$[1];return F}).map(function(q){var $=Le(q,2),F=$[1];return JSON.parse(F)}),[2,k]}})})},e.prototype.delete=function(t,r){return ue(this,void 0,void 0,function(){var n,a;return se(this,function(i){switch(i.label){case 0:return n=this.getCollectionIndex(r).get(t),a=this.getKeyForItem(r,t,n),this.getCollectionIndex(r).delete(t),[4,this.storage.removeItem(a)];case 1:return i.sent(),[2]}})})},e.prototype.clear=function(){return ue(this,void 0,void 0,function(){var t,r;return se(this,function(n){switch(n.label){case 0:return[4,this.storage.getAllKeys()];case 1:return t=n.sent(),r=t.filter(function(a){return a.startsWith(Gd)}),[4,this.storage.multiRemove(r)];case 2:return n.sent(),this._collectionInMemoryIndex.clear(),[2]}})})},e.prototype.getKeyForItem=function(t,r,n){return this.getKeyPrefixForStoreItems(t)+"::"+n+"::"+r},e.prototype.getLegacyKeyForItem=function(t,r){return this.getKeyPrefixForStoreItems(t)+"::"+r},e.prototype.getKeyPrefixForStoreItems=function(t){return Gd+"::"+t+"::"+dw},e}();const oj=aj;var sj=function(e){ys(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.preSetUpChecks=function(){return ue(this,void 0,void 0,function(){return se(this,function(r){return[2]})})},t.prototype.preOpCheck=function(){return ue(this,void 0,void 0,function(){return se(this,function(r){return[2]})})},t.prototype.initDb=function(){return ue(this,void 0,void 0,function(){var r;return se(this,function(n){switch(n.label){case 0:return r=new oj,[4,r.init()];case 1:return n.sent(),[2,r]}})})},t.prototype.clear=function(){return ue(this,void 0,void 0,function(){return se(this,function(r){switch(r.label){case 0:return[4,this.db.clear()];case 1:return r.sent(),this.db=void 0,this.initPromise=void 0,[2]}})})},t.prototype.batchSave=function(r,n){return ue(this,void 0,void 0,function(){var a,i,f,l,v,h,g,_,M,E,A,I,O=this;return se(this,function(T){switch(T.label){case 0:if(n.length===0)return[2,[]];a=r.name,i=this.namespaceResolver(r),f=ka(i,a),l=jf(this.schema.namespaces[i],a),v=[],h=function(P){var k=g.modelInstanceCreator(r,P),R=wm(a,k,g.schema.namespaces[i],g.modelInstanceCreator,g.getModelConstructorByModelName),D=g.getIndexKeyValuesPath(k),V=R.find(function(q){var $=q.instance,F=O.getIndexKeyValuesPath($);return _c([F],[D])}).instance;v.push(V)},g=this;try{for(_=He(n),M=_.next();!M.done;M=_.next())E=M.value,h(E)}catch(P){A={error:P}}finally{try{M&&!M.done&&(I=_.return)&&I.call(_)}finally{if(A)throw A.error}}return[4,this.db.batchSave(f,v,l)];case 1:return[2,T.sent()]}})})},t.prototype._get=function(r,n){return ue(this,void 0,void 0,function(){var a;return se(this,function(i){switch(i.label){case 0:return a=n.join(ta),[4,this.db.get(a,r)];case 1:return[2,i.sent()]}})})},t.prototype.save=function(r,n){var a,i;return ue(this,void 0,void 0,function(){var f,l,v,h,g,_,M,E,A,I,O,T,P,k,R,D,V;return se(this,function(q){switch(q.label){case 0:return f=this.saveMetadata(r),l=f.storeName,v=f.connectionStoreNames,h=f.modelKeyValues,[4,this._get(l,h)];case 1:g=q.sent(),this.validateSaveCondition(n,g),_=[],q.label=2;case 2:q.trys.push([2,9,10,15]),M=ti(v),q.label=3;case 3:return[4,M.next()];case 4:return E=q.sent(),!E.done?(A=E.value,I=A.storeName,O=A.item,T=A.instance,P=A.keys,k=P.map(function($){return O[$]}),[4,this._get(I,k)]):[3,8];case 5:return R=q.sent(),D=R?xt.UPDATE:xt.INSERT,_c(k,h)||D===xt.INSERT?[4,this.db.save(O,I,P,k.join(ta))]:[3,7];case 6:q.sent(),_.push([T,D]),q.label=7;case 7:return[3,3];case 8:return[3,15];case 9:return V=q.sent(),a={error:V},[3,15];case 10:return q.trys.push([10,,13,14]),E&&!E.done&&(i=M.return)?[4,i.call(M)]:[3,12];case 11:q.sent(),q.label=12;case 12:return[3,14];case 13:if(a)throw a.error;return[7];case 14:return[7];case 15:return[2,_]}})})},t.prototype.query=function(r,n,a){return ue(this,void 0,void 0,function(){var i,f,l,v,h,g,_,M,E=this;return se(this,function(A){switch(A.label){case 0:return i=this.queryMetadata(r,n,a),f=i.storeName,l=i.namespaceName,v=i.queryByKey,h=i.predicates,g=i.hasSort,_=i.hasPagination,[4,function(){return ue(E,void 0,void 0,function(){var I,O,T,P;return se(this,function(k){switch(k.label){case 0:return v?(I=v.join(ta),[4,this.getByKey(f,I)]):[3,2];case 1:return O=k.sent(),[2,O?[O]:[]];case 2:return h?[4,this.filterOnPredicate(f,h)]:[3,4];case 3:return T=k.sent(),[2,this.inMemoryPagination(T,a)];case 4:return g||_?[4,this.getAll(f)]:[3,6];case 5:return P=k.sent(),[2,this.inMemoryPagination(P,a)];case 6:return[2,this.getAll(f)]}})})}()];case 1:return M=A.sent(),[4,this.load(l,r.name,M)];case 2:return[2,A.sent()]}})})},t.prototype.getByKey=function(r,n){return ue(this,void 0,void 0,function(){return se(this,function(a){switch(a.label){case 0:return[4,this.db.get(n,r)];case 1:return[2,a.sent()]}})})},t.prototype.getAll=function(r){return ue(this,void 0,void 0,function(){return se(this,function(n){switch(n.label){case 0:return[4,this.db.getAll(r)];case 1:return[2,n.sent()]}})})},t.prototype.filterOnPredicate=function(r,n){return ue(this,void 0,void 0,function(){var a,i,f,l;return se(this,function(v){switch(v.label){case 0:return a=n.predicates,i=n.type,[4,this.getAll(r)];case 1:return f=v.sent(),l=a?f.filter(function(h){return Xa(h,i,a)}):f,[2,l]}})})},t.prototype.inMemoryPagination=function(r,n){return _m(r,n)},t.prototype.queryOne=function(r,n){return n===void 0&&(n=qi.FIRST),ue(this,void 0,void 0,function(){var a,i;return se(this,function(f){switch(f.label){case 0:return a=this.getStorenameForModel(r),[4,this.db.getOne(n,a)];case 1:return i=f.sent(),[2,i&&this.modelInstanceCreator(r,i)]}})})},t.prototype.deleteItem=function(r){var n,a,i,f;return ue(this,void 0,void 0,function(){var l,v,h,g,_,M,E,A,I,O,T;return se(this,function(P){switch(P.label){case 0:P.trys.push([0,17,18,23]),l=ti(r),P.label=1;case 1:return[4,l.next()];case 2:if(v=P.sent(),!!v.done)return[3,16];h=v.value,g=h.storeName,_=h.items,P.label=3;case 3:P.trys.push([3,9,10,15]),M=ti(_),P.label=4;case 4:return[4,M.next()];case 5:return E=P.sent(),!E.done?(A=E.value,A?typeof A!="object"?[3,7]:(I=this.getIndexKeyValuesPath(A),[4,this.db.delete(I,g)]):[3,7]):[3,8];case 6:P.sent(),P.label=7;case 7:return[3,4];case 8:return[3,15];case 9:return O=P.sent(),i={error:O},[3,15];case 10:return P.trys.push([10,,13,14]),E&&!E.done&&(f=M.return)?[4,f.call(M)]:[3,12];case 11:P.sent(),P.label=12;case 12:return[3,14];case 13:if(i)throw i.error;return[7];case 14:return[7];case 15:return[3,1];case 16:return[3,23];case 17:return T=P.sent(),n={error:T},[3,23];case 18:return P.trys.push([18,,21,22]),v&&!v.done&&(a=l.return)?[4,a.call(l)]:[3,20];case 19:P.sent(),P.label=20;case 20:return[3,22];case 21:if(n)throw n.error;return[7];case 22:return[7];case 23:return[2]}})})},t.prototype.getIndexKeyValuesPath=function(r){return this.getIndexKeyValuesFromModel(r).join(ta)},t}(pM);const uj=new sj;var fj=function(){var e=Kr().isBrowser;return e&&window.indexedDB||n2()&&self.indexedDB?tj:uj};const cj=fj;var lj=new wt("DataStore"),vw=function(){function e(t,r,n,a,i,f){this.schema=t,this.namespaceResolver=r,this.getModelConstructorByModelName=n,this.modelInstanceCreator=a,this.adapter=i,this.sessionId=f,this.adapter=this.adapter||cj(),this.pushStream=new xq}return e.getNamespace=function(){var t={name:Q4,relationships:{},enums:{},models:{},nonModels:{}};return t},e.prototype.init=function(){return ue(this,void 0,void 0,function(){var t,r;return se(this,function(n){switch(n.label){case 0:return this.initialized===void 0?[3,2]:[4,this.initialized];case 1:return n.sent(),[2];case 2:return lj.debug("Starting Storage"),this.initialized=new Promise(function(a,i){t=a,r=i}),this.adapter.setUp(this.schema,this.namespaceResolver,this.modelInstanceCreator,this.getModelConstructorByModelName,this.sessionId).then(t,r),[4,this.initialized];case 3:return n.sent(),[2]}})})},e.prototype.save=function(t,r,n,a){return ue(this,void 0,void 0,function(){var i,f=this;return se(this,function(l){switch(l.label){case 0:return[4,this.init()];case 1:if(l.sent(),!this.adapter)throw new Error("Storage adapter is missing");return[4,this.adapter.save(t,r)];case 2:return i=l.sent(),i.forEach(function(v){var h=Le(v,2),g=h[0],_=h[1],M=!!n,E;if((_===xt.UPDATE||_===xt.INSERT)&&!M&&(E=f.getChangedFieldsInput(t,g,a),E===null))return i;var A=E||g,I=Object.getPrototypeOf(g).constructor;f.pushStream.next({model:I,opType:_,element:A,mutator:n,condition:r&&Kt.getPredicates(r,!1)||null,savedElement:g})}),[2,i]}})})},e.prototype.delete=function(t,r,n){return ue(this,void 0,void 0,function(){var a,i,f,l,v,h,g,_=this;return se(this,function(M){switch(M.label){case 0:return[4,this.init()];case 1:if(M.sent(),!this.adapter)throw new Error("Storage adapter is missing");return[4,this.adapter.delete(t,r)];case 2:return g=Le.apply(void 0,[M.sent(),2]),a=g[0],i=g[1],f=ja(t)?t:Object.getPrototypeOf(t||{}).constructor,l=this.namespaceResolver(f),v=this.schema.namespaces[l].models[f.name],h=new Set(a.map(function(E){var A=ai(v,E);return A})),!ja(t)&&!Array.isArray(i)&&(i=[i]),i.forEach(function(E){var A=Object.getPrototypeOf(E).constructor,I;if(!ja(t)){var O=ai(v,E);I=h.has(O)?Kt.getPredicates(r,!1):void 0}_.pushStream.next({model:A,opType:xt.DELETE,element:E,mutator:n,condition:I||null})}),[2,[a,i]]}})})},e.prototype.query=function(t,r,n){return ue(this,void 0,void 0,function(){return se(this,function(a){switch(a.label){case 0:return[4,this.init()];case 1:if(a.sent(),!this.adapter)throw new Error("Storage adapter is missing");return[4,this.adapter.query(t,r,n)];case 2:return[2,a.sent()]}})})},e.prototype.queryOne=function(t,r){return r===void 0&&(r=qi.FIRST),ue(this,void 0,void 0,function(){return se(this,function(n){switch(n.label){case 0:return[4,this.init()];case 1:if(n.sent(),!this.adapter)throw new Error("Storage adapter is missing");return[4,this.adapter.queryOne(t,r)];case 2:return[2,n.sent()]}})})},e.prototype.observe=function(t,r,n){var a=!t,i=r&&Kt.getPredicates(r,!1)||{},f=i.predicates,l=i.type,v=this.pushStream.observable.filter(function(h){var g=h.mutator;return!n||g!==n}).map(function(h){h.mutator;var g=Aa(h,["mutator"]);return g});return a||(v=v.filter(function(h){var g=h.model,_=h.element;return t!==g?!1:!!f&&!!l?Xa(_,l,f):!0})),v},e.prototype.clear=function(t){return t===void 0&&(t=!0),ue(this,void 0,void 0,function(){return se(this,function(r){switch(r.label){case 0:if(this.initialized=void 0,!this.adapter)throw new Error("Storage adapter is missing");return[4,this.adapter.clear()];case 1:return r.sent(),t&&this.pushStream.complete(),[2]}})})},e.prototype.batchSave=function(t,r,n){return ue(this,void 0,void 0,function(){var a,i=this;return se(this,function(f){switch(f.label){case 0:return[4,this.init()];case 1:if(f.sent(),!this.adapter)throw new Error("Storage adapter is missing");return[4,this.adapter.batchSave(t,r)];case 2:return a=f.sent(),a.forEach(function(l){var v=Le(l,2),h=v[0],g=v[1];i.pushStream.next({model:t,opType:g,element:h,mutator:n,condition:null})}),[2,a]}})})},e.prototype.getChangedFieldsInput=function(t,r,n){var a,i,f,l=n&&n.length;if(!l)return null;var v=Le(n,2),h=v[0],g=v[1],_={},M=h.map(function(b){return b.path&&b.path[0]}),E=Object.getPrototypeOf(t).constructor,A=this.namespaceResolver(E),I=this.schema.namespaces[A].models[E.name].fields,O=((f=this.schema.namespaces[A].keys)===null||f===void 0?void 0:f[E.name])||{},T=O.primaryKey,P=O.compositeKeys,k=P===void 0?[]:P;if(M.forEach(function(b){var o,u,c,d,p,w,S,m,s,y,x,C=Mm((x=I[b])===null||x===void 0?void 0:x.association);if(Array.isArray(C))try{for(var N=He(C),j=N.next();!j.done;j=N.next()){var B=j.value;if(!wc(g[B],r[B])){_[B]=r[B]===void 0?null:r[B];try{for(var L=(c=void 0,He(k)),Y=L.next();!Y.done;Y=L.next()){var G=Y.value;if(G.has(B))try{for(var Z=(p=void 0,He(G)),K=Z.next();!K.done;K=Z.next()){var U=K.value;_[U]=r[U]}}catch(ie){p={error:ie}}finally{try{K&&!K.done&&(w=Z.return)&&w.call(Z)}finally{if(p)throw p.error}}}}catch(ie){c={error:ie}}finally{try{Y&&!Y.done&&(d=L.return)&&d.call(L)}finally{if(c)throw c.error}}}}}catch(ie){o={error:ie}}finally{try{j&&!j.done&&(u=N.return)&&u.call(N)}finally{if(o)throw o.error}}else{var W=C||b;if(!wc(g[W],r[W])){_[W]=r[W]===void 0?null:r[W];try{for(var Te=He(k),ee=Te.next();!ee.done;ee=Te.next()){var G=ee.value;if(G.has(W))try{for(var re=(s=void 0,He(G)),De=re.next();!De.done;De=re.next()){var U=De.value;_[U]=r[U]}}catch(J){s={error:J}}finally{try{De&&!De.done&&(y=re.return)&&y.call(re)}finally{if(s)throw s.error}}}}catch(ie){S={error:ie}}finally{try{ee&&!ee.done&&(m=Te.return)&&m.call(Te)}finally{if(S)throw S.error}}}}}),Object.keys(_).length===0)return null;if(T&&T.length)try{for(var R=He(T),D=R.next();!D.done;D=R.next()){var V=D.value;_[V]=r[V]}}catch(b){a={error:b}}finally{try{D&&!D.done&&(i=R.return)&&i.call(R)}finally{if(a)throw a.error}}var q=r.id,$=r._version,F=r._lastChangedAt,z=r._deleted;return pe(pe({},_),{id:q,_version:$,_lastChangedAt:F,_deleted:z})},e}(),Tv=function(){function e(t,r,n,a,i,f){this.mutex=new yx,this.storage=new vw(t,r,n,a,i,f)}return e.prototype.runExclusive=function(t){return this.mutex.runExclusive(t.bind(this,this.storage))},e.prototype.save=function(t,r,n,a){return ue(this,void 0,void 0,function(){return se(this,function(i){return[2,this.runExclusive(function(f){return f.save(t,r,n,a)})]})})},e.prototype.delete=function(t,r,n){return ue(this,void 0,void 0,function(){return se(this,function(a){return[2,this.runExclusive(function(i){if(ja(t)){var f=t;return i.delete(f,r,n)}else{var l=t;return i.delete(l,r,n)}})]})})},e.prototype.query=function(t,r,n){return ue(this,void 0,void 0,function(){return se(this,function(a){return[2,this.runExclusive(function(i){return i.query(t,r,n)})]})})},e.prototype.queryOne=function(t,r){return r===void 0&&(r=qi.FIRST),ue(this,void 0,void 0,function(){return se(this,function(n){return[2,this.runExclusive(function(a){return a.queryOne(t,r)})]})})},e.getNamespace=function(){return vw.getNamespace()},e.prototype.observe=function(t,r,n){return this.storage.observe(t,r,n)},e.prototype.clear=function(){return ue(this,void 0,void 0,function(){return se(this,function(t){switch(t.label){case 0:return[4,this.runExclusive(function(r){return r.clear()})];case 1:return t.sent(),[2]}})})},e.prototype.batchSave=function(t,r){return this.storage.batchSave(t,r)},e.prototype.init=function(){return ue(this,void 0,void 0,function(){return se(this,function(t){return[2,this.storage.init()]})})},e}(),hj=new d2().networkMonitor();new wt("DataStore");var dj=5e3,vj=function(){function e(){this.connectionStatus={online:!1}}return e.prototype.status=function(){var t=this;if(this.observer)throw new Error("Subscriber already exists");return new Pr(function(r){return t.observer=r,t.subscription=hj.subscribe(function(n){var a=n.online;t.connectionStatus.online=a;var i=pe({},t.connectionStatus);r.next(i)}),function(){clearTimeout(t.timeout),t.unsubscribe()}})},e.prototype.unsubscribe=function(){this.subscription&&(clearTimeout(this.timeout),this.subscription.unsubscribe())},e.prototype.stop=function(){return ue(this,void 0,void 0,function(){return se(this,function(t){return this.unsubscribe(),[2]})})},e.prototype.socketDisconnected=function(){var t=this;this.observer&&typeof this.observer.next=="function"&&(this.observer.next({online:!1}),this.timeout=setTimeout(function(){var r=pe({},t.connectionStatus);t.observer.next(r)},dj))},e}();const pj=vj;var mj=function(){function e(t,r){this.outbox=t,this.ownSymbol=r}return e.prototype.merge=function(t,r,n){return ue(this,void 0,void 0,function(){var a,i,f,l,v;return se(this,function(h){switch(h.label){case 0:return[4,this.outbox.getForModel(t,r,n)];case 1:return i=h.sent(),f=r._deleted,i.length!==0?[3,5]:f?(a=xt.DELETE,[4,t.delete(r,void 0,this.ownSymbol)]):[3,3];case 2:return h.sent(),[3,5];case 3:return[4,t.save(r,void 0,this.ownSymbol)];case 4:l=Le.apply(void 0,[h.sent(),1]),v=Le(l[0],2),a=v[1],h.label=5;case 5:return[2,a]}})})},e.prototype.mergePage=function(t,r,n,a){return ue(this,void 0,void 0,function(){var i,f,l,v,h,g,_,M;return se(this,function(E){switch(E.label){case 0:i=new Map;try{for(f=He(n),l=f.next();!l.done;l=f.next())v=l.value,h=ai(a,v),i.set(h,v)}catch(A){_={error:A}}finally{try{l&&!l.done&&(M=f.return)&&M.call(f)}finally{if(_)throw _.error}}return g=Wt(i.values()),[4,t.batchSave(r,g,this.ownSymbol)];case 1:return[2,E.sent()]}})})},e}(),yj=function(){function e(t,r,n,a){this.schema=t,this.MutationEvent=r,this.modelInstanceCreator=n,this.ownSymbol=a}return e.prototype.enqueue=function(t,r){return ue(this,void 0,void 0,function(){var n=this;return se(this,function(a){switch(a.label){case 0:return[4,t.runExclusive(function(i){return ue(n,void 0,void 0,function(){var f,l,v,h,g,_,M,E,A;return se(this,function(I){switch(I.label){case 0:return f=this.schema.namespaces[Ho].models.MutationEvent,l=Kt.createFromAST(f,{and:[{modelId:{eq:r.modelId}},{id:{ne:this.inProgressMutationEventId}}]}),[4,i.query(this.MutationEvent,l)];case 1:return v=Le.apply(void 0,[I.sent(),1]),h=v[0],h!==void 0?[3,3]:[4,i.save(r,void 0,this.ownSymbol)];case 2:return I.sent(),[2];case 3:return g=r.operation,h.operation!==_t.CREATE?[3,8]:g!==_t.DELETE?[3,5]:[4,i.delete(this.MutationEvent,l)];case 4:return I.sent(),[3,7];case 5:return _=this.mergeUserFields(h,r),[4,i.save(this.MutationEvent.copyOf(h,function(O){O.data=_.data}),void 0,this.ownSymbol)];case 6:I.sent(),I.label=7;case 7:return[3,12];case 8:return M=r.condition,E=JSON.parse(M),A=void 0,Object.keys(E).length!==0?[3,10]:(A=this.mergeUserFields(h,r),[4,i.delete(this.MutationEvent,l)]);case 9:I.sent(),I.label=10;case 10:return A=A||r,[4,i.save(A,void 0,this.ownSymbol)];case 11:I.sent(),I.label=12;case 12:return[2]}})})})];case 1:return a.sent(),[2]}})})},e.prototype.dequeue=function(t,r,n){return ue(this,void 0,void 0,function(){var a;return se(this,function(i){switch(i.label){case 0:return[4,this.peek(t)];case 1:return a=i.sent(),r?[4,this.syncOutboxVersionsOnDequeue(t,r,a,n)]:[3,3];case 2:i.sent(),i.label=3;case 3:return[4,t.delete(a)];case 4:return i.sent(),this.inProgressMutationEventId=void 0,[2,a]}})})},e.prototype.peek=function(t){return ue(this,void 0,void 0,function(){var r;return se(this,function(n){switch(n.label){case 0:return[4,t.queryOne(this.MutationEvent,qi.FIRST)];case 1:return r=n.sent(),this.inProgressMutationEventId=r?r.id:void 0,[2,r]}})})},e.prototype.getForModel=function(t,r,n){return ue(this,void 0,void 0,function(){var a,i,f;return se(this,function(l){switch(l.label){case 0:return a=this.schema.namespaces[Ho].models.MutationEvent,i=ai(n,r),[4,t.query(this.MutationEvent,Kt.createFromAST(a,{and:{modelId:{eq:i}}}))];case 1:return f=l.sent(),[2,f]}})})},e.prototype.getModelIds=function(t){return ue(this,void 0,void 0,function(){var r,n;return se(this,function(a){switch(a.label){case 0:return[4,t.query(this.MutationEvent)];case 1:return r=a.sent(),n=new Set,r.forEach(function(i){var f=i.modelId;return n.add(f)}),[2,n]}})})},e.prototype.syncOutboxVersionsOnDequeue=function(t,r,n,a){return ue(this,void 0,void 0,function(){var i,f,l,v,h,g,_,M,E,A,I,O,T,P=this;return se(this,function(k){switch(k.label){case 0:return n.operation!==a?[2]:(i=r._version,f=r._lastChangedAt,r._deleted,l=Aa(r,["_version","_lastChangedAt","_deleted"]),v=this.removeTimestampFields(n.model,l),h=JSON.parse(n.data),h?(h._version,h._lastChangedAt,h._deleted,g=Aa(h,["_version","_lastChangedAt","_deleted"]),_=this.removeTimestampFields(n.model,g),wc(v,_,!0)?(M=this.schema.namespaces[Ho].models.MutationEvent,E=this.schema.namespaces.user.models[n.model],A=ai(E,r),I=Kt.createFromAST(M,{and:[{modelId:{eq:A}},{id:{ne:this.inProgressMutationEventId}}]}),[4,t.query(this.MutationEvent,I)]):[2]):[2]);case 1:return O=k.sent(),O.length?(T=O.map(function(R){var D=JSON.parse(R.data),V=pe(pe({},D),{_version:i,_lastChangedAt:f});return P.MutationEvent.copyOf(R,function(q){q.data=JSON.stringify(V)})}),[4,t.delete(this.MutationEvent,I)]):[2];case 2:return k.sent(),[4,Promise.all(T.map(function(R){return ue(P,void 0,void 0,function(){return se(this,function(D){switch(D.label){case 0:return[4,t.save(R,void 0,this.ownSymbol)];case 1:return[2,D.sent()]}})})}))];case 3:return k.sent(),[2]}})})},e.prototype.mergeUserFields=function(t,r){var n=JSON.parse(t.data),a=n._version,i=n._lastChangedAt,f=n._deleted,l=Aa(n,["_version","_lastChangedAt","_deleted"]),v=JSON.parse(r.data);v._version,v._lastChangedAt,v._deleted;var h=Aa(v,["_version","_lastChangedAt","_deleted"]),g=JSON.stringify(pe(pe({_version:a,_lastChangedAt:i,_deleted:f},l),h));return this.modelInstanceCreator(this.MutationEvent,pe(pe({},r),{data:g}))},e.prototype.removeTimestampFields=function(t,r){var n,a,i="createdAt",f="updatedAt",l=i,v=f,h=(n=this.schema.namespaces[Ts].models[t].attributes)===null||n===void 0?void 0:n.find(function(_){return _.type==="model"}),g=(a=h==null?void 0:h.properties)===null||a===void 0?void 0:a.timestamps;return g&&(l=g[i],v=g[f]),delete r[l],delete r[v],r},e}(),Tm=function(e){return/^Connection failed: Connection Timeout/.test(e.message)},Cm=function(e){return/^Error: Request failed with status code 5\d\d/.test(e.message)},gj={BadModel:function(){return!1},BadRecord:function(e){var t=e.message;return/^Cannot return \w+ for [\w-_]+ type/.test(t)||/^Variable '.+' has coerced Null value for NonNull type/.test(t)},ConfigError:function(){return!1},Transient:function(e){return Tm(e)||Cm(e)},Unauthorized:function(e){return e.message==="Unauthorized"||/^Request failed with status code 401/.test(e.message)}},bj={BadModel:function(){return!1},BadRecord:function(){return!1},ConfigError:function(){return!1},Transient:function(e){var t=pw(e);return Tm(t)||Cm(t)},Unauthorized:function(e){var t=pw(e);return/Connection failed.+Unauthorized/.test(t.message)}},wj={BadModel:function(){return!1},BadRecord:function(e){return/^Cannot return \w+ for [\w-_]+ type/.test(e.message)},ConfigError:function(){return!1},Transient:function(e){return Tm(e)||Cm(e)},Unauthorized:function(e){return e.errorType==="Unauthorized"}};function pw(e){var t=e.error,r=Le((t===void 0?{errors:[]}:t).errors,1),n=r[0];return n}function mw(e){return Om(gj,e)}function _j(e){return Om(bj,e)}function Jd(e){return Om(wj,e)}function Om(e,t){var r,n,a=Wt(Object.keys(e));try{for(var i=He(a),f=i.next();!f.done;f=i.next()){var l=f.value,v=e[l];if(v!=null&&v(t))return l}}catch(h){r={error:h}}finally{try{f&&!f.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return"Unknown"}var Sj=10,gi=new wt("DataStore"),Mj=function(){function e(t,r,n,a,i,f,l,v,h,g,_){l===void 0&&(l={}),this.schema=t,this.storage=r,this.userClasses=n,this.outbox=a,this.modelInstanceCreator=i,this.MutationEvent=f,this.amplifyConfig=l,this.authModeStrategy=v,this.errorHandler=h,this.conflictHandler=g,this.amplifyContext=_,this.typeQuery=new WeakMap,this.processing=!1,this.runningProcesses=new Va,this.amplifyContext.API=this.amplifyContext.API||Nu,this.generateQueries()}return e.prototype.generateQueries=function(){var t=this;Object.values(this.schema.namespaces).forEach(function(r){Object.values(r.models).filter(function(n){var a=n.syncable;return a}).forEach(function(n){var a=Le(Ws(r,n,"CREATE"),1),i=a[0],f=Le(Ws(r,n,"UPDATE"),1),l=f[0],v=Le(Ws(r,n,"DELETE"),1),h=v[0];t.typeQuery.set(n,[i,l,h])})})},e.prototype.isReady=function(){return this.observer!==void 0},e.prototype.start=function(){var t=this;this.runningProcesses=new Va;var r=new Pr(function(n){t.observer=n;try{t.resume()}catch(a){throw gi.error("mutations processor start error",a),a}return t.runningProcesses.addCleaner(function(){return ue(t,void 0,void 0,function(){return se(this,function(a){return this.removeObserver(),this.pause(),[2]})})})});return r},e.prototype.stop=function(){return ue(this,void 0,void 0,function(){return se(this,function(t){switch(t.label){case 0:return this.removeObserver(),[4,this.runningProcesses.close()];case 1:return t.sent(),[4,this.runningProcesses.open()];case 2:return t.sent(),[2]}})})},e.prototype.removeObserver=function(){var t,r;(r=(t=this.observer)===null||t===void 0?void 0:t.complete)===null||r===void 0||r.call(t),this.observer=void 0},e.prototype.resume=function(){return ue(this,void 0,void 0,function(){var t=this;return se(this,function(r){switch(r.label){case 0:return[4,this.runningProcesses.isOpen&&this.runningProcesses.add(function(n){return ue(t,void 0,void 0,function(){var a,i,f,l,v,h=this,g;return se(this,function(_){switch(_.label){case 0:if(this.processing||!this.isReady()||!this.runningProcesses.isOpen)return[2];this.processing=!0,i=Ts,f=function(){var M,E,A,I,O,T,P,k,R,D,V,q,$,F,z,b;return se(this,function(o){switch(o.label){case 0:M=a.model,E=a.operation,A=a.data,I=a.condition,O=l.userClasses[M],T=void 0,P=void 0,k=void 0,o.label=1;case 1:return o.trys.push([1,4,,5]),[4,Am({authModeStrategy:l.authModeStrategy,defaultAuthMode:l.amplifyConfig.aws_appsync_authenticationType,modelName:M,schema:l.schema})];case 2:return R=o.sent(),D=R[E.toUpperCase()],V=0,q=function(){return ue(h,void 0,void 0,function(){var u,c,d;return se(this,function(p){switch(p.label){case 0:return p.trys.push([0,2,,9]),gi.debug("Attempting mutation with authMode: "+D[V]),[4,this.jitteredRetry(i,M,E,A,I,O,this.MutationEvent,a,D[V],n)];case 1:return u=p.sent(),gi.debug("Mutation sent successfully with authMode: "+D[V]),[2,u];case 2:if(c=p.sent(),V++,!(V>=D.length))return[3,7];gi.debug("Mutation failed with authMode: "+D[V-1]),p.label=3;case 3:return p.trys.push([3,5,,6]),[4,this.errorHandler({recoverySuggestion:"Ensure app code is up to date, auth directives exist and are correct on each model, and that server-side data has not been invalidated by a schema change. If the problem persists, search for or create an issue: https://github.com/aws-amplify/amplify-js/issues",localModel:null,message:c.message,model:O.name,operation:P,errorType:mw(c),process:ia.sync,remoteModel:null,cause:c})];case 4:return p.sent(),[3,6];case 5:return d=p.sent(),gi.error("Mutation error handler failed with:",d),[3,6];case 6:throw c;case 7:return gi.debug("Mutation failed with authMode: "+D[V-1]+". Retrying with authMode: "+D[V]),[4,q()];case 8:return[2,p.sent()];case 9:return[2]}})})},[4,q()];case 3:return b=Le.apply(void 0,[o.sent(),3]),T=b[0],P=b[1],k=b[2],[3,5];case 4:return $=o.sent(),$.message==="Offline"||$.message==="RetryMutation"?[2,"continue"]:[3,5];case 5:return T!==void 0?[3,7]:(gi.debug("done retrying"),[4,l.storage.runExclusive(function(u){return ue(h,void 0,void 0,function(){return se(this,function(c){switch(c.label){case 0:return[4,this.outbox.dequeue(u)];case 1:return c.sent(),[2]}})})})]);case 6:return o.sent(),[2,"continue"];case 7:return F=T.data[P],z=!1,[4,l.storage.runExclusive(function(u){return ue(h,void 0,void 0,function(){return se(this,function(c){switch(c.label){case 0:return[4,this.outbox.dequeue(u,F,E)];case 1:return c.sent(),[4,this.outbox.peek(u)];case 2:return z=c.sent()!==void 0,[2]}})})})];case 8:return o.sent(),(g=(o=l.observer)===null||o===void 0?void 0:o.next)===null||g===void 0||g.call(o,{operation:E,modelDefinition:k,model:F,hasMore:z}),[2]}})},l=this,_.label=1;case 1:return v=this.processing&&this.runningProcesses.isOpen,v?[4,this.outbox.peek(this.storage)]:[3,3];case 2:v=(a=_.sent())!==void 0,_.label=3;case 3:return v?[5,f()]:[3,5];case 4:return _.sent(),[3,1];case 5:return this.pause(),[2]}})})},"mutation resume loop")];case 1:return r.sent(),[2]}})})},e.prototype.jitteredRetry=function(t,r,n,a,i,f,l,v,h,g){return ue(this,void 0,void 0,function(){var _=this;return se(this,function(M){switch(M.label){case 0:return[4,s2(function(E,A,I,O,T,P,k){return ue(_,void 0,void 0,function(){var R,D,V,q,$,F,z,b,o,u,c,d,p,w,S,m,s,y,x,C,N,j,B,L,Y,G,Z,K;return se(this,function(U){switch(U.label){case 0:return R=Le(this.createQueryVariables(t,E,A,I,O),5),D=R[0],V=R[1],q=R[2],$=R[3],F=R[4],[4,xc(h,this.amplifyConfig)];case 1:z=U.sent(),b={query:D,variables:V,authMode:h,authToken:z,userAgentSuffix:bc},o=0,u=this.opTypeFromTransformerOperation(A),U.label=2;case 2:return U.trys.push([2,4,,17]),[4,this.amplifyContext.API.graphql(b)];case 3:return c=U.sent(),[2,[c,$,F]];case 4:if(d=U.sent(),!(d.errors&&d.errors.length>0))return[3,15];if(p=Le(d.errors,1),w=p[0],S=w.originalError,m=(S===void 0?{}:S).code,s=m===void 0?null:m,w.errorType==="Unauthorized")throw new zr("Unauthorized");if(w.message==="Network Error"||s==="ECONNABORTED")throw this.processing?new Error("Network Error"):new zr("Offline");return w.errorType!=="ConflictUnhandled"?[3,13]:(o++,y=void 0,o>Sj?(y=nw,[3,8]):[3,5]);case 5:return U.trys.push([5,7,,8]),[4,this.conflictHandler({modelConstructor:T,localModel:this.modelInstanceCreator(T,V.input),remoteModel:this.modelInstanceCreator(T,w.data),operation:u,attempts:o})];case 6:return y=U.sent(),[3,8];case 7:return x=U.sent(),gi.warn("conflict trycatch",x),[3,17];case 8:return y!==nw?[3,11]:(C=Le(Ws(this.schema.namespaces[t],F,"GET"),1),N=Le(C[0],3),j=N[1],B=N[2],[4,xc(h,this.amplifyConfig)]);case 9:return L=U.sent(),[4,this.amplifyContext.API.graphql({query:B,variables:{id:V.input.id},authMode:h,authToken:L,userAgentSuffix:bc})];case 10:return Y=U.sent(),[2,[Y,j,F]];case 11:return G=this.schema.namespaces[t],Z=hM(G.relationships,F,u,T,y,q,P,this.modelInstanceCreator,k.id),[4,this.storage.save(Z)];case 12:throw U.sent(),new zr("RetryMutation");case 13:try{this.errorHandler({recoverySuggestion:"Ensure app code is up to date, auth directives exist and are correct on each model, and that server-side data has not been invalidated by a schema change. If the problem persists, search for or create an issue: https://github.com/aws-amplify/amplify-js/issues",localModel:V.input,message:w.message,operation:A,errorType:mw(w),errorInfo:w.errorInfo,process:ia.mutate,cause:w,remoteModel:w.data?this.modelInstanceCreator(T,w.data):null})}catch(W){gi.warn("Mutation error handler failed with:",W)}finally{return[2,w.data?[{data:(K={},K[$]=w.data,K)},$,F]:[]]}case 14:return[3,16];case 15:throw new zr(d);case 16:return[3,17];case 17:if(b)return[3,2];U.label=18;case 18:return[2]}})})},[r,n,a,i,f,l,v],Ej,g)];case 1:return[2,M.sent()]}})})},e.prototype.createQueryVariables=function(t,r,n,a,i){var f,l,v,h,g,_,M,E,A=this.schema.namespaces[t].models[r],I=this.schema.namespaces[t].keys[r].primaryKey,O=(M=A.attributes)===null||M===void 0?void 0:M.find(function(G){return G.type==="auth"}),T=((E=O==null?void 0:O.properties)===null||E===void 0?void 0:E.rules.map(function(G){return G.ownerField}).filter(function(G){return G}))||["owner"],P=this.typeQuery.get(A),k=Le(P.find(function(G){var Z=Le(G,1),K=Z[0];return K===n}),3),R=k[1],D=k[2],V=JSON.parse(a),q=V._version,$=Aa(V,["_version"]),F={};if(I!=null&&I.length)try{for(var z=He(I),b=z.next();!b.done;b=z.next()){var o=b.value;F[o]=$[o]}}catch(G){f={error:G}}finally{try{b&&!b.done&&(l=z.return)&&l.call(z)}finally{if(f)throw f.error}}else F[Du]=$.id;var u;if(n===_t.DELETE)u=F;else{u={};var c=Object.values(A.fields);try{for(var d=He(c),p=d.next();!p.done;p=d.next()){var w=p.value,S=w.name,m=w.type,s=w.association,y=w.isReadOnly;if(!y&&!(T.includes(S)&&$[S]===null)){if(uM(m)){if(Mm(s)&&s.connectionType==="BELONGS_TO"){var x=aM(s);if(x)try{for(var C=(g=void 0,He(x)),N=C.next();!N.done;N=C.next()){var j=N.value;u[j]=$[j]}}catch(G){g={error:G}}finally{try{N&&!N.done&&(_=C.return)&&_.call(C)}finally{if(g)throw g.error}}}continue}n===_t.UPDATE&&!$.hasOwnProperty(S)||(u[S]=$[S])}}}catch(G){v={error:G}}finally{try{p&&!p.done&&(h=d.return)&&h.call(d)}finally{if(v)throw v.error}}}var B=pe(pe({},u),{_version:q}),L=JSON.parse(i),Y=pe({input:B},n===_t.CREATE?{}:{condition:Object.keys(L).length>0?L:null});return[D,Y,L,R,A]},e.prototype.opTypeFromTransformerOperation=function(t){switch(t){case _t.CREATE:return xt.INSERT;case _t.DELETE:return xt.DELETE;case _t.UPDATE:return xt.UPDATE;case _t.GET:break;default:throw new Error("Invalid operation "+t)}},e.prototype.pause=function(){this.processing=!1},e}(),mM=5*60*1e3,xj=f2(mM),Ej=function(e,t,r){var n=xj(e);return n===!1&&(r==null?void 0:r.message)==="Network Error"?mM:n},Hi=new wt("DataStore"),Ec;(function(e){e.CONNECTED="CONNECTED"})(Ec||(Ec={}));var ko;(function(e){e[e.none=0]="none",e[e.unauth=1]="unauth",e[e.auth=2]="auth"})(ko||(ko={}));var Aj=function(){function e(t,r,n,a,i,f){n===void 0&&(n={}),f===void 0&&(f={Auth:Li,API:Nu,Cache:Ja}),this.schema=t,this.syncPredicates=r,this.amplifyConfig=n,this.authModeStrategy=a,this.errorHandler=i,this.amplifyContext=f,this.typeQuery=new WeakMap,this.buffer=[],this.runningProcesses=new Va}return e.prototype.buildSubscription=function(t,r,n,a,i,f,l,v){v===void 0&&(v=!1);var h=this.amplifyConfig.aws_appsync_authenticationType,g=this.getAuthorizationInfo(r,a,h,i,f,l)||{},_=g.isOwner,M=g.ownerField,E=g.ownerValue,A=Le(Rq(t,r,n,_,M,v),3),I=A[0],O=A[1],T=A[2];return{authMode:l,opType:I,opName:O,query:T,isOwner:_,ownerField:M,ownerValue:E}},e.prototype.getAuthorizationInfo=function(t,r,n,a,i,f){a===void 0&&(a={}),i===void 0&&(i={});var l=lM(t),v=f===dr.AWS_IAM&&l.find(function(A){return A.authStrategy==="private"&&A.provider==="iam"});if(v&&r===ko.unauth)return null;var h=l.filter(function(A){return A.authStrategy==="groups"&&["userPools","oidc"].includes(A.provider)}),g=(f===dr.AMAZON_COGNITO_USER_POOLS||f===dr.OPENID_CONNECT)&&h.find(function(A){var I=ow(a,A),O=ow(i,A);return Wt(I,O).find(function(T){return A.groups.find(function(P){return P===T})})});if(g)return{authMode:f,isOwner:!1};var _=f===dr.AMAZON_COGNITO_USER_POOLS?l.filter(function(A){return A.authStrategy==="owner"&&A.provider==="userPools"}):[],M;if(_.forEach(function(A){var I,O=a[A.identityClaim],T=((I=t.fields[A.ownerField])===null||I===void 0?void 0:I.isArray)!==!0,P=T&&!A.areSubscriptionsPublic;O&&(M={authMode:dr.AMAZON_COGNITO_USER_POOLS,isOwner:P,ownerField:A.ownerField,ownerValue:O})}),M)return M;var E=f===dr.OPENID_CONNECT?l.filter(function(A){return A.authStrategy==="owner"&&A.provider==="oidc"}):[];return E.forEach(function(A){var I,O=i[A.identityClaim],T=((I=t.fields[A.ownerField])===null||I===void 0?void 0:I.isArray)!==!0,P=T&&!A.areSubscriptionsPublic;O&&(M={authMode:dr.OPENID_CONNECT,isOwner:P,ownerField:A.ownerField,ownerValue:O})}),M||{authMode:f||n,isOwner:!1}},e.prototype.hubQueryCompletionListener=function(t,r){var n=r.payload.event;n===Tr.SUBSCRIPTION_ACK&&t()},e.prototype.start=function(){var t=this;this.runningProcesses=this.runningProcesses||new Va;var r=new Pr(function(a){var i=[],f={},l,v,h=ko.none;return t.runningProcesses.add(function(){return ue(t,void 0,void 0,function(){var g,_,M,E,A,I,O,T,P,k,R=this;return se(this,function(D){switch(D.label){case 0:return D.trys.push([0,2,,3]),[4,this.amplifyContext.Auth.currentCredentials()];case 1:return g=D.sent(),h=g.authenticated?ko.auth:ko.unauth,[3,3];case 2:return D.sent(),[3,3];case 3:return D.trys.push([3,5,,6]),[4,this.amplifyContext.Auth.currentSession()];case 4:return _=D.sent(),l=_.getIdToken().decodePayload(),[3,6];case 5:return D.sent(),[3,6];case 6:if(D.trys.push([6,11,,12]),M=this.amplifyConfig,E=M.aws_cognito_region,A=M.Auth,!E||A&&!A.region)throw"Auth is not configured";return I=void 0,[4,this.amplifyContext.Cache.getItem("federatedInfo")];case 7:return O=D.sent(),O?(I=O.token,[3,10]):[3,8];case 8:return[4,this.amplifyContext.Auth.currentAuthenticatedUser()];case 9:T=D.sent(),T&&(I=T.token),D.label=10;case 10:return I&&(P=I.split(".")[1],v=JSON.parse(Ue.Buffer.from(P,"base64").toString("utf8"))),[3,12];case 11:return k=D.sent(),Hi.debug("error getting OIDC JWT",k),[3,12];case 12:return Object.values(this.schema.namespaces).forEach(function(V){Object.values(V.models).filter(function(q){var $=q.syncable;return $}).forEach(function(q){return R.runningProcesses.isOpen&&R.runningProcesses.add(function(){return ue(R,void 0,void 0,function(){var $,F,z,b,o,u,c,d,p,w,S=this;return se(this,function(m){switch(m.label){case 0:return[4,Am({authModeStrategy:this.authModeStrategy,defaultAuthMode:this.amplifyConfig.aws_appsync_authenticationType,modelName:q.name,schema:this.schema})];case 1:return $=m.sent(),F=$.READ,f=pe(pe({},f),(d={},d[q.name]=(p={},p[_t.CREATE]=[],p[_t.UPDATE]=[],p[_t.DELETE]=[],p),d)),z=[_t.CREATE,_t.UPDATE,_t.DELETE],b=(w={},w[_t.CREATE]=0,w[_t.UPDATE]=0,w[_t.DELETE]=0,w),o=Kt.getPredicates(this.syncPredicates.get(q),!1),u=o!==void 0,c=function(s,y){return y===void 0&&(y=u),ue(S,void 0,void 0,function(){var x,C,N,j,B,L,Y,G,Z,K,U,W,Te,ee=this;return se(this,function(re){switch(re.label){case 0:return x=this.buildSubscription(V,q,s,h,l,v,F[b[s]],y),C=x.opType,N=x.opName,j=x.query,B=x.isOwner,L=x.ownerField,Y=x.ownerValue,G=x.authMode,[4,xc(G,this.amplifyConfig)];case 1:if(Z=re.sent(),K={},y&&o&&(K.filter=Bu(o)),B){if(!Y)return a.error("Owner field required, sign in is needed in order to perform this operation"),[2];K[L]=Y}return Hi.debug("Attempting "+s+" subscription with authMode: "+F[b[s]]),U=bc,W=this.amplifyContext.API.graphql(pe(pe({query:j,variables:K},{authMode:G}),{authToken:Z,userAgentSuffix:U})),f[q.name][C].push(W.map(function(De){var ie=De.value;return ie}).subscribe({next:function(De){var ie=De.data,J=De.errors;if(Array.isArray(J)&&J.length>0){var qe=J.map(function(X){var Q=X.message;return Q});Hi.warn("Skipping incoming subscription. Messages: "+qe.join(`
`)),ee.drainBuffer();return}var ae=Kt.getPredicates(ee.syncPredicates.get(q),!1),be=ie,Ge=N,H=be[Ge];ee.passesPredicateValidation(H,ae)&&ee.pushToBuffer(C,q,H),ee.drainBuffer()},error:function(De){return ue(ee,void 0,void 0,function(){var ie,J,qe,ae,be,Ge,H;return se(this,function(X){switch(X.label){case 0:if(ie=De.error,J=Le((ie===void 0?{errors:[]}:ie).errors,1),qe=J[0],ae=(qe===void 0?{}:qe).message,be=ae===void 0?"":ae,Ge=y&&this.catchRTFError(be,q,o),Ge)return f[q.name][C].forEach(function(Q){return Q.unsubscribe()}),f[q.name][C]=[],c(s,!1),[2];if(be.includes(Tr.REALTIME_SUBSCRIPTION_INIT_ERROR)||be.includes(Tr.CONNECTION_FAILED))if(f[q.name][C].forEach(function(Q){return Q.unsubscribe()}),f[q.name][C]=[],b[s]++,b[s]>=F.length)Hi.debug(s+" subscription failed with authMode: "+F[b[s]-1]);else return Hi.debug(s+" subscription failed with authMode: "+F[b[s]-1]+". Retrying with authMode: "+F[b[s]]),c(s),[2];Hi.warn("subscriptionError",be),X.label=1;case 1:return X.trys.push([1,3,,4]),[4,this.errorHandler({recoverySuggestion:"Ensure app code is up to date, auth directives exist and are correct on each model, and that server-side data has not been invalidated by a schema change. If the problem persists, search for or create an issue: https://github.com/aws-amplify/amplify-js/issues",localModel:null,message:be,model:q.name,operation:s,errorType:_j(De),process:ia.subscribe,remoteModel:null,cause:De})];case 2:return X.sent(),[3,4];case 3:return H=X.sent(),Hi.error("Subscription error handler failed with:",H),[3,4];case 4:return typeof Te=="function"&&Te(),be.includes('"errorType":"Unauthorized"')||be.includes('"errorType":"OperationDisabled"')?[2]:(a.error(be),[2])}})})}})),i.push(function(){return ue(ee,void 0,void 0,function(){var De,ie=this;return se(this,function(J){switch(J.label){case 0:return[4,new Promise(function(qe){Te=qe,De=ie.hubQueryCompletionListener.bind(ie,qe),_r.listen("api",De)})];case 1:return J.sent(),_r.remove("api",De),[2]}})})}()),[2]}})})},z.forEach(function(s){return c(s)}),[2]}})})})})}),this.runningProcesses.isOpen&&this.runningProcesses.add(function(){return Promise.all(i).then(function(){a.next(Ec.CONNECTED)})}),[2]}})})},"subscription processor new subscriber"),t.runningProcesses.addCleaner(function(){return ue(t,void 0,void 0,function(){return se(this,function(g){return Object.keys(f).forEach(function(_){f[_][_t.CREATE].forEach(function(M){return M.unsubscribe()}),f[_][_t.UPDATE].forEach(function(M){return M.unsubscribe()}),f[_][_t.DELETE].forEach(function(M){return M.unsubscribe()})}),[2]})})})}),n=new Pr(function(a){return t.dataObserver=a,t.drainBuffer(),t.runningProcesses.addCleaner(function(){return ue(t,void 0,void 0,function(){return se(this,function(i){return this.dataObserver=null,[2]})})})});return[r,n]},e.prototype.stop=function(){return ue(this,void 0,void 0,function(){return se(this,function(t){switch(t.label){case 0:return[4,this.runningProcesses.close()];case 1:return t.sent(),[4,this.runningProcesses.open()];case 2:return t.sent(),[2]}})})},e.prototype.passesPredicateValidation=function(t,r){if(!r)return!0;var n=r.predicates,a=r.type;return Xa(t,a,n)},e.prototype.pushToBuffer=function(t,r,n){this.buffer.push([t,r,n])},e.prototype.drainBuffer=function(){var t=this;this.dataObserver&&(this.buffer.forEach(function(r){return t.dataObserver.next(r)}),this.buffer=[])},e.prototype.catchRTFError=function(t,r,n){var a=`Backend subscriptions filtering error.
Subscriptions filtering will be applied clientside.
`,i={"UnknownArgument: Unknown field argument filter":Vr.UnknownField,"Filters exceed maximum attributes limit":Vr.MaxAttributes,"Filters combination exceed maximum limit":Vr.MaxCombinations,"filter uses same fieldName multiple time":Vr.RepeatedFieldname,"The variables input contains a field name 'not'":Vr.NotGroup,"The variables input contains a field that is not defined for input object type":Vr.FieldNotInType},f=Le(Object.entries(i).find(function(h){var g=Le(h,1),_=g[0];return t.includes(_)})||[],2);f[0];var l=f[1];if(l!==void 0){var v=Lq(l,r,n);return Hi.warn(a+`
`+t+`
`+v),!0}return!1},e}(),Ij={items:[],nextToken:null,startedAt:null},On=new wt("DataStore"),Tj=function(){function e(t,r,n,a,i,f){n===void 0&&(n={}),this.schema=t,this.syncPredicates=r,this.amplifyConfig=n,this.authModeStrategy=a,this.errorHandler=i,this.amplifyContext=f,this.typeQuery=new WeakMap,this.runningProcesses=new Va,f.API=f.API||Nu,this.generateQueries()}return e.prototype.generateQueries=function(){var t=this;Object.values(this.schema.namespaces).forEach(function(r){Object.values(r.models).filter(function(n){var a=n.syncable;return a}).forEach(function(n){var a=Le(Ws(r,n,"LIST"),1),i=Le(a[0]),f=i.slice(1);t.typeQuery.set(n,f)})})},e.prototype.graphqlFilterFromPredicate=function(t){if(!this.syncPredicates)return null;var r=Kt.getPredicates(this.syncPredicates.get(t),!1);return r?Bu(r):null},e.prototype.retrievePage=function(t,r,n,a,i,f){return a===void 0&&(a=null),ue(this,void 0,void 0,function(){var l,v,h,g,_,M,E,A,I,O,T,P,k,R,D,V=this;return se(this,function(q){switch(q.label){case 0:return l=Le(this.typeQuery.get(t),2),v=l[0],h=l[1],g={limit:a,nextToken:n,lastSync:r,filter:i},[4,Am({authModeStrategy:this.authModeStrategy,defaultAuthMode:this.amplifyConfig.aws_appsync_authenticationType,modelName:t.name,schema:this.schema})];case 1:return _=q.sent(),M=_.READ,E=0,A=function(){return ue(V,void 0,void 0,function(){var $,F,z,b;return se(this,function(o){switch(o.label){case 0:if(!this.runningProcesses.isOpen)throw new Error("sync.retreievePage termination was requested. Exiting.");o.label=1;case 1:return o.trys.push([1,3,,5]),On.debug("Attempting sync with authMode: "+M[E]),[4,this.jitteredRetry({query:h,variables:g,opName:v,modelDefinition:t,authMode:M[E],onTerminate:f})];case 2:return $=o.sent(),On.debug("Sync successful with authMode: "+M[E]),[2,$];case 3:if(F=o.sent(),E++,E>=M.length){if(z=M[E-1],On.debug("Sync failed with authMode: "+z,F),uw(F)||sw(F))return On.warn("User is unauthorized to query "+v+" with auth mode "+z+". No data could be returned."),[2,{data:(b={},b[v]=Ij,b)}];throw F}return On.debug("Sync failed with authMode: "+M[E-1]+". Retrying with authMode: "+M[E]),[4,A()];case 4:return[2,o.sent()];case 5:return[2]}})})},[4,A()];case 2:return I=q.sent().data,O=I,T=v,P=O[T],k=P.items,R=P.nextToken,D=P.startedAt,[2,{nextToken:R,startedAt:D,items:k}]}})})},e.prototype.jitteredRetry=function(t){var r=t.query,n=t.variables,a=t.opName,i=t.modelDefinition,f=t.authMode,l=t.onTerminate;return ue(this,void 0,void 0,function(){var v=this;return se(this,function(h){switch(h.label){case 0:return[4,Jv(function(g,_){return ue(v,void 0,void 0,function(){var M,E,A,I,O,T,P,k=this,R,D,V,q;return se(this,function($){switch($.label){case 0:return $.trys.push([0,3,,6]),[4,xc(f,this.amplifyConfig)];case 1:return M=$.sent(),[4,this.amplifyContext.API.graphql({query:g,variables:_,authMode:f,authToken:M,userAgentSuffix:bc})];case 2:return[2,$.sent()];case 3:if(E=$.sent(),A=uw(E)||sw(E),A)throw On.error("Sync processor retry error:",E),new zr(A);return I=Boolean((D=(R=E==null?void 0:E.data)===null||R===void 0?void 0:R[a])===null||D===void 0?void 0:D.items),O=(E==null?void 0:E.errors)&&E.errors.some(function(F){return F.errorType==="Unauthorized"}),T=(E==null?void 0:E.errors)&&E.errors.filter(function(F){return F.errorType!=="Unauthorized"}),P=E,I&&(P.data[a].items=P.data[a].items.filter(function(F){return F!==null})),I&&(T==null?void 0:T.length)?[4,Promise.all(T.map(function(F){return ue(k,void 0,void 0,function(){var z;return se(this,function(b){switch(b.label){case 0:return b.trys.push([0,2,,3]),[4,this.errorHandler({recoverySuggestion:"Ensure app code is up to date, auth directives exist and are correct on each model, and that server-side data has not been invalidated by a schema change. If the problem persists, search for or create an issue: https://github.com/aws-amplify/amplify-js/issues",localModel:null,message:F.message,model:i.name,operation:a,errorType:Jd(F),process:ia.sync,remoteModel:null,cause:F})];case 1:return b.sent(),[3,3];case 2:return z=b.sent(),On.error("Sync error handler failed with:",z),[3,3];case 3:return[2]}})})}))]:[3,5];case 4:$.sent(),_r.dispatch("datastore",{event:"nonApplicableDataReceived",data:{errors:T,modelName:i.name}}),$.label=5;case 5:if(O)throw this.errorHandler({recoverySuggestion:"Ensure app code is up to date, auth directives exist and are correct on each model, and that server-side data has not been invalidated by a schema change. If the problem persists, search for or create an issue: https://github.com/aws-amplify/amplify-js/issues",localModel:null,message:E.message,model:i.name,operation:a,errorType:Jd(E.errors[0]),process:ia.sync,remoteModel:null,cause:E}),new zr(E);if(!((q=(V=P.data)===null||V===void 0?void 0:V[a].items)===null||q===void 0)&&q.length)return[2,P];throw E;case 6:return[2]}})})},[r,n],void 0,l)];case 1:return[2,h.sent()]}})})},e.prototype.start=function(t){var r=this,n=this.amplifyConfig,a=n.maxRecordsToSync,i=n.syncPageSize,f=new Map,l=new Pr(function(v){var h=Object.values(r.schema.namespaces).reduce(function(_,M){var E,A;try{for(var I=He(Array.from(M.modelTopologicalOrdering.keys())),O=I.next();!O.done;O=I.next()){var T=O.value,P=t.get(M.models[T]);_.set(M.models[T],P)}}catch(k){E={error:k}}finally{try{O&&!O.done&&(A=I.return)&&A.call(I)}finally{if(E)throw E.error}}return _},new Map),g=Array.from(h.entries()).filter(function(_){var M=Le(_,1),E=M[0].syncable;return E}).map(function(_){var M=Le(_,2),E=M[0],A=Le(M[1],2),I=A[0],O=A[1];return r.runningProcesses.isOpen&&r.runningProcesses.add(function(T){return ue(r,void 0,void 0,function(){var P,k,R,D,V,q,$,F,z,b=this;return se(this,function(o){switch(o.label){case 0:return P=!1,k=null,R=null,D=null,V=0,q=this.graphqlFilterFromPredicate(E),$=this.schema.namespaces[I].modelTopologicalOrdering.get(E.name),F=$.map(function(u){return f.get(I+"_"+u)}),z=new Promise(function(u){return ue(b,void 0,void 0,function(){var c,d,p,w;return se(this,function(S){switch(S.label){case 0:return[4,Promise.all(F)];case 1:S.sent(),S.label=2;case 2:if(!this.runningProcesses.isOpen)return On.debug("Sync processor has been stopped, terminating sync for "+E.name),[2,u()];c=Math.min(a-V,i),S.label=3;case 3:return S.trys.push([3,5,,10]),[4,this.retrievePage(E,O,k,c,q,T)];case 4:return w=S.sent(),D=w.items,k=w.nextToken,R=w.startedAt,[3,10];case 5:d=S.sent(),S.label=6;case 6:return S.trys.push([6,8,,9]),[4,this.errorHandler({recoverySuggestion:"Ensure app code is up to date, auth directives exist and are correct on each model, and that server-side data has not been invalidated by a schema change. If the problem persists, search for or create an issue: https://github.com/aws-amplify/amplify-js/issues",localModel:null,message:d.message,model:E.name,operation:null,errorType:Jd(d),process:ia.sync,remoteModel:null,cause:d})];case 7:return S.sent(),[3,9];case 8:return p=S.sent(),On.error("Sync error handler failed with:",p),[3,9];case 9:return P=!0,D=[],[3,10];case 10:V+=D.length,P=k===null||V>=a,v.next({namespace:I,modelDefinition:E,items:D,done:P,startedAt:R,isFullSync:!O}),S.label=11;case 11:if(!P)return[3,2];S.label=12;case 12:return u(),[2]}})})}),f.set(I+"_"+E.name,z),[4,z];case 1:return o.sent(),[2]}})})},"adding model "+E.name)});Promise.all(g).then(function(){v.complete()})});return l},e.prototype.stop=function(){return ue(this,void 0,void 0,function(){return se(this,function(t){switch(t.label){case 0:return On.debug("stopping sync processor"),[4,this.runningProcesses.close()];case 1:return t.sent(),[4,this.runningProcesses.open()];case 2:return t.sent(),On.debug("sync processor stopped"),[2]}})})},e}(),yw=Kr().isNode,wo=new wt("DataStore"),qs=Symbol("sync"),ur;(function(e){e.SYNC_ENGINE_STORAGE_SUBSCRIBED="storageSubscribed",e.SYNC_ENGINE_SUBSCRIPTIONS_ESTABLISHED="subscriptionsEstablished",e.SYNC_ENGINE_SYNC_QUERIES_STARTED="syncQueriesStarted",e.SYNC_ENGINE_SYNC_QUERIES_READY="syncQueriesReady",e.SYNC_ENGINE_MODEL_SYNCED="modelSynced",e.SYNC_ENGINE_OUTBOX_MUTATION_ENQUEUED="outboxMutationEnqueued",e.SYNC_ENGINE_OUTBOX_MUTATION_PROCESSED="outboxMutationProcessed",e.SYNC_ENGINE_OUTBOX_STATUS="outboxStatus",e.SYNC_ENGINE_NETWORK_STATUS="networkStatus",e.SYNC_ENGINE_READY="ready"})(ur||(ur={}));var yM=function(){function e(t,r,n,a,i,f,l,v,h,g,_,M,E){var A=this;g===void 0&&(g={}),this.schema=t,this.namespaceResolver=r,this.modelClasses=n,this.userModelClasses=a,this.storage=i,this.modelInstanceCreator=f,this.syncPredicates=h,this.amplifyConfig=g,this.authModeStrategy=_,this.amplifyContext=M,this.connectivityMonitor=E,this.online=!1,this.modelSyncedStatus=new WeakMap,this.connectionDisrupted=!1,this.runningProcesses=new Va,this.waitForSleepState=new Promise(function(O){A.syncQueriesObservableStartSleeping=O});var I=this.modelClasses.MutationEvent;this.outbox=new yj(this.schema,I,f,qs),this.modelMerger=new mj(this.outbox,qs),this.syncQueriesProcessor=new Tj(this.schema,this.syncPredicates,this.amplifyConfig,this.authModeStrategy,v,this.amplifyContext),this.subscriptionsProcessor=new Aj(this.schema,this.syncPredicates,this.amplifyConfig,this.authModeStrategy,v,this.amplifyContext),this.mutationsProcessor=new Mj(this.schema,this.storage,this.userModelClasses,this.outbox,this.modelInstanceCreator,I,this.amplifyConfig,this.authModeStrategy,v,l,this.amplifyContext),this.datastoreConnectivity=this.connectivityMonitor||new pj}return e.prototype.getModelSyncedStatus=function(t){return this.modelSyncedStatus.get(t)},e.prototype.start=function(t){var r=this;return new Pr(function(n){wo.log("starting sync engine...");var a=[];r.runningProcesses.add(function(){return ue(r,void 0,void 0,function(){var i,f,l,v=this;return se(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),[4,this.setupModels(t)];case 1:return h.sent(),[3,3];case 2:return i=h.sent(),n.error(i),[2];case 3:return f=new Promise(function(g,_){v.datastoreConnectivity.status().subscribe(function(M){var E=M.online;return ue(v,void 0,void 0,function(){var A=this;return se(this,function(I){return[2,this.runningProcesses.isOpen&&this.runningProcesses.add(function(O){return ue(A,void 0,void 0,function(){var T,P,k,R,D,V=this;return se(this,function(q){switch(q.label){case 0:return E&&!this.online?(this.online=E,n.next({type:ur.SYNC_ENGINE_NETWORK_STATUS,data:{active:this.online}}),P=void 0,yw?(wo.warn("Realtime disabled when in a server-side environment"),[3,6]):[3,1]):[3,10];case 1:this.stopDisruptionListener=this.startDisruptionListener(),D=Le(this.subscriptionsProcessor.start(),2),T=D[0],P=D[1],q.label=2;case 2:return q.trys.push([2,4,,5]),[4,new Promise(function($,F){O.then(F);var z=T.subscribe({next:function(b){b===Ec.CONNECTED&&$()},error:function(b){F(b);var o=V.disconnectionHandler();o(b)}});a.push(z)})];case 3:return q.sent(),[3,5];case 4:return k=q.sent(),n.error(k),_(),[2];case 5:wo.log("Realtime ready"),n.next({type:ur.SYNC_ENGINE_SUBSCRIPTIONS_ESTABLISHED}),q.label=6;case 6:return q.trys.push([6,8,,9]),[4,new Promise(function($,F){var z=V.syncQueriesObservable().subscribe({next:function(b){var o=b.type;o===ur.SYNC_ENGINE_SYNC_QUERIES_READY&&$(),n.next(b)},complete:function(){$()},error:function(b){F(b)}});z&&a.push(z)})];case 7:return q.sent(),[3,9];case 8:return R=q.sent(),n.error(R),_(),[2];case 9:return a.push(this.mutationsProcessor.start().subscribe(function($){var F=$.modelDefinition,z=$.model,b=$.hasMore;return V.runningProcesses.add(function(){return ue(V,void 0,void 0,function(){var o,u,c=this;return se(this,function(d){switch(d.label){case 0:return o=this.userModelClasses[F.name],u=this.modelInstanceCreator(o,z),[4,this.storage.runExclusive(function(p){return c.modelMerger.merge(p,u,F)})];case 1:return d.sent(),n.next({type:ur.SYNC_ENGINE_OUTBOX_MUTATION_PROCESSED,data:{model:o,element:u}}),n.next({type:ur.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:!b}}),[2]}})})},"mutation processor event")})),yw||a.push(P.subscribe(function($){var F=Le($,3);F[0];var z=F[1],b=F[2];return V.runningProcesses.add(function(){return ue(V,void 0,void 0,function(){var o,u,c=this;return se(this,function(d){switch(d.label){case 0:return o=this.userModelClasses[z.name],u=this.modelInstanceCreator(o,b),[4,this.storage.runExclusive(function(p){return c.modelMerger.merge(p,u,z)})];case 1:return d.sent(),[2]}})})},"subscription dataSubsObservable event")})),[3,11];case 10:E||(this.online=E,n.next({type:ur.SYNC_ENGINE_NETWORK_STATUS,data:{active:this.online}}),a.forEach(function($){return $.unsubscribe()}),a=[]),q.label=11;case 11:return g(),[2]}})})},"datastore connectivity event")]})})})}),this.storage.observe(null,null,qs).filter(function(g){var _=g.model,M=v.getModelDefinition(_);return M.syncable===!0}).subscribe({next:function(g){var _=g.opType,M=g.model,E=g.element,A=g.condition;return ue(v,void 0,void 0,function(){var I=this;return se(this,function(O){return[2,this.runningProcesses.add(function(){return ue(I,void 0,void 0,function(){var T,P,k,R,D;return se(this,function(V){switch(V.label){case 0:return T=this.schema.namespaces[this.namespaceResolver(M)],P=this.modelClasses.MutationEvent,k=this.getModelDefinition(M),R=Nq(A,k),D=hM(T.relationships,this.getModelDefinition(M),_,M,E,R,P,this.modelInstanceCreator),[4,this.outbox.enqueue(this.storage,D)];case 1:return V.sent(),n.next({type:ur.SYNC_ENGINE_OUTBOX_MUTATION_ENQUEUED,data:{model:M,element:E}}),n.next({type:ur.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:!1}}),[4,f];case 2:return V.sent(),this.online&&this.mutationsProcessor.resume(),[2]}})})},"storage event")]})})}}),n.next({type:ur.SYNC_ENGINE_STORAGE_SUBSCRIBED}),[4,this.outbox.peek(this.storage)];case 4:return l=h.sent()===void 0,n.next({type:ur.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:l}}),[4,f];case 5:return h.sent(),n.next({type:ur.SYNC_ENGINE_READY}),[2]}})})},"sync start")})},e.prototype.getModelsMetadataWithNextFullSync=function(t){return ue(this,void 0,void 0,function(){var r,n,a=this;return se(this,function(i){switch(i.label){case 0:return n=Map.bind,[4,this.runningProcesses.add(function(){return a.getModelsMetadata()},"sync/index getModelsMetadataWithNextFullSync")];case 1:return r=new(n.apply(Map,[void 0,i.sent().map(function(f){var l=f.namespace,v=f.model,h=f.lastSync,g=f.lastFullSync,_=f.fullSyncInterval;f.lastSyncPredicate;var M=g+_,E=!g||M<t?0:h;return[a.schema.namespaces[l].models[v],[l,E]]})])),[2,r]}})})},e.prototype.syncQueriesObservable=function(){var t=this;return this.online?new Pr(function(r){var n;t.runningProcesses.isOpen&&t.runningProcesses.add(function(a){return ue(t,void 0,void 0,function(){var i,f,l,v=this;return se(this,function(h){switch(h.label){case 0:i=!1,f=function(){var g,_,M,E,A,I,O,T,P;return se(this,function(k){switch(k.label){case 0:return g=new WeakMap,[4,l.getModelsMetadataWithNextFullSync(Date.now())];case 1:return _=k.sent(),M=new Set(_.keys()),[4,new Promise(function(R,D){v.runningProcesses.isOpen||R(),a.then(function(){return R()}),n=v.syncQueriesProcessor.start(_).subscribe({next:function(V){var q=V.namespace,$=V.modelDefinition,F=V.items,z=V.done,b=V.startedAt,o=V.isFullSync;return ue(v,void 0,void 0,function(){var u,c,d,p,w,S,m=this;return se(this,function(s){switch(s.label){case 0:return u=this.userModelClasses[$.name],g.has(u)||(g.set(u,{new:0,updated:0,deleted:0}),I=ew(),T=T===void 0?b:Math.max(T,b)),[4,this.storage.runExclusive(function(y){return ue(m,void 0,void 0,function(){var x,C,N,j,B,L,Y,G,Z,K,U,W,Te,ee,re;return se(this,function(De){switch(De.label){case 0:return[4,this.outbox.getModelIds(y)];case 1:x=De.sent(),C=[],N=F.filter(function(ie){var J=ai($,ie);return x.has(J)?(C.push(ie),!1):!0}),j=[],De.label=2;case 2:De.trys.push([2,7,8,9]),B=He(C),L=B.next(),De.label=3;case 3:return L.done?[3,6]:(Y=L.value,[4,this.modelMerger.merge(y,Y,$)]);case 4:G=De.sent(),G!==void 0&&j.push([Y,G]),De.label=5;case 5:return L=B.next(),[3,3];case 6:return[3,9];case 7:return Z=De.sent(),ee={error:Z},[3,9];case 8:try{L&&!L.done&&(re=B.return)&&re.call(B)}finally{if(ee)throw ee.error}return[7];case 9:return U=(K=j.push).apply,W=[j],[4,this.modelMerger.mergePage(y,u,N,$)];case 10:return U.apply(K,W.concat([Wt.apply(void 0,[De.sent()])])),Te=g.get(u),j.forEach(function(ie){var J=Le(ie,2),qe=J[1];switch(qe){case xt.INSERT:Te.new++;break;case xt.UPDATE:Te.updated++;break;case xt.DELETE:Te.deleted++;break;default:throw new Error("Invalid opType "+qe)}}),[2]}})})})];case 1:return s.sent(),z?(c=$.name,[4,this.getModelMetadata(q,c)]):[3,4];case 2:return d=s.sent(),p=d.lastFullSync,w=d.fullSyncInterval,A=w,E=E===void 0?p:Math.max(E,o?b:p),d=this.modelClasses.ModelMetadata.copyOf(d,function(y){y.lastSync=b,y.lastFullSync=o?b:d.lastFullSync}),[4,this.storage.save(d,void 0,qs)];case 3:s.sent(),S=g.get(u),this.modelSyncedStatus.set(u,!0),r.next({type:ur.SYNC_ENGINE_MODEL_SYNCED,data:{model:u,isFullSync:o,isDeltaSync:!o,counts:S}}),M.delete($),M.size===0&&(O=ew()-I,R(),r.next({type:ur.SYNC_ENGINE_SYNC_QUERIES_READY}),n.unsubscribe()),s.label=4;case 4:return[2]}})})},error:function(V){r.error(V)}}),r.next({type:ur.SYNC_ENGINE_SYNC_QUERIES_STARTED,data:{models:Array.from(M).map(function(V){var q=V.name;return q})}})})];case 2:return k.sent(),E?P=E+A-(T+O):P=A-O,wo.debug("Next fullSync in "+P/1e3+" seconds. ("+new Date(Date.now()+P)+")"),[4,l.runningProcesses.add(function(R){return ue(v,void 0,void 0,function(){var D,V,q=this;return se(this,function($){return V=new Promise(function(F){D=F,setTimeout(D,P)}),R.then(function(){i=!0,q.syncQueriesObservableStartSleeping(),D()}),this.unsleepSyncQueriesObservable=D,this.syncQueriesObservableStartSleeping(),[2,V]})})},"syncQueriesObservable sleep")];case 3:return k.sent(),l.unsleepSyncQueriesObservable=null,l.waitForSleepState=new Promise(function(R){v.syncQueriesObservableStartSleeping=R}),[2]}})},l=this,h.label=1;case 1:return!r.closed&&!i?[5,f()]:[3,3];case 2:return h.sent(),[3,1];case 3:return[2]}})})},"syncQueriesObservable main")}):Pr.of()},e.prototype.disconnectionHandler=function(){var t=this;return function(r){(Tr.CONNECTION_CLOSED===r||Tr.TIMEOUT_DISCONNECT===r)&&t.datastoreConnectivity.socketDisconnected()}},e.prototype.unsubscribeConnectivity=function(){this.datastoreConnectivity.unsubscribe()},e.prototype.stop=function(){return ue(this,void 0,void 0,function(){return se(this,function(t){switch(t.label){case 0:return wo.debug("stopping sync engine"),this.unsubscribeConnectivity(),this.stopDisruptionListener&&this.stopDisruptionListener(),[4,this.mutationsProcessor.stop()];case 1:return t.sent(),[4,this.subscriptionsProcessor.stop()];case 2:return t.sent(),[4,this.datastoreConnectivity.stop()];case 3:return t.sent(),[4,this.syncQueriesProcessor.stop()];case 4:return t.sent(),[4,this.runningProcesses.close()];case 5:return t.sent(),[4,this.runningProcesses.open()];case 6:return t.sent(),wo.debug("sync engine stopped and ready to restart"),[2]}})})},e.prototype.setupModels=function(t){return ue(this,void 0,void 0,function(){var r,n,a,i,f,l,v,h,g,_,M,E,A,I=this;return se(this,function(O){switch(O.label){case 0:r=t.fullSyncInterval,n=this.modelClasses.ModelMetadata,a=[],Object.values(this.schema.namespaces).forEach(function(T){Object.values(T.models).filter(function(P){var k=P.syncable;return k}).forEach(function(P){if(a.push([T.name,P]),T.name===Ts){var k=I.userModelClasses[P.name];I.modelSyncedStatus.set(k,!1)}})}),f=a.map(function(T){var P=Le(T,2),k=P[0],R=P[1];return ue(I,void 0,void 0,function(){var D,V,q,$,F,z,b,o,u;return se(this,function(c){switch(c.label){case 0:return[4,this.getModelMetadata(k,R.name)];case 1:return D=c.sent(),V=Kt.getPredicates(this.syncPredicates.get(R),!1),q=V?JSON.stringify(V):null,D!==void 0?[3,3]:[4,this.storage.save(this.modelInstanceCreator(n,{model:R.name,namespace:k,lastSync:null,fullSyncInterval:r,lastFullSync:null,lastSyncPredicate:q}),void 0,qs)];case 2:return z=Le.apply(void 0,[c.sent(),1]),b=Le(z[0],1),i=b[0],[3,5];case 3:return $=D.lastSyncPredicate?D.lastSyncPredicate:null,F=$!==q,[4,this.storage.save(n.copyOf(D,function(d){d.fullSyncInterval=r,F&&(d.lastSync=null,d.lastFullSync=null,d.lastSyncPredicate=q)}))];case 4:o=Le.apply(void 0,[c.sent(),1]),u=Le(o[0],1),i=u[0],c.label=5;case 5:return[2,i]}})})}),l={},O.label=1;case 1:return O.trys.push([1,6,7,8]),[4,Promise.all(f)];case 2:v=He.apply(void 0,[O.sent()]),h=v.next(),O.label=3;case 3:if(h.done)return[3,5];g=h.value,_=g.model,l[_]=g,O.label=4;case 4:return h=v.next(),[3,3];case 5:return[3,8];case 6:return M=O.sent(),E={error:M},[3,8];case 7:try{h&&!h.done&&(A=v.return)&&A.call(v)}finally{if(E)throw E.error}return[7];case 8:return[2,l]}})})},e.prototype.getModelsMetadata=function(){return ue(this,void 0,void 0,function(){var t,r;return se(this,function(n){switch(n.label){case 0:return t=this.modelClasses.ModelMetadata,[4,this.storage.query(t)];case 1:return r=n.sent(),[2,r]}})})},e.prototype.getModelMetadata=function(t,r){return ue(this,void 0,void 0,function(){var n,a,i,f;return se(this,function(l){switch(l.label){case 0:return n=this.modelClasses.ModelMetadata,a=Kt.createFromAST(this.schema.namespaces[Ho].models[n.name],{and:[{namespace:{eq:t}},{model:{eq:r}}]}),[4,this.storage.query(n,a,{page:0,limit:1})];case 1:return i=Le.apply(void 0,[l.sent(),1]),f=i[0],[2,f]}})})},e.prototype.getModelDefinition=function(t){var r=this.namespaceResolver(t),n=this.schema.namespaces[r].models[t.name];return n},e.getNamespace=function(){var t={name:Ho,relationships:{},enums:{OperationType:{name:"OperationType",values:["CREATE","UPDATE","DELETE"]}},nonModels:{},models:{MutationEvent:{name:"MutationEvent",pluralName:"MutationEvents",syncable:!1,fields:{id:{name:"id",type:"ID",isRequired:!0,isArray:!1},model:{name:"model",type:"String",isRequired:!0,isArray:!1},data:{name:"data",type:"String",isRequired:!0,isArray:!1},modelId:{name:"modelId",type:"String",isRequired:!0,isArray:!1},operation:{name:"operation",type:{enum:"Operationtype"},isArray:!1,isRequired:!0},condition:{name:"condition",type:"String",isArray:!1,isRequired:!0}}},ModelMetadata:{name:"ModelMetadata",pluralName:"ModelsMetadata",syncable:!1,fields:{id:{name:"id",type:"ID",isRequired:!0,isArray:!1},namespace:{name:"namespace",type:"String",isRequired:!0,isArray:!1},model:{name:"model",type:"String",isRequired:!0,isArray:!1},lastSync:{name:"lastSync",type:"Int",isRequired:!1,isArray:!1},lastFullSync:{name:"lastFullSync",type:"Int",isRequired:!1,isArray:!1},fullSyncInterval:{name:"fullSyncInterval",type:"Int",isRequired:!0,isArray:!1},lastSyncPredicate:{name:"lastSyncPredicate",type:"String",isRequired:!1,isArray:!1}}}}};return t},e.prototype.startDisruptionListener=function(){var t=this;return _r.listen("api",function(r){if(r.source==="PubSub"&&r.payload.event===j4){var n=r.payload.data.connectionState;switch(n){case ir.ConnectionDisrupted:t.connectionDisrupted=!0;break;case ir.Connected:t.connectionDisrupted&&t.scheduleSync(),t.connectionDisrupted=!1;break}}})},e.prototype.scheduleSync=function(){var t=this;return this.runningProcesses.isOpen&&this.runningProcesses.add(function(){return t.waitForSleepState.then(function(){t.unsleepSyncQueriesObservable()})})},e}(),Cj=Wt(Z4),Cv=new Map,uf=function(e,t){var r=t||new dq;return Cv.set(r,e),r},Gn=function(e){if(!Cv.has(e))throw new Error("Invalid predicate. Terminate your predicate with a valid condition (e.g., `p => p.field.eq('value')`) or pass `Predicates.ALL`.");return Cv.get(e)},Ov={and:"or",or:"and",not:"and",eq:"ne",ne:"eq",gt:"le",ge:"lt",lt:"ge",le:"gt",contains:"notContains",notContains:"contains"},$f=function(){function e(t,r,n){this.field=t,this.operator=r,this.operands=n,this.validate()}return e.prototype.copy=function(t){return[new e(this.field,this.operator,Wt(this.operands)),void 0]},e.prototype.toAST=function(){var t,r;return t={},t[this.field]=(r={},r[this.operator]=this.operator==="between"?[this.operands[0],this.operands[1]]:this.operands[0],r),t},e.prototype.negated=function(t){return this.operator==="between"?new Ro(t,void 0,void 0,"or",[new e(this.field,"lt",[this.operands[0]]),new e(this.field,"gt",[this.operands[1]])]):this.operator==="beginsWith"?new Ro(t,void 0,void 0,"not",[new e(this.field,"beginsWith",[this.operands[0]])]):new e(this.field,Ov[this.operator],this.operands)},e.prototype.fetch=function(t){return ue(this,void 0,void 0,function(){return se(this,function(r){return[2,Promise.reject("No implementation needed [yet].")]})})},e.prototype.matches=function(t){return ue(this,void 0,void 0,function(){var r,n,a,i,f=this;return se(this,function(l){if(r=t[this.field],n={eq:function(){return r===f.operands[0]},ne:function(){return r!==f.operands[0]},gt:function(){return r>f.operands[0]},ge:function(){return r>=f.operands[0]},lt:function(){return r<f.operands[0]},le:function(){return r<=f.operands[0]},contains:function(){return(r==null?void 0:r.indexOf(f.operands[0]))>-1},notContains:function(){return r?r.indexOf(f.operands[0])===-1:!0},beginsWith:function(){return r==null?void 0:r.startsWith(f.operands[0])},between:function(){return r>=f.operands[0]&&r<=f.operands[1]}},a=n[this.operator],a)return i=a(),[2,i];throw new Error("Invalid operator given: "+this.operator)})})},e.prototype.validate=function(){var t=this,r=function(f){var l=f===1?"argument is":"arguments are";return function(){if(t.operands.length!==f)return"Exactly "+f+" "+l+" required."}},n={eq:r(1),ne:r(1),gt:r(1),ge:r(1),lt:r(1),le:r(1),contains:r(1),notContains:r(1),beginsWith:r(1),between:function(){return r(2)()||(t.operands[0]>t.operands[1]?"The first argument must be less than or equal to the second argument.":null)}},a=n[this.operator];if(a){var i=a();if(typeof i=="string")throw new Error("Incorrect usage of `"+this.operator+"()`: "+i)}else throw new Error("Non-existent operator: `"+this.operator+"()`")},e}(),Oj=function(){var e=1;return function(){return"group_"+e++}}(),Ro=function(){function e(t,r,n,a,i,f){f===void 0&&(f=!1),this.model=t,this.field=r,this.relationshipType=n,this.operator=a,this.operands=i,this.isOptimized=f,this.groupId=Oj()}return e.prototype.copy=function(t){var r=new e(this.model,this.field,this.relationshipType,this.operator,[]),n=t===this?r:void 0;return this.operands.forEach(function(a){var i=Le(a.copy(t),2),f=i[0],l=i[1];r.operands.push(f),n=n||l}),[r,n]},e.prototype.withFieldConditionsOnly=function(t){var r=this,n=t!==(this.operator==="not");return new e(this.model,void 0,void 0,t?Ov[this.operator]:this.operator,this.operands.filter(function(a){return a instanceof $f}).map(function(a){return n?a.negated(r.model):a}))},e.prototype.optimized=function(t){var r=this;t===void 0&&(t=!0);var n=this.operands.map(function(i){return i instanceof e?i.optimized(r.operator==="not"):i});if(!t&&["and","or"].includes(this.operator)&&!this.field&&n.length===1){var a=n[0];if(a instanceof $f){if(a.operator!=="between")return a}else return a}return new e(this.model,this.field,this.relationshipType,this.operator,n,!0)},e.prototype.fetch=function(t,r,n){return r===void 0&&(r=[]),n===void 0&&(n=!1),ue(this,void 0,void 0,function(){var a,i,f,l,v,h,g,_,M,E,A,I,O,T,P,k,q,R,D,V,q,$,F,z,b,o,u,c,d,x,p,w,S,m,s,y,x,C,N,j,B,L,Y,G,Z,K,U,W,Te,ee,re,De,ie,J=this;return se(this,function(qe){switch(qe.label){case 0:if(!this.isOptimized)return[2,this.optimized().fetch(t)];a=[],i=n?Ov[this.operator]:this.operator,f=n!==(this.operator==="not"),l=this.operands.filter(function(ae){return ae instanceof e}),v=this.operands.filter(function(ae){return ae instanceof $f}),qe.label=1;case 1:qe.trys.push([1,10,11,12]),h=He(l),g=h.next(),qe.label=2;case 2:return g.done?[3,9]:(_=g.value,[4,_.fetch(t,Wt(r,[this.groupId]),f)]);case 3:if(M=qe.sent(),M.length===0)return i==="and"?[2,[]]:(a.push([]),[3,8]);if(!_.field)return[3,7];if(E=zl.from(this.model,_.field),!E)return[3,5];A=[];try{for(I=(Y=void 0,He(M)),O=I.next();!O.done;O=I.next()){for(T=O.value,P=[],k=0;k<E.localJoinFields.length;k++)P.push((Z={},Z[E.localJoinFields[k]]={eq:T[E.remoteJoinFields[k]]},Z));A.push({and:P})}}catch(ae){Y={error:ae}}finally{try{O&&!O.done&&(G=I.return)&&G.call(I)}finally{if(Y)throw Y.error}}return q=Kt.createFromAST(this.model.schema,{or:A}),D=(R=a).push,[4,t.query(this.model.builder,q)];case 4:return D.apply(R,[qe.sent()]),[3,6];case 5:throw new Error("Missing field metadata.");case 6:return[3,8];case 7:a.push(M),qe.label=8;case 8:return g=h.next(),[3,2];case 9:return[3,12];case 10:return V=qe.sent(),B={error:V},[3,12];case 11:try{g&&!g.done&&(L=h.return)&&L.call(h)}finally{if(B)throw B.error}return[7];case 12:return v.length>0?(q=this.withFieldConditionsOnly(f).toStoragePredicate(),F=($=a).push,[4,t.query(this.model.builder,q)]):[3,14];case 13:return F.apply($,[qe.sent()]),[3,16];case 14:return v.length===0&&a.length===0?(b=(z=a).push,[4,t.query(this.model.builder)]):[3,16];case 15:b.apply(z,[qe.sent()]),qe.label=16;case 16:if(o=function(ae){return JSON.stringify(J.model.pkField.map(function(be){return ae[be]}))},i==="and"){if(a.length===0)return[2,[]];try{for(c=He(a),d=c.next();!d.done;d=c.next())if(x=d.value,u===void 0)u=new Map(x.map(function(ae){return[o(ae),ae]}));else{p=new Map(x.map(function(ae){return[o(ae),ae]}));try{for(w=(W=void 0,He(u.keys())),S=w.next();!S.done;S=w.next())m=S.value,p.has(m)||u.delete(m)}catch(ae){W={error:ae}}finally{try{S&&!S.done&&(Te=w.return)&&Te.call(w)}finally{if(W)throw W.error}}}}catch(ae){K={error:ae}}finally{try{d&&!d.done&&(U=c.return)&&U.call(c)}finally{if(K)throw K.error}}}else if(i==="or"||i==="not"){u=new Map;try{for(s=He(a),y=s.next();!y.done;y=s.next()){x=y.value;try{for(C=(De=void 0,He(x)),N=C.next();!N.done;N=C.next())j=N.value,u.set(o(j),j)}catch(ae){De={error:ae}}finally{try{N&&!N.done&&(ie=C.return)&&ie.call(C)}finally{if(De)throw De.error}}}}catch(ae){ee={error:ae}}finally{try{y&&!y.done&&(re=s.return)&&re.call(s)}finally{if(ee)throw ee.error}}}return[2,Array.from((u==null?void 0:u.values())||[])]}})})},e.prototype.matches=function(t,r){r===void 0&&(r=!1);var n,a;return ue(this,void 0,void 0,function(){var i,f,l,v,h,g;return se(this,function(_){switch(_.label){case 0:return this.field&&!r?[4,t[this.field]]:[3,2];case 1:return f=_.sent(),[3,3];case 2:f=t,_.label=3;case 3:if(i=f,!i)return[2,!1];if(!(this.relationshipType==="HAS_MANY"&&typeof i[Symbol.asyncIterator]=="function"))return[3,17];_.label=4;case 4:_.trys.push([4,10,11,16]),l=ti(i),_.label=5;case 5:return[4,l.next()];case 6:return v=_.sent(),!v.done?(h=v.value,[4,this.matches(h,!0)]):[3,9];case 7:if(_.sent())return[2,!0];_.label=8;case 8:return[3,5];case 9:return[3,16];case 10:return g=_.sent(),n={error:g},[3,16];case 11:return _.trys.push([11,,14,15]),v&&!v.done&&(a=l.return)?[4,a.call(l)]:[3,13];case 12:_.sent(),_.label=13;case 13:return[3,15];case 14:if(n)throw n.error;return[7];case 15:return[7];case 16:return[2,!1];case 17:return this.operator!=="or"?[3,18]:[2,WL(this.operands,function(M){return M.matches(i)})];case 18:return this.operator!=="and"?[3,19]:[2,JL(this.operands,function(M){return M.matches(i)})];case 19:if(this.operator!=="not")return[3,21];if(this.operands.length!==1)throw new Error("Invalid arguments! `not()` accepts exactly one predicate expression.");return[4,this.operands[0].matches(i)];case 20:return[2,!_.sent()];case 21:throw new Error("Invalid group operator!")}})})},e.prototype.toAST=function(){var t;if(this.field)throw new Error("Nested type conditions are not supported!");return t={},t[this.operator]=this.operands.map(function(r){return r.toAST()}),t},e.prototype.toStoragePredicate=function(){return Kt.createFromAST(this.model.schema,this.toAST())},e.prototype.toJSON=function(){return pe(pe({},this),{model:this.model.schema.name})},e}();function Ra(e,t,r,n,a){t===void 0&&(t=!0);var i=new Ro(e,r,void 0,"and",[]),f=n&&a?n:i,l=n&&a?a:i,v={};uf(f,v);var h=function(){var M=Le(f.copy(l),2),E=M[0],A=M[1],I=Ra(e,t,void 0,E,A);return{query:E,newTail:A,newLink:I}};["and","or"].forEach(function(M){v[M]=function(E){var A=h(),I=A.query,O=A.newTail,T=E(Ra(e,t));if(!Array.isArray(T))throw new Error("Invalid predicate. `"+M+"` groups must return an array of child conditions.");return O==null||O.operands.push(new Ro(e,r,void 0,M,T.map(function(P){return Gn(P)}))),uf(I)}}),v.not=function(M){var E=h(),A=E.query,I=E.newTail;return I==null||I.operands.push(new Ro(e,r,void 0,"not",[Gn(M(Ra(e,t)))])),uf(A)};var g=function(M){Object.defineProperty(v,M,{enumerable:!0,get:function(){var E=e.schema.allFields[M];if(E.association)if(t)if(E.association.connectionType==="BELONGS_TO"||E.association.connectionType==="HAS_ONE"||E.association.connectionType==="HAS_MANY"){var A=E.type.modelConstructor;if(!A)throw new Error("Related model metadata is missing. This is a bug! Please report it.");var I=Le(f.copy(l),2),O=I[0],T=I[1],P=new Ro(A,M,E.association.connectionType,"and",[]);T.operands.push(P);var k=Ra(A,t,void 0,O,P);return k}else throw new Error("Related model definition doesn't have a typedef. This is a bug! Please report it.");else throw new Error("Predication on releated models is not supported in this context.");else return Cj.reduce(function(R,D){var V;return pe(pe({},R),(V={},V[D]=function(){for(var q=[],$=0;$<arguments.length;$++)q[$]=arguments[$];var F=h(),z=F.query,b=F.newTail,o=q.map(function(u){return u===void 0?null:u});return b==null||b.operands.push(new $f(M,D,o)),uf(z)},V))},{})}})};for(var _ in e.schema.allFields)g(_);return v}function ff(e){return Ra(e,!1)}wL(!0);vL();var yt=new wt("DataStore"),Pj=eM(Date.now()),kj=Kr().isNode,gw="schemaVersion",wr,Kl=new WeakMap,Eo=new WeakMap,jr=function(e){var t=Kl.get(e),r=t?wr.namespaces[t].models[e.name]:void 0;return r},Wn=function(e){return ja(e)&&Kl.has(e)},cf=function(e){var t=Kl.get(e);if(!t)throw new Error("Namespace Resolver for '"+e.name+"' not found! This is probably a bug in '@amplify-js/datastore'.");return t},Zd=function(e){if(!e)throw new Error("Missing modelConstructor");var t=jr(e);if(!t)throw new Error("Missing modelSchema");var r=hr(t);if(!r)throw new Error("Could not determine PK");return Ra({builder:e,schema:t,pkField:r})},Pm,No,km,gM,_o=new WeakMap,Dn;(function(e){e.Detached="Detached",e.DataStore="DataStore",e.API="API"})(Dn||(Dn={}));var Pv=new WeakMap;function Na(e,t){return Array.isArray(e)?e.map(function(r){return Na(r,t)}):e&&Pv.set(e,t),e}var bw=function(e){return Pv.has(e)?Pv.get(e):Dn.Detached},Rj=function(e){var t;if(wr!==void 0)return console.warn("The schema has already been initialized"),No;yt.log("validating schema",{schema:e}),Nj(e.codegenVersion);var r=pe({name:Ts},e);yt.log("DataStore","Init models"),No=lf(r),yt.log("DataStore","Models initialized");var n=Lj(),a=Tv.getNamespace(),i=yM.getNamespace();return km=lf(n),gM=lf(a),Pm=lf(i),wr={namespaces:(t={},t[n.name]=n,t[r.name]=r,t[a.name]=a,t[i.name]=i,t),version:e.version,codegenVersion:e.codegenVersion},Object.keys(wr.namespaces).forEach(function(f){var l,v,h=Le(iM(wr.namespaces[f]),2),g=h[0],_=h[1];wr.namespaces[f].relationships=g,wr.namespaces[f].keys=_;var M=new Map;Object.values(wr.namespaces[f].models).forEach(function(k){var R,D,V,q,$=[];Object.values(k.fields).filter(function(w){return w.association&&w.association.connectionType==="BELONGS_TO"&&w.type.model!==k.name}).forEach(function(w){return $.push(w.type.model)}),M.set(k.name,$),Object.values(k.fields).forEach(function(w){var S=No[w.type.model];ja(S)&&Object.defineProperty(w.type,"modelConstructor",{get:function(){var m=jr(S);if(!m)throw new Error("Could not find model definition for "+S.name);return{builder:S,schema:m,pkField:hr(m)}}})});var F=wr.namespaces[f].relationships[k.name].indexes,z=new Set;try{for(var b=He(F),o=b.next();!o.done;o=b.next()){var u=o.value;try{for(var c=(V=void 0,He(u[1])),d=c.next();!d.done;d=c.next()){var p=d.value;z.add(p)}}catch(w){V={error:w}}finally{try{d&&!d.done&&(q=c.return)&&q.call(c)}finally{if(V)throw V.error}}}}catch(w){R={error:w}}finally{try{o&&!o.done&&(D=b.return)&&D.call(b)}finally{if(R)throw R.error}}k.allFields=pe(pe({},Object.fromEntries(Wt(z.values()).map(function(w){return[w,{name:w,type:"ID",isArray:!1}]}))),k.fields)});for(var E=new Map,A=1e3;A>0&&M.size!==0;){if(A--,A===0)throw new Error("Models are not topologically sortable. Please verify your schema.");try{for(var I=(l=void 0,He(Array.from(M.keys()))),O=I.next();!O.done;O=I.next()){var T=O.value,P=M.get(T);P!=null&&P.every(function(k){return E.has(k)})&&E.set(T,P)}}catch(k){l={error:k}}finally{try{O&&!O.done&&(v=I.return)&&v.call(I)}finally{if(l)throw l.error}}Array.from(E.keys()).forEach(function(k){return M.delete(k)})}wr.namespaces[f].modelTopologicalOrdering=E}),No},ww=function(){if(wr===void 0){var e="Schema is not initialized. DataStore will not function as expected. This could happen if you have multiple versions of DataStore installed. Please see https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js/#check-for-duplicate-versions";throw yt.error(e),new Error(e)}},Nj=function(e){var t=3,r=2,n=!1;try{var a=e.split("."),i=Le(a,4),f=i[0],l=i[1],v=i[2],h=i[3];n=Number(f)===t&&Number(l)>=r}catch(_){console.log("Error parsing codegen version: "+e+`
`+_)}if(!n){var g="Models were generated with an unsupported version of codegen. Codegen artifacts are from "+(e||"an unknown version")+", whereas ^"+t+"."+r+".0 is required. Update to the latest CLI and run 'amplify codegen models'.";throw yt.error(g),new Error(g)}},lf=function(e){var t={};return Object.entries(e.models).forEach(function(r){var n=Le(r,2),a=n[0],i=n[1],f=Dj(i);t[a]=f,Kl.set(f,e.name)}),Object.entries(e.nonModels||{}).forEach(function(r){var n=Le(r,2),a=n[0],i=n[1],f=Uj(i);t[a]=f}),t},bM=new WeakSet;function Go(e,t){return bM.add(t),new e(t)}var Ac=function(e){return function(t,r){var n=e.fields[t];if(n!==void 0){var a=n.type,i=n.isRequired,f=n.isArrayNullable,l=n.name,v=n.isArray,h=_v(e)?cq(e):{},g=!!h[l];if((!v&&i||v&&!f)&&!g&&r==null)throw new Error("Field "+l+" is required");if(_v(e)&&!nM(e)){var _=hr(e);if(_.includes(t)&&r==="")throw yt.error(Xs.idEmptyString,{k:t,value:r}),new Error(Xs.idEmptyString)}if(sM(a)){var M=Qa.getJSType(a),E=Qa.getValidationFunction(a);if(a==="AWSJSON"){if(typeof r===M)return;if(typeof r=="string")try{JSON.parse(r);return}catch{throw new Error("Field "+l+" is an invalid JSON object. "+r)}}if(v){var A=M;if(i||(A=M+" | null | undefined"),!Array.isArray(r)&&!f)throw new Error("Field "+l+" should be of type ["+A+"], "+typeof r+" received. "+r);if(!cn(r)&&r.some(function(k){return cn(k)?i:typeof k!==M})){var I=r.map(function(k){return k===null?"null":typeof k}).join(",");throw new Error("All elements in the "+l+" array should be of type "+A+", ["+I+"] received. "+r)}if(E&&!cn(r)){var O=r.map(function(k){return cn(k)?!!(cn(k)&&!i):E(k)});if(!O.every(function(k){return k}))throw new Error("All elements in the "+l+" array should be of type "+a+", validation failed for one or more elements. "+r)}}else{if(!i&&r===void 0)return;if(typeof r!==M&&r!==null)throw new Error("Field "+l+" should be of type "+M+", "+typeof r+" received. "+r);if(!cn(r)&&E&&!E(r))throw new Error("Field "+l+" should be of type "+a+", validation failed. "+r)}}else if(Sc(a)&&!cn(r)){var T=wr.namespaces.user.nonModels[a.nonModel],P=Ac(T);if(v){var A=a.nonModel;if(i||(A=a.nonModel+" | null | undefined"),!Array.isArray(r))throw new Error("Field "+l+" should be of type ["+A+"], "+typeof r+" received. "+r);r.forEach(function(R){if(cn(R)&&i||typeof R!="object"&&typeof R<"u")throw new Error("All elements in the "+l+" array should be of type "+a.nonModel+", ["+typeof R+"] received. "+R);cn(R)||Object.keys(T.fields).forEach(function(D){P(D,R[D])})})}else{if(typeof r!="object")throw new Error("Field "+l+" should be of type "+a.nonModel+", "+typeof r+" recieved. "+r);Object.keys(T.fields).forEach(function(k){P(k,r[k])})}}}}},wM=function(e,t,r){var n=e.fields[t]||{},a=n.isArray,i=n.type;if(typeof r=="string"&&(a||i==="AWSJSON"||Sc(i)||uM(i)))try{return JSON.parse(r)}catch{}return typeof r=="number"&&i==="Boolean"?Boolean(r):r},kv=new WeakMap,_M=function(e,t,r){var n=Ac(t);Object.entries(e).forEach(function(a){var i=Le(a,2),f=i[0],l=i[1],v=wM(t,f,l);n(f,v),r[f]=v})},_w=function(e,t){var r,n;try{for(var a=He(Object.keys(e.fields)),i=a.next();!i.done;i=a.next()){var f=i.value;t[f]===void 0&&(t[f]=null)}}catch(l){r={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},Dj=function(e){var t,r,n=function(){function h(g){var _=[],M=Ys(this,function(A){_M(g,e,A);var I=bM.has(g),O=I?g:{},T=O.id;if(nM(e)){var P=T!=null,k=P?T:e.syncable?gc.v4():Pj();A.id=k}else fq(e)&&(A.id=A.id||gc.v4());I||Bj(A,e);var R=O._version,D=O._lastChangedAt,V=O._deleted;e.syncable&&(A._version=R,A._lastChangedAt=D,A._deleted=V)},function(A){return _=A}),E=Ys(M,function(A){return _w(e,A)});return kv.set(E,_),E}return h.copyOf=function(g,_){var M=Object.getPrototypeOf(g||{}).constructor;if(!Wn(M)){var E="The source object is not a valid model";throw yt.error(E,{source:g}),new Error(E)}var A=[],I=Ys(g,function(D){_(D);var V=hr(e);V.forEach(function($){D[$]!==g[$]&&yt.warn("copyOf() does not update PK fields. The '"+$+"' update is being ignored.",{source:g}),D[$]=g[$]});var q=Ac(e);Object.entries(D).forEach(function($){var F=Le($,2),z=F[0],b=F[1],o=wM(e,z,b);q(z,o)}),_w(e,D)},function(D){return A=D}),O=Eo.has(g);if(A.length||O)if(O){var T=Le(Eo.get(g),2),P=T[0],k=T[1],R=oq(k,P,A);Eo.set(I,[R,k]),Mw(R,e)}else Eo.set(I,[A,g]),Mw(A,e);else Eo.set(I,[[],g]);return Na(I,Dn.DataStore)},h.fromJSON=function(g){var _=this;if(Array.isArray(g))return g.map(function(A){return _.fromJSON(A)});var M=Go(n,g),E=Ac(e);return Object.entries(M).forEach(function(A){var I=Le(A,2),O=I[0],T=I[1];E(O,T)}),Na(M,Dn.DataStore)},h}();n[qa]=!0,Object.defineProperty(n,"name",{value:e.name});var a=zl.allFrom({builder:n,schema:e,pkField:hr(e)}),i=function(h){var g=h.field;Object.defineProperty(n.prototype,e.fields[g].name,{set:function(_){if(typeof _=="object"||typeof _>"u"){if(_&&_.hasOwnProperty("_version")){var M=Object.getPrototypeOf(_||{}).constructor;if(!Wn(M)){var E="Value passed to "+e.name+"."+g+" is not a valid instance of a model";throw yt.error(E,{model:_}),new Error(E)}if(M.name.toLowerCase()!==h.remoteModelConstructor.name.toLowerCase()){var E="Value passed to "+e.name+"."+g+" is not an instance of "+h.remoteModelConstructor.name;throw yt.error(E,{model:_}),new Error(E)}}if(h.isComplete){for(var A=0;A<h.localJoinFields.length;A++)this[h.localJoinFields[A]]=_==null?void 0:_[h.remoteJoinFields[A]];var I=_o.has(this)?_o.get(this):_o.set(this,{}).get(this);I[g]=_||void 0}}},get:function(){var _=this,M=_o.has(this)?_o.get(this):_o.set(this,{}).get(this);if(!M.hasOwnProperty(g))if(bw(this)===Dn.DataStore){var E=SM.query(h.remoteModelConstructor,function(A){return A.and(function(I){return h.remoteJoinFields.map(function(O,T){return I[O].eq(_[h.localJoinFields[T]])})})});h.type==="HAS_MANY"?M[g]=new Sw(E):M[g]=E.then(function(A){if(A.length>1){var I=new Error(`
									Data integrity error.
									Too many records found for a HAS_ONE/BELONGS_TO field '`+e.name+"."+g+`'
								`);throw console.error(I),I}else return A[0]})}else{if(bw(this)===Dn.API)throw new Error("Lazy loading from API is not yet supported!");return h.type==="HAS_MANY"?new Sw([]):Promise.resolve(void 0)}return M[g]}})};try{for(var f=He(a),l=f.next();!l.done;l=f.next()){var v=l.value;i(v)}}catch(h){t={error:h}}finally{try{l&&!l.done&&(r=f.return)&&r.call(f)}finally{if(t)throw t.error}}return n};(function(e){ys(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(Promise);var Sw=function(){function e(t){this.values=t}return e.prototype[Symbol.asyncIterator]=function(){var t=this,r,n=0;return{next:function(){return ue(t,void 0,void 0,function(){var a;return se(this,function(i){switch(i.label){case 0:return r?[3,2]:[4,this.values];case 1:r=i.sent(),i.label=2;case 2:return n<r.length?(a={value:r[n],done:!1},n++,[2,a]):[2,{value:null,done:!0}]}})})}}},e.prototype.toArray=function(t){var r=(t===void 0?{}:t).max,n=r===void 0?Number.MAX_SAFE_INTEGER:r,a,i;return ue(this,void 0,void 0,function(){var f,l,v,h,g,_;return se(this,function(M){switch(M.label){case 0:f=[],l=0,M.label=1;case 1:M.trys.push([1,6,7,12]),v=ti(this),M.label=2;case 2:return[4,v.next()];case 3:if(h=M.sent(),!!h.done)return[3,5];if(g=h.value,l<n)f.push(g),l++;else return[3,5];M.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return _=M.sent(),a={error:_},[3,12];case 7:return M.trys.push([7,,10,11]),h&&!h.done&&(i=v.return)?[4,i.call(v)]:[3,9];case 8:M.sent(),M.label=9;case 9:return[3,11];case 10:if(a)throw a.error;return[7];case 11:return[7];case 12:return[2,f]}})})},e}(),Bj=function(e,t){var r=Object.keys(e),n=t.fields;r.forEach(function(a){if(n[a]&&n[a].isReadOnly)throw new Error(a+" is read-only.")})},Mw=function(e,t){var r=e.map(function(a){return[a.path[0],a.value]}),n=t.fields;r.forEach(function(a){var i=Le(a,2),f=i[0],l=i[1];if(!(!l||!n[f])&&n[f].isReadOnly)throw new Error(f+" is read-only.")})},Uj=function(e){var t=function(){function r(n){var a=Ys(this,function(i){_M(n,e,i)});return a}return r}();return t[qa]=!0,Object.defineProperty(t,"name",{value:e.name}),VL(t),t};function xw(e){return typeof e=="string"}function Ew(e){var t=e.localModel,r=e.modelConstructor,n=e.remoteModel,a=n._version;return Go(r,pe(pe({},t),{_version:a}))}function Aw(e){yt.warn(e)}function Iw(e,t){var r;switch(e){case bm:r=km[t];break;case Ts:r=No[t];break;case Ho:r=Pm[t];break;case Q4:r=gM[t];break;default:throw new Error("Invalid namespace: "+e)}if(Wn(r))return r;var n="Model name is not valid for namespace. modelName: "+t+", namespace: "+e;throw yt.error(n),new Error(n)}function Fj(e,t){return ue(this,void 0,void 0,function(){var r,n,a=this;return se(this,function(i){switch(i.label){case 0:return r=km.Setting,n=wr.namespaces[bm].models.Setting,[4,e.runExclusive(function(f){return ue(a,void 0,void 0,function(){var l,v,h;return se(this,function(g){switch(g.label){case 0:return[4,f.query(r,Kt.createFromAST(n,{and:{key:{eq:gw}}}),{page:0,limit:1})];case 1:return l=Le.apply(void 0,[g.sent(),1]),v=l[0],v!==void 0&&v.value!==void 0?(h=JSON.parse(v.value),h===t?[3,3]:[4,f.clear(!1)]):[3,4];case 2:g.sent(),g.label=3;case 3:return[3,6];case 4:return[4,f.save(Go(r,{key:gw,value:JSON.stringify(t)}))];case 5:g.sent(),g.label=6;case 6:return[2]}})})})];case 1:return i.sent(),[2]}})})}var _a;function Lj(){var e={name:bm,relationships:{},enums:{},nonModels:{},models:{Setting:{name:"Setting",pluralName:"Settings",syncable:!1,fields:{id:{name:"id",type:"ID",isRequired:!0,isArray:!1},key:{name:"key",type:"String",isRequired:!0,isArray:!1},value:{name:"value",type:"String",isRequired:!0,isArray:!1}}}}};return e}var xi;(function(e){e.NotRunning="Not Running",e.Starting="Starting",e.Running="Running",e.Stopping="Stopping",e.Clearing="Clearing"})(xi||(xi={}));var qj=function(){function e(){var t=this;this.Auth=Li,this.API=Nu,this.Cache=Ja,this.amplifyConfig={},this.syncPredicates=new WeakMap,this.amplifyContext={Auth:this.Auth,API:this.API,Cache:this.Cache},this.runningProcesses=new Va,this.state=xi.NotRunning,this.start=function(){return ue(t,void 0,void 0,function(){var r=this;return se(this,function(n){return[2,this.runningProcesses.add(function(){return ue(r,void 0,void 0,function(){var a,i,f,l=this;return se(this,function(v){switch(v.label){case 0:return this.state=xi.Starting,this.initialized!==void 0?[3,1]:(yt.debug("Starting DataStore"),this.initialized=new Promise(function(h,g){l.initResolve=h,l.initReject=g}),[3,3]);case 1:return[4,this.initialized];case 2:return v.sent(),[2];case 3:return this.storage=new Tv(wr,cf,Iw,Go,this.storageAdapter,this.sessionId),[4,this.storage.init()];case 4:return v.sent(),ww(),[4,Fj(this.storage,wr.version)];case 5:return v.sent(),a=this.amplifyConfig.aws_appsync_graphqlEndpoint,a?(yt.debug("GraphQL endpoint available",a),i=this,[4,this.processSyncExpressions()]):[3,7];case 6:return i.syncPredicates=v.sent(),this.sync=new yM(wr,cf,Pm,No,this.storage,Go,this.conflictHandler,this.errorHandler,this.syncPredicates,this.amplifyConfig,this.authModeStrategy,this.amplifyContext,this.connectivityMonitor),f=this.fullSyncInterval*1e3*60,_a=this.sync.start({fullSyncInterval:f}).subscribe({next:function(h){var g=h.type,_=h.data,M=kj?ur.SYNC_ENGINE_SYNC_QUERIES_READY:ur.SYNC_ENGINE_STORAGE_SUBSCRIBED;g===M&&l.initResolve(),_r.dispatch("datastore",{event:g,data:_})},error:function(h){yt.warn("Sync error",h),l.initReject()}}),[3,8];case 7:yt.warn("Data won't be synchronized. No GraphQL endpoint configured. Did you forget `Amplify.configure(awsconfig)`?",{config:this.amplifyConfig}),this.initResolve(),v.label=8;case 8:return[4,this.initialized];case 9:return v.sent(),this.state=xi.Running,[2]}})})},"datastore start").catch(this.handleAddProcError("DataStore.start()"))]})})},this.query=function(r,n,a){return ue(t,void 0,void 0,function(){var i=this;return se(this,function(f){return[2,this.runningProcesses.add(function(){return ue(i,void 0,void 0,function(){var l,_,v,h,g,_,E,E,M,E,A,I,O;return se(this,function(T){switch(T.label){case 0:return[4,this.start()];case 1:if(T.sent(),!this.storage)throw new Error("No storage to query");if(!Wn(r))throw _="Constructor is not for a valid model",yt.error(_,{modelConstructor:r}),new Error(_);if(typeof n=="string"&&a!==void 0&&yt.warn("Pagination is ignored when querying by id"),v=jr(r),!v)throw new Error("Invalid model definition provided!");if(h=this.processPagination(v,a),g=hr(v),!xw(n))return[3,3];if(g.length>1)throw _=Xs.queryByPkWithCompositeKeyPresent,yt.error(_,{keyFields:g}),new Error(_);return E=Kt.createFromFlatEqualities(v,(I={},I[g[0]]=n,I)),[4,this.storage.query(r,E,h)];case 2:return l=T.sent(),[3,9];case 3:return of(n,v)?(E=Kt.createForPk(v,n),[4,this.storage.query(r,E,h)]):[3,5];case 4:return l=T.sent(),[3,9];case 5:return!n||qd(n)?[4,(O=this.storage)===null||O===void 0?void 0:O.query(r,void 0,h)]:[3,7];case 6:return l=T.sent(),[3,9];case 7:return M=Ra({builder:r,schema:v,pkField:hr(v)}),E=Gn(n(M)),[4,E.fetch(this.storage)];case 8:l=T.sent(),l=_m(l,h),T.label=9;case 9:return A=xw(n)||of(n,v),[2,Na(A?l[0]:l,Dn.DataStore)]}})})},"datastore query").catch(this.handleAddProcError("DataStore.query()"))]})})},this.save=function(r,n){return ue(t,void 0,void 0,function(){var a=this;return se(this,function(i){return[2,this.runningProcesses.add(function(){return ue(a,void 0,void 0,function(){var f,l,v,h,g,_,M,E,A,I,O=this;return se(this,function(T){switch(T.label){case 0:return[4,this.start()];case 1:if(T.sent(),!this.storage)throw new Error("No storage to save to");if(f=Eo.get(r),l=kv.has(r)?[kv.get(r),{}]:void 0,v=f||l,h=r?r.constructor:void 0,!Wn(h))throw g="Object is not an instance of a valid model",yt.error(g,{model:r}),new Error(g);if(_=jr(h),!_)throw new Error("Model Definition could not be found for model");return M={builder:h,schema:_,pkField:hr(_)},[4,this.storage.runExclusive(function(P){return ue(O,void 0,void 0,function(){var k,R,D,V,q,$,F,z,b,o;return se(this,function(u){switch(u.label){case 0:k=zl.allFrom(M).filter(function(c){return c.type==="BELONGS_TO"}),u.label=1;case 1:u.trys.push([1,6,7,8]),R=He(k),D=R.next(),u.label=2;case 2:return D.done?[3,5]:(V=D.value,q=V.createRemoteQueryObject(r),q===null?[3,4]:[4,P.query(V.remoteModelConstructor,Kt.createFromFlatEqualities(V.remoteDefinition,q))]);case 3:if($=u.sent(),$.length===0)throw new Error(["Data integrity error. You tried to save a "+_.name+" ("+JSON.stringify(r)+")",'but the instance assigned to the "'+V.field+'" property',"does not exist in the local database. If you're trying to create the related",'"'+((o=V.remoteDefinition)===null||o===void 0?void 0:o.name)+'", you must save it independently first.'].join(" "));u.label=4;case 4:return D=R.next(),[3,2];case 5:return[3,8];case 6:return F=u.sent(),z={error:F},[3,8];case 7:try{D&&!D.done&&(b=R.return)&&b.call(R)}finally{if(z)throw z.error}return[7];case 8:return[2]}})})})];case 2:return T.sent(),E=n?Gn(n(ff(M))).toStoragePredicate():void 0,[4,this.storage.runExclusive(function(P){return ue(O,void 0,void 0,function(){return se(this,function(k){switch(k.label){case 0:return[4,P.save(r,E,void 0,v)];case 1:return k.sent(),[2,P.query(h,Kt.createForPk(_,r))]}})})})];case 3:return A=Le.apply(void 0,[T.sent(),1]),I=A[0],[2,Na(I,Dn.DataStore)]}})})},"datastore save").catch(this.handleAddProcError("DataStore.save()"))]})})},this.setConflictHandler=function(r){var n=r.DataStore,a=function(){return t.conflictHandler===Ew};return n&&n.conflictHandler?n.conflictHandler:a()&&r.conflictHandler?r.conflictHandler:t.conflictHandler||Ew},this.setErrorHandler=function(r){var n=r.DataStore,a=function(){return t.errorHandler===Aw};return n&&n.errorHandler?n.errorHandler:a()&&r.errorHandler?r.errorHandler:t.errorHandler||Aw},this.delete=function(r,n){return ue(t,void 0,void 0,function(){var a=this;return se(this,function(i){return[2,this.runningProcesses.add(function(){return ue(a,void 0,void 0,function(){var f,E,g,E,_,l,E,E,v,O,h,g,E,_,M,E,A,I,O,T;return se(this,function(P){switch(P.label){case 0:return[4,this.start()];case 1:if(P.sent(),!this.storage)throw new Error("No storage to delete from");if(!r)throw E="Model or Model Constructor required",yt.error(E,{modelOrConstructor:r}),new Error(E);if(!Wn(r))return[3,3];if(g=r,!n)throw E="Id to delete or criteria required. Do you want to delete all? Pass Predicates.ALL",yt.error(E,{identifierOrCriteria:n}),new Error(E);if(_=jr(g),!_)throw new Error("Could not find model definition for modelConstructor.");if(typeof n=="string"){if(l=hr(_),l.length>1)throw E=Xs.deleteByPkWithCompositeKeyPresent,yt.error(E,{keyFields:l}),new Error(E);f=Kt.createFromFlatEqualities(_,(T={},T[l[0]]=n,T))}else if(of(n,_)?f=Kt.createForPk(_,n):f=Gn(n(ff({builder:g,schema:_,pkField:hr(_)}))).toStoragePredicate(),!f||!Kt.isValidPredicate(f))throw E="Criteria required. Do you want to delete all? Pass Predicates.ALL",yt.error(E,{condition:f}),new Error(E);return[4,this.storage.delete(g,f)];case 2:return v=Le.apply(void 0,[P.sent(),1]),O=v[0],[2,Na(O,Dn.DataStore)];case 3:if(h=r,g=Object.getPrototypeOf(h||{}).constructor,!Wn(g))throw E="Object is not an instance of a valid model",yt.error(E,{model:h}),new Error(E);if(_=jr(g),!_)throw new Error("Could not find model definition for modelConstructor.");if(M=Kt.createForPk(_,h),n){if(typeof n!="function")throw E="Invalid criteria",yt.error(E,{identifierOrCriteria:n}),new Error(E);f=Gn(n(ff({builder:g,schema:_,pkField:hr(_)}))).toStoragePredicate()}else f=M;return[4,this.storage.delete(h,f)];case 4:return A=Le.apply(void 0,[P.sent(),1]),I=Le(A[0],1),O=I[0],[2,Na(O,Dn.DataStore)]}})})},"datastore delete").catch(this.handleAddProcError("DataStore.delete()"))]})})},this.observe=function(r,n){var a,i=r&&Wn(r)?r:void 0;if(r&&i===void 0){var f=r,l=f&&Object.getPrototypeOf(f).constructor;if(Wn(l))return n&&yt.warn("idOrCriteria is ignored when using a model instance",{model:f,identifierOrCriteria:n}),t.observe(l,f.id);var v="The model is not an instance of a PersistentModelConstructor";throw yt.error(v,{model:f}),new Error(v)}if(n&&i&&of(n,jr(i))){var v=Xs.observeWithObjectLiteral;throw yt.error(v,{objectLiteral:n}),new Error(v)}if(n!==void 0&&i===void 0){var v="Cannot provide criteria without a modelConstructor";throw yt.error(v,n),new Error(v)}if(i&&!Wn(i)){var v="Constructor is not for a valid model";throw yt.error(v,{modelConstructor:i}),new Error(v)}if(i&&typeof n=="string"){var h=function(g){return g.id.eq(n)};a=Gn(h(Zd(i)))}else i&&typeof n=="function"&&(a=Gn(n(Zd(i))));return new Pr(function(g){var _;return t.runningProcesses.add(function(){return ue(t,void 0,void 0,function(){var M=this;return se(this,function(E){switch(E.label){case 0:return[4,this.start()];case 1:return E.sent(),_=this.storage.observe(i).filter(function(A){var I=A.model;return cf(I)===Ts}).subscribe({next:function(A){return M.runningProcesses.isOpen&&M.runningProcesses.add(function(){return ue(M,void 0,void 0,function(){var I,O,T,P,k,R;return se(this,function(D){switch(D.label){case 0:return I=A,A.opType==="DELETE"?[3,2]:(O=jr(A.model),T=hr(O),P=uq(A.element,T),[4,this.query(A.model,P)]);case 1:k=D.sent(),I=pe(pe({},I),{element:k}),D.label=2;case 2:return R=!a,R?[3,4]:[4,a.matches(I.element)];case 3:R=D.sent(),D.label=4;case 4:return R&&g.next(I),[2]}})})},"datastore observe message handler")},error:function(A){return g.error(A)},complete:function(){return g.complete()}}),[2]}})})},"datastore observe observable initialization").catch(t.handleAddProcError("DataStore.observe()")).catch(function(M){g.error(M)}),t.runningProcesses.addCleaner(function(){return ue(t,void 0,void 0,function(){return se(this,function(M){return _&&_.unsubscribe(),[2]})})},"DataStore.observe() cleanup")})},this.observeQuery=function(r,n,a){return new Pr(function(i){var f=new Map,l=new Map,v=[],h,g,_=function(){var R=O();T(R)},M=new aq({callback:_,errorHandler:i.error,maxInterval:2e3}),E=(a||{}).sort,A=E?{sort:E}:void 0,I=jr(r);if(!I)throw new Error("Could not find model definition.");r&&typeof n=="function"?g=Gn(n(Zd(r))):qd(n)&&(g=void 0),t.runningProcesses.add(function(){return ue(t,void 0,void 0,function(){var R,D=this;return se(this,function(V){switch(V.label){case 0:return V.trys.push([0,2,,3]),[4,this.query(r,n,A)];case 1:return V.sent().forEach(function(q){var $=jr(r),F=ai($,q);f.set(F,q)}),h=this.observe(r).subscribe(function(q){var $=q.element,F=q.model,z=q.opType;return D.runningProcesses.isOpen&&D.runningProcesses.add(function(){return ue(D,void 0,void 0,function(){var b,o,u,c,d,p,w;return se(this,function(S){switch(S.label){case 0:return b=jr(F),o=ai(b,$),u=g,u?[4,g.matches($)]:[3,2];case 1:u=!S.sent(),S.label=2;case 2:if(u)if(z==="UPDATE"&&(f.has(o)||l.has(o)))v.push(o);else return[2];return z==="DELETE"?v.push(o):l.set(o,$),c=(w=(p=this.sync)===null||p===void 0?void 0:p.getModelSyncedStatus(F))!==null&&w!==void 0?w:!1,d=l.size-v.length>=this.syncPageSize,(d||c)&&M.resolve(),M.start(),[2]}})})},"handle observeQuery observed event")}),_(),[3,3];case 2:return R=V.sent(),i.error(R),[3,3];case 3:return[2]}})})},"datastore observequery startup").catch(t.handleAddProcError("DataStore.observeQuery()")).catch(function(R){i.error(R)});var O=function(){var R,D,V=(D=(R=t.sync)===null||R===void 0?void 0:R.getModelSyncedStatus(r))!==null&&D!==void 0?D:!1,q=Wt(Array.from(f.values()),Array.from(l.values()));f.clear(),q.forEach(function(F){var z=jr(r),b=ai(z,F);f.set(b,F)}),v.forEach(function(F){return f.delete(F)});var $=Array.from(f.values());return a!=null&&a.sort&&P($),{items:$,isSynced:V}},T=function(R){i.next(R),l.clear(),v=[]},P=function(R){var D=jr(r),V=t.processPagination(D,a),q=bv.getPredicates(V.sort);if(q.length){var $=tM(q);R.sort($)}},k=function(R){var D=R.payload,V,q=D.event,$=D.data;q===ur.SYNC_ENGINE_MODEL_SYNCED&&((V=$==null?void 0:$.model)===null||V===void 0?void 0:V.name)===r.name&&(_(),_r.remove("datastore",k))};return _r.listen("datastore",k),t.runningProcesses.addCleaner(function(){return ue(t,void 0,void 0,function(){return se(this,function(R){return h&&h.unsubscribe(),[2]})})},"datastore observequery cleaner")})},this.configure=function(r){r===void 0&&(r={}),t.amplifyContext.Auth=t.Auth,t.amplifyContext.API=t.API,t.amplifyContext.Cache=t.Cache;var n=r.DataStore,a=r.authModeStrategyType;r.conflictHandler,r.errorHandler;var i=r.maxRecordsToSync,f=r.syncPageSize,l=r.fullSyncInterval,v=r.syncExpressions,h=r.authProviders,g=r.storageAdapter,_=Aa(r,["DataStore","authModeStrategyType","conflictHandler","errorHandler","maxRecordsToSync","syncPageSize","fullSyncInterval","syncExpressions","authProviders","storageAdapter"]);t.amplifyConfig=pe(pe({},_),t.amplifyConfig),t.conflictHandler=t.setConflictHandler(r),t.errorHandler=t.setErrorHandler(r);var M=n&&n.authModeStrategyType||a||Qs.DEFAULT;switch(M){case Qs.MULTI_AUTH:t.authModeStrategy=mq(t.amplifyContext);break;case Qs.DEFAULT:t.authModeStrategy=Yb;break;default:t.authModeStrategy=Yb;break}t.amplifyConfig.authProviders=n&&n.authProviders||h,t.syncExpressions=n&&n.syncExpressions||v||t.syncExpressions,t.maxRecordsToSync=n&&n.maxRecordsToSync||i||t.maxRecordsToSync||1e4,t.amplifyConfig.maxRecordsToSync=t.maxRecordsToSync,t.syncPageSize=n&&n.syncPageSize||f||t.syncPageSize||1e3,t.amplifyConfig.syncPageSize=t.syncPageSize,t.fullSyncInterval=n&&n.fullSyncInterval||l||t.fullSyncInterval||24*60,t.storageAdapter=n&&n.storageAdapter||g||t.storageAdapter||void 0,t.sessionId=t.retrieveSessionId()}}return e.prototype.getModuleName=function(){return"DataStore"},e.prototype.handleAddProcError=function(t){var r=this,n=function(a){throw a.message.startsWith("BackgroundManagerNotOpenError")?new Error(["DataStoreStateError: Tried to execute `"+t+'` while DataStore was "'+r.state+'".','This can only be done while DataStore is "Started" or "Stopped". To remedy:',"Ensure all calls to `stop()` and `clear()` have completed first.","If this is not possible, retry the operation until it succeeds."].join(`
`)):a};return n},e.prototype.clear=function(){return ue(this,void 0,void 0,function(){return se(this,function(t){switch(t.label){case 0:return ww(),this.state=xi.Clearing,[4,this.runningProcesses.close()];case 1:return t.sent(),this.storage!==void 0?[3,3]:(this.storage=new Tv(wr,cf,Iw,Go,this.storageAdapter,this.sessionId),[4,this.storage.init()]);case 2:t.sent(),t.label=3;case 3:return _a&&!_a.closed&&_a.unsubscribe(),this.sync?[4,this.sync.stop()]:[3,5];case 4:t.sent(),t.label=5;case 5:return[4,this.storage.clear()];case 6:return t.sent(),this.initialized=void 0,this.storage=void 0,this.sync=void 0,this.syncPredicates=new WeakMap,[4,this.runningProcesses.open()];case 7:return t.sent(),this.state=xi.NotRunning,[2]}})})},e.prototype.stop=function(){return ue(this,void 0,void 0,function(){return se(this,function(t){switch(t.label){case 0:return this.state=xi.Stopping,[4,this.runningProcesses.close()];case 1:return t.sent(),_a&&!_a.closed&&_a.unsubscribe(),this.sync?[4,this.sync.stop()]:[3,3];case 2:t.sent(),t.label=3;case 3:return this.initialized=void 0,this.sync=void 0,[4,this.runningProcesses.open()];case 4:return t.sent(),this.state=xi.NotRunning,[2]}})})},e.prototype.processPagination=function(t,r){var n,a=r||{},i=a.limit,f=a.page,l=a.sort;if(!(i===void 0&&f===void 0&&l===void 0)){if(f!==void 0&&i===void 0)throw new Error("Limit is required when requesting a page");if(f!==void 0){if(typeof f!="number")throw new Error("Page should be a number");if(f<0)throw new Error("Page can't be negative")}if(i!==void 0){if(typeof i!="number")throw new Error("Limit should be a number");if(i<0)throw new Error("Limit can't be negative")}return l&&(n=bv.createFromExisting(t,l)),{limit:i,page:f,sort:n}}},e.prototype.processSyncExpressions=function(){return ue(this,void 0,void 0,function(){var t,r=this;return se(this,function(n){switch(n.label){case 0:return!this.syncExpressions||!this.syncExpressions.length?[2,new WeakMap]:[4,Promise.all(this.syncExpressions.map(function(a){return ue(r,void 0,void 0,function(){var i,f,l,v,h,g;return se(this,function(_){switch(_.label){case 0:return[4,a];case 1:return i=_.sent(),f=i.modelConstructor,l=i.conditionProducer,v=jr(f),[4,this.unwrapPromise(l)];case 2:return h=_.sent(),qd(h)?[2,[v,null]]:(g=Gn(h(ff({builder:f,schema:v,pkField:hr(v)}))).toStoragePredicate(),[2,[v,g]])}})})}))];case 1:return t=n.sent(),[2,this.weakMapFromEntries(t)]}})})},e.prototype.unwrapPromise=function(t){return ue(this,void 0,void 0,function(){var r,n;return se(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,t()];case 1:return r=a.sent(),[2,r||t];case 2:if(n=a.sent(),n instanceof TypeError)return[2,t];throw n;case 3:return[2]}})})},e.prototype.weakMapFromEntries=function(t){return t.reduce(function(r,n){var a=Le(n,2),i=a[0],f=a[1];if(r.has(i)){var l=i.name;return yt.warn(`You can only utilize one Sync Expression per model.
          Subsequent sync expressions for the `+l+" model will be ignored."),r}return f&&r.set(i,f),r},new WeakMap)},e.prototype.retrieveSessionId=function(){try{var t=sessionStorage.getItem("datastoreSessionId");if(t){var r=this.amplifyConfig.aws_appsync_graphqlEndpoint,n=r.split("/")[2],a=Le(n.split("."),1),i=a[0];return t+"-"+i}}catch{}},e}(),SM=new qj;ci.register(SM);const MM=Gt()({name:"VDialogTransition",props:{target:Object},setup(e,t){let{slots:r}=t;const n={onBeforeEnter(a){a.style.pointerEvents="none",a.style.visibility="hidden"},async onEnter(a,i){var M;await new Promise(E=>requestAnimationFrame(E)),await new Promise(E=>requestAnimationFrame(E)),a.style.visibility="";const{x:f,y:l,sx:v,sy:h,speed:g}=Cw(e.target,a),_=Ao(a,[{transform:`translate(${f}px, ${l}px) scale(${v}, ${h})`,opacity:0},{}],{duration:225*g,easing:B6});(M=Tw(a))==null||M.forEach(E=>{Ao(E,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*g,easing:zf})}),_.finished.then(()=>i())},onAfterEnter(a){a.style.removeProperty("pointer-events")},onBeforeLeave(a){a.style.pointerEvents="none"},async onLeave(a,i){var M;await new Promise(E=>requestAnimationFrame(E));const{x:f,y:l,sx:v,sy:h,speed:g}=Cw(e.target,a);Ao(a,[{},{transform:`translate(${f}px, ${l}px) scale(${v}, ${h})`,opacity:0}],{duration:125*g,easing:U6}).finished.then(()=>i()),(M=Tw(a))==null||M.forEach(E=>{Ao(E,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*g,easing:zf})})},onAfterLeave(a){a.style.removeProperty("pointer-events")}};return()=>e.target?Ee(r0,Jt({name:"dialog-transition"},n,{css:!1}),r):Ee(r0,{name:"dialog-transition"},r)}});function Tw(e){var r;const t=(r=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:r.children;return t&&[...t]}function Cw(e,t){const r=e.getBoundingClientRect(),n=Hv(t),[a,i]=getComputedStyle(t).transformOrigin.split(" ").map(T=>parseFloat(T)),[f,l]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let v=r.left+r.width/2;f==="left"||l==="left"?v-=r.width/2:(f==="right"||l==="right")&&(v+=r.width/2);let h=r.top+r.height/2;f==="top"||l==="top"?h-=r.height/2:(f==="bottom"||l==="bottom")&&(h+=r.height/2);const g=r.width/n.width,_=r.height/n.height,M=Math.max(1,g,_),E=g/M||0,A=_/M||0,I=n.width*n.height/(window.innerWidth*window.innerHeight),O=I>.12?Math.min(1.5,(I-.12)*10+1):1;return{x:v-(a+n.left),y:h-(i+n.top),sx:E,sy:A,speed:O}}const eV=Gt()({name:"VContainer",props:{fluid:{type:Boolean,default:!1},...ji()},setup(e,t){let{slots:r}=t;return nr(()=>Ee(e.tag,{class:["v-container",{"v-container--fluid":e.fluid}]},r)),{}}});const jj=sr({start:Boolean,end:Boolean,icon:or,image:String,...eo(),...pu(),...Lw(),...ji(),...Ln(),...ps({variant:"flat"})},"v-avatar"),Ic=Gt()({name:"VAvatar",props:jj(),setup(e,t){let{slots:r}=t;const{themeClasses:n}=$i(e),{colorClasses:a,colorStyles:i,variantClasses:f}=Oc(e),{densityClasses:l}=to(e),{roundedClasses:v}=mu(e),{sizeClasses:h,sizeStyles:g}=qw(e);return nr(()=>Ee(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},n.value,a.value,l.value,v.value,h.value,f.value],style:[i.value,g.value]},{default:()=>{var _;return[e.image?Ee(t6,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?Ee(Yn,{key:"icon",icon:e.icon},null):(_=r.default)==null?void 0:_.call(r),Pc(!1,"v-avatar")]}})),{}}}),$j={models:{SubmissionForm:{name:"SubmissionForm",fields:{id:{name:"id",isArray:!1,type:"ID",isRequired:!0,attributes:[]},title:{name:"title",isArray:!1,type:"String",isRequired:!0,attributes:[]},author:{name:"author",isArray:!1,type:"String",isRequired:!0,attributes:[]},url:{name:"url",isArray:!1,type:"String",isRequired:!0,attributes:[]},description:{name:"description",isArray:!1,type:"String",isRequired:!0,attributes:[]},tools:{name:"tools",isArray:!1,type:"String",isRequired:!0,attributes:[]},additionalDetails:{name:"additionalDetails",isArray:!1,type:"String",isRequired:!1,attributes:[]},createdAt:{name:"createdAt",isArray:!1,type:"AWSDateTime",isRequired:!1,attributes:[],isReadOnly:!0},updatedAt:{name:"updatedAt",isArray:!1,type:"AWSDateTime",isRequired:!1,attributes:[],isReadOnly:!0}},syncable:!0,pluralName:"SubmissionForms",attributes:[{type:"model",properties:{}},{type:"auth",properties:{rules:[{allow:"public",operations:["create","update","delete","read"]}]}}]},Videos:{name:"Videos",fields:{id:{name:"id",isArray:!1,type:"ID",isRequired:!0,attributes:[]},title:{name:"title",isArray:!1,type:"String",isRequired:!1,attributes:[]},description:{name:"description",isArray:!1,type:"String",isRequired:!1,attributes:[]},author:{name:"author",isArray:!1,type:"String",isRequired:!1,attributes:[]},socials:{name:"socials",isArray:!1,type:"AWSJSON",isRequired:!1,attributes:[]},ai:{name:"ai",isArray:!0,type:"String",isRequired:!1,attributes:[],isArrayNullable:!0},tags:{name:"tags",isArray:!0,type:"String",isRequired:!1,attributes:[],isArrayNullable:!0},src:{name:"src",isArray:!1,type:"String",isRequired:!1,attributes:[]},poster:{name:"poster",isArray:!1,type:"String",isRequired:!1,attributes:[]},hoverPoster:{name:"hoverPoster",isArray:!1,type:"String",isRequired:!1,attributes:[]},createdAt:{name:"createdAt",isArray:!1,type:"AWSDateTime",isRequired:!1,attributes:[],isReadOnly:!0},updatedAt:{name:"updatedAt",isArray:!1,type:"AWSDateTime",isRequired:!1,attributes:[],isReadOnly:!0}},syncable:!0,pluralName:"Videos",attributes:[{type:"model",properties:{}},{type:"auth",properties:{rules:[{allow:"public",operations:["create","update","delete","read"]}]}}]}},enums:{},nonModels:{},codegenVersion:"3.4.2",version:"1bd22cedef530cbb47b40270995c09a4"},{SubmissionForm:tV,Videos:rV}=Rj($j);const Vj=Uv("v-alert-title"),zj=["success","info","warning","error"],nV=Gt()({name:"VAlert",props:{border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:or,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>zj.includes(e)},...eo(),...kc(),...Rc(),...r6(),...n6(),...pu(),...ji(),...Ln(),...ps({variant:"flat"})},emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:r,slots:n}=t;const a=Rr(e,"modelValue"),i=Fe(()=>{var D;if(e.icon!==!1)return e.type?(D=e.icon)!=null?D:`$${e.type}`:e.icon}),f=Fe(()=>{var D;return{color:(D=e.color)!=null?D:e.type,variant:e.variant}}),{themeClasses:l}=$i(e),{colorClasses:v,colorStyles:h,variantClasses:g}=Oc(f),{densityClasses:_}=to(e),{dimensionStyles:M}=Nc(e),{elevationClasses:E}=Dc(e),{locationStyles:A}=i6(e),{positionClasses:I}=a6(e),{roundedClasses:O}=mu(e),{textColorClasses:T,textColorStyles:P}=ms(bt(e,"borderColor")),{t:k}=Fc(),R=Fe(()=>({"aria-label":k(e.closeLabel),onClick(D){a.value=!1,r("click:close",D)}}));return()=>{const D=!!(n.prepend||i.value),V=!!(n.title||e.title),q=!!(e.text||n.text),$=!!(n.close||e.closable);return a.value&&Ee(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},l.value,v.value,_.value,E.value,I.value,O.value,g.value],style:[h.value,M.value,A.value],role:"alert"},{default:()=>{var F,z,b;return[Pc(!1,"v-alert"),e.border&&Ee("div",{key:"border",class:["v-alert__border",T.value],style:P.value},null),D&&Ee("div",{key:"prepend",class:"v-alert__prepend"},[n.prepend?Ee(Nn,{key:"prepend-defaults",disabled:!i.value,defaults:{VIcon:{density:e.density,icon:i.value,size:e.prominent?44:28}}},n.prepend):Ee(Yn,{key:"prepend-icon",density:e.density,icon:i.value,size:e.prominent?44:28},null)]),Ee("div",{class:"v-alert__content"},[V&&Ee(Vj,{key:"title"},{default:()=>{var o,u;return[(u=(o=n.title)==null?void 0:o.call(n))!=null?u:e.title]}}),q&&((z=(F=n.text)==null?void 0:F.call(n))!=null?z:e.text),(b=n.default)==null?void 0:b.call(n)]),n.append&&Ee("div",{key:"append",class:"v-alert__append"},[n.append()]),$&&Ee("div",{key:"close",class:"v-alert__close"},[n.close?Ee(Nn,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var o;return[(o=n.close)==null?void 0:o.call(n,{props:R.value})]}}):Ee(o6,Jt({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},R.value),null)])]}})}}});const Kj=sr({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function Hj(e,t){const r={},n=a=>()=>{if(!ro)return Promise.resolve(!0);const i=a==="openDelay";return r.closeDelay&&window.clearTimeout(r.closeDelay),delete r.closeDelay,r.openDelay&&window.clearTimeout(r.openDelay),delete r.openDelay,new Promise(f=>{var v;const l=parseInt((v=e[a])!=null?v:0,10);r[a]=window.setTimeout(()=>{t==null||t(i),f(i)},l)})};return{runCloseDelay:n("closeDelay"),runOpenDelay:n("openDelay")}}const Rv=Symbol.for("vuetify:v-menu"),Gj=sr({activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...Kj()},"v-overlay-activator");function Wj(e,t){let{isActive:r,isTop:n}=t;const a=Ye();let i=!1,f=!1,l=!0;const v=Fe(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),h=Fe(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!v.value),{runOpenDelay:g,runCloseDelay:_}=Hj(e,k=>{k===(e.openOnHover&&i||v.value&&f)&&!(e.openOnHover&&r.value&&!n.value)&&(r.value!==k&&(l=!0),r.value=k)}),M={click:k=>{k.stopPropagation(),a.value=k.currentTarget||k.target,r.value=!r.value},mouseenter:k=>{var R;(R=k.sourceCapabilities)!=null&&R.firesTouchEvents||(i=!0,a.value=k.currentTarget||k.target,g())},mouseleave:k=>{i=!1,_()},focus:k=>{n0&&!k.target.matches(":focus-visible")||(f=!0,k.stopPropagation(),a.value=k.currentTarget||k.target,g())},blur:k=>{f=!1,k.stopPropagation(),_()}},E=Fe(()=>{const k={};return h.value&&(k.click=M.click),e.openOnHover&&(k.mouseenter=M.mouseenter,k.mouseleave=M.mouseleave),v.value&&(k.focus=M.focus,k.blur=M.blur),k}),A=Fe(()=>{const k={};if(e.openOnHover&&(k.mouseenter=()=>{i=!0,g()},k.mouseleave=()=>{i=!1,_()}),e.closeOnContentClick){const R=Vi(Rv,null);k.click=()=>{r.value=!1,R==null||R.closeParents()}}return k}),I=Fe(()=>{const k={};return e.openOnHover&&(k.mouseenter=()=>{l&&(i=!0,l=!1,g())},k.mouseleave=()=>{i=!1,_()}),k});cr(n,k=>{k&&(e.openOnHover&&!i&&(!v.value||!f)||v.value&&!f&&(!e.openOnHover||!i))&&(r.value=!1)});const O=Ye();$v(()=>{!O.value||$a(()=>{const k=O.value;a.value=w6(k)?k.$el:k})});const T=Lc("useActivator");let P;return cr(()=>!!e.activator,k=>{k&&ro?(P=Ww(),P.run(()=>{Jj(e,T,{activatorEl:a,activatorEvents:E})})):P&&P.stop()},{flush:"post",immediate:!0}),Bn(()=>{P==null||P.stop()}),{activatorEl:a,activatorRef:O,activatorEvents:E,contentEvents:A,scrimEvents:I}}function Jj(e,t,r){let{activatorEl:n,activatorEvents:a}=r;cr(()=>e.activator,(v,h)=>{if(h&&v!==h){const g=l(h);g&&f(g)}v&&$a(()=>i())},{immediate:!0}),cr(()=>e.activatorProps,()=>{i()}),Bn(()=>{f()});function i(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l(),h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;!v||(Object.entries(a.value).forEach(g=>{let[_,M]=g;v.addEventListener(_,M)}),Object.keys(h).forEach(g=>{h[g]==null?v.removeAttribute(g):v.setAttribute(g,h[g])}))}function f(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l(),h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;!v||(Object.entries(a.value).forEach(g=>{let[_,M]=g;v.removeEventListener(_,M)}),Object.keys(h).forEach(g=>{v.removeAttribute(g)}))}function l(){var g,_;let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator,h;if(v)if(v==="parent"){let M=(_=(g=t==null?void 0:t.proxy)==null?void 0:g.$el)==null?void 0:_.parentNode;for(;M.hasAttribute("data-no-activator");)M=M.parentNode;h=M}else typeof v=="string"?h=document.querySelector(v):"$el"in v?h=v.$el:h=v;return n.value=(h==null?void 0:h.nodeType)===Node.ELEMENT_NODE?h:null,n.value}}const Zj=sr({eager:Boolean},"lazy");function Yj(e,t){const r=Ye(!1),n=Fe(()=>r.value||e.eager||t.value);cr(t,()=>r.value=!0);function a(){e.eager||(r.value=!1)}return{isBooted:r,hasContent:n,onAfterLeave:a}}function Yd(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Xj(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ow(e,t){if(e.side==="top"||e.side==="bottom"){const{side:r,align:n}=e,a=n==="left"?0:n==="center"?t.width/2:n==="right"?t.width:n,i=r==="top"?0:r==="bottom"?t.height:r;return Yd({x:a,y:i},t)}else if(e.side==="left"||e.side==="right"){const{side:r,align:n}=e,a=r==="left"?0:r==="right"?t.width:r,i=n==="top"?0:n==="center"?t.height/2:n==="bottom"?t.height:n;return Yd({x:a,y:i},t)}return Yd({x:t.width/2,y:t.height/2},t)}const xM={static:t$,connected:n$},Qj=sr({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in xM},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"v-overlay-location-strategies");function e$(e,t){const r=Ye({}),n=Ye();ro&&(eu(()=>!!(t.isActive.value&&e.locationStrategy),i=>{var f,l;cr(()=>e.locationStrategy,i),Bn(()=>{n.value=void 0}),typeof e.locationStrategy=="function"?n.value=(f=e.locationStrategy(t,e,r))==null?void 0:f.updateLocation:n.value=(l=xM[e.locationStrategy](t,e,r))==null?void 0:l.updateLocation}),window.addEventListener("resize",a,{passive:!0}),Bn(()=>{window.removeEventListener("resize",a),n.value=void 0}));function a(i){var f;(f=n.value)==null||f.call(n,i)}return{contentStyles:r,updateLocation:n}}function t$(){}function r$(e,t){const r=Hv(e);return t?r.x+=parseFloat(e.style.right||0):r.x-=parseFloat(e.style.left||0),r.y-=parseFloat(e.style.top||0),r}function n$(e,t,r){L6(e.activatorEl.value)&&Object.assign(r.value,{position:"fixed"});const{preferredAnchor:a,preferredOrigin:i}=_6(()=>{const A=Nm(t.location,e.isRtl.value),I=t.origin==="overlap"?A:t.origin==="auto"?Jl(A):Nm(t.origin,e.isRtl.value);return A.side===I.side&&A.align===Zl(I).align?{preferredAnchor:Dm(A),preferredOrigin:Dm(I)}:{preferredAnchor:A,preferredOrigin:I}}),[f,l,v,h]=["minWidth","minHeight","maxWidth","maxHeight"].map(A=>Fe(()=>{const I=parseFloat(t[A]);return isNaN(I)?1/0:I})),g=Fe(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const A=t.offset.split(" ").map(parseFloat);return A.length<2&&A.push(0),A}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let _=!1;const M=new ResizeObserver(()=>{_&&E()});cr([e.activatorEl,e.contentEl],(A,I)=>{let[O,T]=A,[P,k]=I;P&&M.unobserve(P),O&&M.observe(O),k&&M.unobserve(k),T&&M.observe(T)},{immediate:!0}),Bn(()=>{M.disconnect()});function E(){if(_=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>_=!0)}),!e.activatorEl.value||!e.contentEl.value)return;const A=e.activatorEl.value.getBoundingClientRect(),I=r$(e.contentEl.value,e.isRtl.value),O=Kf(e.contentEl.value),T=12;O.length||(O.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(I.x+=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),I.y+=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const P=O.reduce((b,o)=>{const u=o.getBoundingClientRect(),c=new Do({x:o===document.documentElement?0:u.x,y:o===document.documentElement?0:u.y,width:o.clientWidth,height:o.clientHeight});return b?new Do({x:Math.max(b.left,c.left),y:Math.max(b.top,c.top),width:Math.min(b.right,c.right)-Math.max(b.left,c.left),height:Math.min(b.bottom,c.bottom)-Math.max(b.top,c.top)}):c},void 0);P.x+=T,P.y+=T,P.width-=T*2,P.height-=T*2;let k={anchor:a.value,origin:i.value};function R(b){const o=new Do(I),u=Ow(b.anchor,A),c=Ow(b.origin,o);let{x:d,y:p}=Xj(u,c);switch(b.anchor.side){case"top":p-=g.value[0];break;case"bottom":p+=g.value[0];break;case"left":d-=g.value[0];break;case"right":d+=g.value[0];break}switch(b.anchor.align){case"top":p-=g.value[1];break;case"bottom":p+=g.value[1];break;case"left":d-=g.value[1];break;case"right":d+=g.value[1];break}return o.x+=d,o.y+=p,o.width=Math.min(o.width,v.value),o.height=Math.min(o.height,h.value),{overflows:Fm(o,P),x:d,y:p}}let D=0,V=0;const q={x:0,y:0},$={x:!1,y:!1};let F=-1;for(;;){if(F++>10){S6("Infinite loop detected in connectedLocationStrategy");break}const{x:b,y:o,overflows:u}=R(k);D+=b,V+=o,I.x+=b,I.y+=o;{const c=Bm(k.anchor),d=u.x.before||u.x.after,p=u.y.before||u.y.after;let w=!1;if(["x","y"].forEach(S=>{if(S==="x"&&d&&!$.x||S==="y"&&p&&!$.y){const m={anchor:{...k.anchor},origin:{...k.origin}},s=S==="x"?c==="y"?Zl:Jl:c==="y"?Jl:Zl;m.anchor=s(m.anchor),m.origin=s(m.origin);const{overflows:y}=R(m);(y[S].before<=u[S].before&&y[S].after<=u[S].after||y[S].before+y[S].after<(u[S].before+u[S].after)/2)&&(k=m,w=$[S]=!0)}}),w)continue}u.x.before&&(D+=u.x.before,I.x+=u.x.before),u.x.after&&(D-=u.x.after,I.x-=u.x.after),u.y.before&&(V+=u.y.before,I.y+=u.y.before),u.y.after&&(V-=u.y.after,I.y-=u.y.after);{const c=Fm(I,P);q.x=P.width-c.x.before-c.x.after,q.y=P.height-c.y.before-c.y.after,D+=c.x.before,I.x+=c.x.before,V+=c.y.before,I.y+=c.y.before}break}const z=Bm(k.anchor);return Object.assign(r.value,{"--v-overlay-anchor-origin":`${k.anchor.side} ${k.anchor.align}`,transformOrigin:`${k.origin.side} ${k.origin.align}`,top:Yr(Xd(V)),left:e.isRtl.value?void 0:Yr(Xd(D)),right:e.isRtl.value?Yr(Xd(-D)):void 0,minWidth:Yr(z==="y"?Math.min(f.value,A.width):f.value),maxWidth:Yr(Pw(Um(q.x,f.value===1/0?0:f.value,v.value))),maxHeight:Yr(Pw(Um(q.y,l.value===1/0?0:l.value,h.value)))}),{available:q,contentBox:I}}return cr(()=>[a.value,i.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>E()),$a(()=>{const A=E();if(!A)return;const{available:I,contentBox:O}=A;O.height>I.y&&requestAnimationFrame(()=>{E(),requestAnimationFrame(()=>{E()})})}),{updateLocation:E}}function Xd(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function Pw(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let Nv=!0;const Tc=[];function i$(e){!Nv||Tc.length?(Tc.push(e),Dv()):(Nv=!1,e(),Dv())}let kw=-1;function Dv(){cancelAnimationFrame(kw),kw=requestAnimationFrame(()=>{const e=Tc.shift();e&&e(),Tc.length?Dv():Nv=!0})}const Vf={none:null,close:s$,block:u$,reposition:f$},a$=sr({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in Vf}},"v-overlay-scroll-strategies");function o$(e,t){if(!ro)return;let r;$v(async()=>{r==null||r.stop(),t.isActive.value&&e.scrollStrategy&&(r=Ww(),await $a(),r.active&&r.run(()=>{var n;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,r):(n=Vf[e.scrollStrategy])==null||n.call(Vf,t,e,r)}))}),Bn(()=>{r==null||r.stop()})}function s$(e){var r;function t(n){e.isActive.value=!1}EM((r=e.activatorEl.value)!=null?r:e.contentEl.value,t)}function u$(e,t){var f;const r=(f=e.root.value)==null?void 0:f.offsetParent,n=[...new Set([...Kf(e.activatorEl.value,t.contained?r:void 0),...Kf(e.contentEl.value,t.contained?r:void 0)])].filter(l=>!l.classList.contains("v-overlay-scroll-blocked")),a=window.innerWidth-document.documentElement.offsetWidth,i=(l=>Gv(l)&&l)(r||document.documentElement);i&&e.root.value.classList.add("v-overlay--scroll-blocked"),n.forEach((l,v)=>{l.style.setProperty("--v-body-scroll-x",Yr(-l.scrollLeft)),l.style.setProperty("--v-body-scroll-y",Yr(-l.scrollTop)),l.style.setProperty("--v-scrollbar-offset",Yr(a)),l.classList.add("v-overlay-scroll-blocked")}),Bn(()=>{n.forEach((l,v)=>{const h=parseFloat(l.style.getPropertyValue("--v-body-scroll-x")),g=parseFloat(l.style.getPropertyValue("--v-body-scroll-y"));l.style.removeProperty("--v-body-scroll-x"),l.style.removeProperty("--v-body-scroll-y"),l.style.removeProperty("--v-scrollbar-offset"),l.classList.remove("v-overlay-scroll-blocked"),l.scrollLeft=-h,l.scrollTop=-g}),i&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function f$(e,t,r){let n=!1,a=-1,i=-1;function f(l){i$(()=>{var g,_;const v=performance.now();(_=(g=e.updateLocation).value)==null||_.call(g,l),n=(performance.now()-v)/(1e3/60)>2})}i=(typeof requestIdleCallback>"u"?l=>l():requestIdleCallback)(()=>{r.run(()=>{var l;EM((l=e.activatorEl.value)!=null?l:e.contentEl.value,v=>{n?(cancelAnimationFrame(a),a=requestAnimationFrame(()=>{a=requestAnimationFrame(()=>{f(v)})})):f(v)})})}),Bn(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(i),cancelAnimationFrame(a)})}function EM(e,t){const r=[document,...Kf(e)];r.forEach(n=>{n.addEventListener("scroll",t,{passive:!0})}),Bn(()=>{r.forEach(n=>{n.removeEventListener("scroll",t)})})}function c$(){if(!ro)return Ye(!1);const{ssr:e}=M6();if(e){const t=Ye(!1);return Jw(()=>{t.value=!0}),t}else return Ye(!0)}function AM(){const t=Lc("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const Rw=Symbol.for("vuetify:stack"),js=Zw([]);function l$(e,t,r){const n=Lc("useStack"),a=!r,i=Vi(Rw,void 0),f=Zw({activeChildren:new Set});fa(Rw,f);const l=Ye(+t.value);eu(e,()=>{var _;const g=(_=js.at(-1))==null?void 0:_[1];l.value=g?g+10:+t.value,a&&js.push([n.uid,l.value]),i==null||i.activeChildren.add(n.uid),Bn(()=>{if(a){const M=no(js).findIndex(E=>E[0]===n.uid);js.splice(M,1)}i==null||i.activeChildren.delete(n.uid)})});const v=Ye(!0);a&&$v(()=>{var _;const g=((_=js.at(-1))==null?void 0:_[0])===n.uid;setTimeout(()=>v.value=g)});const h=Fe(()=>!f.activeChildren.size);return{globalTop:x6(v),localTop:h,stackStyles:Fe(()=>({zIndex:l.value}))}}function h$(e){return{teleportTarget:Fe(()=>{const r=e.value;if(r===!0||!ro)return;const n=r===!1?document.body:typeof r=="string"?document.querySelector(r):r;if(n==null)return;let a=n.querySelector(":scope > .v-overlay-container");return a||(a=document.createElement("div"),a.className="v-overlay-container",n.appendChild(a)),a})}}function d$(){return!0}function IM(e,t,r){if(!e||TM(e,r)===!1)return!1;const n=t2(t);if(typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&n.host===e.target)return!1;const a=(typeof r.value=="object"&&r.value.include||(()=>[]))();return a.push(t),!a.some(i=>i==null?void 0:i.contains(e.target))}function TM(e,t){return(typeof t.value=="object"&&t.value.closeConditional||d$)(e)}function v$(e,t,r){const n=typeof r.value=="function"?r.value:r.value.handler;t._clickOutside.lastMousedownWasOutside&&IM(e,t,r)&&setTimeout(()=>{TM(e,r)&&n&&n(e)},0)}function Nw(e,t){const r=t2(e);t(document),typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&t(r)}const p$={mounted(e,t){const r=a=>v$(a,e,t),n=a=>{e._clickOutside.lastMousedownWasOutside=IM(a,e,t)};Nw(e,a=>{a.addEventListener("click",r,!0),a.addEventListener("mousedown",n,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!0}),e._clickOutside[t.instance.$.uid]={onClick:r,onMousedown:n}},unmounted(e,t){!e._clickOutside||(Nw(e,r=>{var i;if(!r||!((i=e._clickOutside)!=null&&i[t.instance.$.uid]))return;const{onClick:n,onMousedown:a}=e._clickOutside[t.instance.$.uid];r.removeEventListener("click",n,!0),r.removeEventListener("mousedown",a,!0)}),delete e._clickOutside[t.instance.$.uid])}};function m$(e){const{modelValue:t,color:r,...n}=e;return Ee(r0,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&Ee("div",Jt({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},n),null)]})}const CM=sr({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[String,Boolean],default:!0},zIndex:{type:[Number,String],default:2e3},...Gj(),...kc(),...Zj(),...Qj(),...a$(),...Ln(),...Bc()},"v-overlay"),Dw=Gt()({name:"VOverlay",directives:{ClickOutside:p$},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...CM()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterLeave:()=>!0},setup(e,t){let{slots:r,attrs:n,emit:a}=t;const i=Rr(e,"modelValue"),f=Fe({get:()=>i.value,set:m=>{m&&e.disabled||(i.value=m)}}),{teleportTarget:l}=h$(Fe(()=>e.attach||e.contained)),{themeClasses:v}=$i(e),{rtlClasses:h,isRtl:g}=E6(),{hasContent:_,onAfterLeave:M}=Yj(e,f),E=Fv(Fe(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:A,localTop:I,stackStyles:O}=l$(f,bt(e,"zIndex"),e._disableGlobalStack),{activatorEl:T,activatorRef:P,activatorEvents:k,contentEvents:R,scrimEvents:D}=Wj(e,{isActive:f,isTop:I}),{dimensionStyles:V}=Nc(e),q=c$(),{scopeId:$}=AM();cr(()=>e.disabled,m=>{m&&(f.value=!1)});const F=Ye(),z=Ye(),{contentStyles:b,updateLocation:o}=e$(e,{isRtl:g,contentEl:z,activatorEl:T,isActive:f});o$(e,{root:F,contentEl:z,activatorEl:T,isActive:f,updateLocation:o});function u(m){a("click:outside",m),e.persistent?S():f.value=!1}function c(){return f.value&&A.value}ro&&cr(f,m=>{m?window.addEventListener("keydown",d):window.removeEventListener("keydown",d)},{immediate:!0});function d(m){m.key==="Escape"&&A.value&&(e.persistent?S():f.value=!1)}const p=s6();eu(()=>e.closeOnBack,()=>{u6(p,m=>{A.value&&f.value?(m(!1),e.persistent?S():f.value=!1):m()})});const w=Ye();cr(()=>f.value&&(e.absolute||e.contained)&&l.value==null,m=>{if(m){const s=F6(F.value);s&&s!==document.scrollingElement&&(w.value=s.scrollTop)}});function S(){e.noClickAnimation||z.value&&Ao(z.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:zf})}return nr(()=>{var m;return Ee(Qn,null,[(m=r.activator)==null?void 0:m.call(r,{isActive:f.value,props:Jt({ref:P},Xl(k.value),e.activatorProps)}),q.value&&Ee(A6,{disabled:!l.value,to:l.value},{default:()=>[_.value&&Ee("div",Jt({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":f.value,"v-overlay--contained":e.contained},v.value,h.value],style:[O.value,{top:Yr(w.value)}],ref:F},$,n),[Ee(m$,Jt({color:E,modelValue:f.value&&!!e.scrim},Xl(D.value)),null),Ee(Uc,{appear:!0,persisted:!0,transition:e.transition,target:T.value,onAfterLeave:()=>{M(),a("afterLeave")}},{default:()=>{var s;return[Xn(Ee("div",Jt({ref:z,class:["v-overlay__content",e.contentClass],style:[V.value,b.value]},Xl(R.value),e.contentProps),[(s=r.default)==null?void 0:s.call(r,{isActive:f})]),[[yu,f.value],[Wo("click-outside"),{handler:u,closeConditional:c,include:()=>[T.value]}]])]}})])]})])}),{activatorEl:T,animateClick:S,contentEl:z,globalTop:A,localTop:I,updateLocation:o}}}),Qd=Symbol("Forwarded refs");function e0(e,t){let r=e;for(;r;){const n=Reflect.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function Hl(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e[Qd]=r,new Proxy(e,{get(a,i){if(Reflect.has(a,i))return Reflect.get(a,i);if(!(typeof i=="symbol"||i.startsWith("__"))){for(const f of r)if(f.value&&Reflect.has(f.value,i)){const l=Reflect.get(f.value,i);return typeof l=="function"?l.bind(f.value):l}}},has(a,i){if(Reflect.has(a,i))return!0;if(typeof i=="symbol"||i.startsWith("__"))return!1;for(const f of r)if(f.value&&Reflect.has(f.value,i))return!0;return!1},getOwnPropertyDescriptor(a,i){var l,v;const f=Reflect.getOwnPropertyDescriptor(a,i);if(f)return f;if(!(typeof i=="symbol"||i.startsWith("__"))){for(const h of r){if(!h.value)continue;const g=(v=e0(h.value,i))!=null?v:"_"in h.value?e0((l=h.value._)==null?void 0:l.setupState,i):void 0;if(g)return g}for(const h of r){const g=h.value&&h.value[Qd];if(!g)continue;const _=g.slice();for(;_.length;){const M=_.shift(),E=e0(M.value,i);if(E)return E;const A=M.value&&M.value[Qd];A&&_.push(...A)}}}}})}const OM=Symbol.for("vuetify:form"),y$=sr({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function g$(e){const t=Rr(e,"modelValue"),r=Fe(()=>e.disabled),n=Fe(()=>e.readonly),a=Ye(!1),i=Ye([]),f=Ye([]);async function l(){const g=[];let _=!0;f.value=[],a.value=!0;for(const M of i.value){const E=await M.validate();if(E.length>0&&(_=!1,g.push({id:M.id,errorMessages:E})),!_&&e.fastFail)break}return f.value=g,a.value=!1,{valid:_,errors:f.value}}function v(){i.value.forEach(g=>g.reset()),t.value=null}function h(){i.value.forEach(g=>g.resetValidation()),f.value=[],t.value=null}return cr(i,()=>{let g=0,_=0;const M=[];for(const E of i.value)E.isValid===!1?(_++,M.push({id:E.id,errorMessages:E.errorMessages})):E.isValid===!0&&g++;f.value=M,t.value=_>0?!1:g===i.value.length?!0:null},{deep:!0}),fa(OM,{register:g=>{let{id:_,validate:M,reset:E,resetValidation:A}=g;i.value.some(I=>I.id===_)&&I6(`Duplicate input name "${_}"`),i.value.push({id:_,validate:M,reset:E,resetValidation:A,isValid:null,errorMessages:[]})},unregister:g=>{i.value=i.value.filter(_=>_.id!==g)},update:(g,_,M)=>{const E=i.value.find(A=>A.id===g);!E||(E.isValid=_,E.errorMessages=M)},isDisabled:r,isReadonly:n,isValidating:a,items:i,validateOn:bt(e,"validateOn")}),{errors:f,isDisabled:r,isReadonly:n,isValidating:a,items:i,validate:l,reset:v,resetValidation:h}}function PM(){return Vi(OM,null)}const iV=Gt()({name:"VForm",props:{...y$()},emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:r,emit:n}=t;const a=g$(e),i=Ye();function f(v){v.preventDefault(),a.reset()}function l(v){const h=v,g=a.validate();h.then=g.then.bind(g),h.catch=g.catch.bind(g),h.finally=g.finally.bind(g),n("submit",h),h.defaultPrevented||g.then(_=>{var E;let{valid:M}=_;M&&((E=i.value)==null||E.submit())}),h.preventDefault()}return nr(()=>{var v;return Ee("form",{ref:i,class:"v-form",novalidate:!0,onReset:f,onSubmit:l},[(v=r.default)==null?void 0:v.call(r,a)])}),Hl(a,i)}});function kM(e){const{t}=Fc();function r(n){var v;let{name:a}=n;const i={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[a],f=e[`onClick:${a}`],l=f&&i?t(`$vuetify.input.${i}`,(v=e.label)!=null?v:""):void 0;return Ee(Yn,{icon:e[`${a}Icon`],"aria-label":l,onClick:f},null)}return{InputIcon:r}}const RM=Gt()({name:"VLabel",props:{text:String,clickable:Boolean,...Ln()},setup(e,t){let{slots:r}=t;return nr(()=>{var n;return Ee("label",{class:["v-label",{"v-label--clickable":e.clickable}]},[e.text,(n=r.default)==null?void 0:n.call(r)])}),{}}}),hf=Gt()({name:"VFieldLabel",props:{floating:Boolean},setup(e,t){let{slots:r}=t;return nr(()=>Ee(RM,{class:["v-field-label",{"v-field-label--floating":e.floating}],"aria-hidden":e.floating||void 0},r)),{}}}),NM=sr({focused:Boolean,"onUpdate:focused":ei()},"focus");function DM(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yw();const r=Rr(e,"focused"),n=Fe(()=>({[`${t}--focused`]:r.value}));function a(){r.value=!0}function i(){r.value=!1}return{focusClasses:n,isFocused:r,focus:a,blur:i}}const b$=["underlined","outlined","filled","solo","plain"],BM=sr({appendInnerIcon:or,bgColor:String,clearable:Boolean,clearIcon:{type:or,default:"$clear"},active:Boolean,color:String,dirty:Boolean,disabled:Boolean,error:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:or,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>b$.includes(e)},"onClick:clear":ei(),"onClick:appendInner":ei(),"onClick:prependInner":ei(),...Ln(),...f6()},"v-field"),UM=Gt()({name:"VField",inheritAttrs:!1,props:{id:String,...NM(),...BM()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:r,emit:n,slots:a}=t;const{themeClasses:i}=$i(e),{loaderClasses:f}=c6(e),{focusClasses:l,isFocused:v,focus:h,blur:g}=DM(e),{InputIcon:_}=kM(e),M=Fe(()=>e.dirty||e.active),E=Fe(()=>!e.singleLine&&!!(e.label||a.label)),A=io(),I=Fe(()=>e.id||`input-${A}`),O=Fe(()=>`${I.value}-messages`),T=Ye(),P=Ye(),k=Ye(),{backgroundColorClasses:R,backgroundColorStyles:D}=Fv(bt(e,"bgColor")),{textColorClasses:V,textColorStyles:q}=ms(Fe(()=>M.value&&v.value&&!e.error&&!e.disabled?e.color:void 0));cr(M,z=>{if(E.value){const b=T.value.$el,o=P.value.$el;requestAnimationFrame(()=>{const u=Hv(b),c=o.getBoundingClientRect(),d=c.x-u.x,p=c.y-u.y-(u.height/2-c.height/2),w=c.width/.75,S=Math.abs(w-u.width)>1?{maxWidth:Yr(w)}:void 0,m=getComputedStyle(b),s=getComputedStyle(o),y=parseFloat(m.transitionDuration)*1e3||150,x=parseFloat(s.getPropertyValue("--v-field-label-scale")),C=s.getPropertyValue("color");b.style.visibility="visible",o.style.visibility="hidden",Ao(b,{transform:`translate(${d}px, ${p}px) scale(${x})`,color:C,...S},{duration:y,easing:zf,direction:z?"normal":"reverse"}).finished.then(()=>{b.style.removeProperty("visibility"),o.style.removeProperty("visibility")})})}},{flush:"post"});const $=Fe(()=>({isActive:M,isFocused:v,controlRef:k,blur:g,focus:h}));function F(z){z.target!==document.activeElement&&z.preventDefault()}return nr(()=>{var d,p,w;const z=e.variant==="outlined",b=a["prepend-inner"]||e.prependInnerIcon,o=!!(e.clearable||a.clear),u=!!(a["append-inner"]||e.appendInnerIcon||o),c=a.label?a.label({label:e.label,props:{for:I.value}}):e.label;return Ee("div",Jt({class:["v-field",{"v-field--active":M.value,"v-field--appended":u,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":b,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!c,[`v-field--variant-${e.variant}`]:!0},i.value,R.value,l.value,f.value],style:[D.value,q.value],onClick:F},r),[Ee("div",{class:"v-field__overlay"},null),Ee(l6,{name:"v-field",active:!!e.loading,color:e.error?"error":e.color},{default:a.loader}),b&&Ee("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&Ee(_,{key:"prepend-icon",name:"prependInner"},null),(d=a["prepend-inner"])==null?void 0:d.call(a,$.value)]),Ee("div",{class:"v-field__field","data-no-activator":""},[["solo","filled"].includes(e.variant)&&E.value&&Ee(hf,{key:"floating-label",ref:P,class:[V.value],floating:!0,for:I.value},{default:()=>[c]}),Ee(hf,{ref:T,for:I.value},{default:()=>[c]}),(p=a.default)==null?void 0:p.call(a,{...$.value,props:{id:I.value,class:"v-field__input","aria-describedby":O.value},focus:h,blur:g})]),o&&Ee(jw,{key:"clear"},{default:()=>[Xn(Ee("div",{class:"v-field__clearable",onMousedown:S=>{S.preventDefault(),S.stopPropagation()}},[a.clear?a.clear():Ee(_,{name:"clear"},null)]),[[yu,e.dirty]])]}),u&&Ee("div",{key:"append",class:"v-field__append-inner"},[(w=a["append-inner"])==null?void 0:w.call(a,$.value),e.appendInnerIcon&&Ee(_,{key:"append-icon",name:"appendInner"},null)]),Ee("div",{class:["v-field__outline",V.value]},[z&&Ee(Qn,null,[Ee("div",{class:"v-field__outline__start"},null),E.value&&Ee("div",{class:"v-field__outline__notch"},[Ee(hf,{ref:P,floating:!0,for:I.value},{default:()=>[c]})]),Ee("div",{class:"v-field__outline__end"},null)]),["plain","underlined"].includes(e.variant)&&E.value&&Ee(hf,{ref:P,floating:!0,for:I.value},{default:()=>[c]})])])}),{controlRef:k}}});function w$(e){const t=Object.keys(UM.props).filter(r=>!T6(r));return Vv(e,t)}const _$=Gt()({name:"VMessages",props:{active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Bc({transition:{component:$w,leaveAbsolute:!0,group:!0}})},setup(e,t){let{slots:r}=t;const n=Fe(()=>Da(e.messages)),{textColorClasses:a,textColorStyles:i}=ms(Fe(()=>e.color));return nr(()=>Ee(Uc,{transition:e.transition,tag:"div",class:["v-messages",a.value],style:i.value,role:"alert","aria-live":"polite"},{default:()=>[e.active&&n.value.map((f,l)=>Ee("div",{class:"v-messages__message",key:`${l}-${n.value}`},[r.message?r.message({message:f}):f]))]})),{}}}),S$=sr({disabled:Boolean,error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:Boolean,rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...NM()},"validation");function M$(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yw(),r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:io();const n=Rr(e,"modelValue"),a=Fe(()=>e.validationValue===void 0?n.value:e.validationValue),i=PM(),f=Ye([]),l=Ye(!0),v=Fe(()=>!!(Da(n.value===""?null:n.value).length||Da(a.value===""?null:a.value).length)),h=Fe(()=>!!(e.disabled||(i==null?void 0:i.isDisabled.value))),g=Fe(()=>!!(e.readonly||(i==null?void 0:i.isReadonly.value))),_=Fe(()=>e.errorMessages.length?Da(e.errorMessages).slice(0,Math.max(0,+e.maxErrors)):f.value),M=Fe(()=>e.error||_.value.length?!1:e.rules.length&&l.value?null:!0),E=Ye(!1),A=Fe(()=>({[`${t}--error`]:M.value===!1,[`${t}--dirty`]:v.value,[`${t}--disabled`]:h.value,[`${t}--readonly`]:g.value})),I=Fe(()=>{var R;return(R=e.name)!=null?R:C6(r)});O6(()=>{i==null||i.register({id:I.value,validate:k,reset:T,resetValidation:P})}),zv(()=>{i==null||i.unregister(I.value)});const O=Fe(()=>e.validateOn||(i==null?void 0:i.validateOn.value)||"input");Jw(()=>i==null?void 0:i.update(I.value,M.value,_.value)),eu(()=>O.value==="input",()=>{cr(a,()=>{if(a.value!=null)k();else if(e.focused){const R=cr(()=>e.focused,D=>{D||k(),R()})}})}),eu(()=>O.value==="blur",()=>{cr(()=>e.focused,R=>{R||k()})}),cr(M,()=>{i==null||i.update(I.value,M.value,_.value)});function T(){P(),n.value=null}function P(){l.value=!0,f.value=[]}async function k(){var D;const R=[];E.value=!0;for(const V of e.rules){if(R.length>=+((D=e.maxErrors)!=null?D:1))break;const $=await(typeof V=="function"?V:()=>V)(a.value);if($!==!0){if(typeof $!="string"){console.warn(`${$} is not a valid value. Rule functions must return boolean true or a string.`);continue}R.push($)}}return f.value=R,E.value=!1,l.value=!1,f.value}return{errorMessages:_,isDirty:v,isDisabled:h,isReadonly:g,isPristine:l,isValid:M,isValidating:E,reset:T,resetValidation:P,validate:k,validationClasses:A}}const FM=sr({id:String,appendIcon:or,prependIcon:or,hideDetails:[Boolean,String],hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":ei(),"onClick:append":ei(),...eo(),...S$()},"v-input"),Bw=Gt()({name:"VInput",props:{...FM()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:r,slots:n,emit:a}=t;const{densityClasses:i}=to(e),{InputIcon:f}=kM(e),l=io(),v=Fe(()=>e.id||`input-${l}`),h=Fe(()=>`${v.value}-messages`),{errorMessages:g,isDirty:_,isDisabled:M,isReadonly:E,isPristine:A,isValid:I,isValidating:O,reset:T,resetValidation:P,validate:k,validationClasses:R}=M$(e,"v-input",v),D=Fe(()=>({id:v,messagesId:h,isDirty:_,isDisabled:M,isReadonly:E,isPristine:A,isValid:I,isValidating:O,reset:T,resetValidation:P,validate:k})),V=Fe(()=>g.value.length>0?g.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages);return nr(()=>{var b,o,u,c;const q=!!(n.prepend||e.prependIcon),$=!!(n.append||e.appendIcon),F=V.value.length>0,z=!e.hideDetails||e.hideDetails==="auto"&&(F||!!n.details);return Ee("div",{class:["v-input",`v-input--${e.direction}`,i.value,R.value]},[q&&Ee("div",{key:"prepend",class:"v-input__prepend"},[(b=n.prepend)==null?void 0:b.call(n,D.value),e.prependIcon&&Ee(f,{key:"prepend-icon",name:"prepend"},null)]),n.default&&Ee("div",{class:"v-input__control"},[(o=n.default)==null?void 0:o.call(n,D.value)]),$&&Ee("div",{key:"append",class:"v-input__append"},[e.appendIcon&&Ee(f,{key:"append-icon",name:"append"},null),(u=n.append)==null?void 0:u.call(n,D.value)]),z&&Ee("div",{class:"v-input__details"},[Ee(_$,{id:h.value,active:F,messages:V.value},{message:n.message}),(c=n.details)==null?void 0:c.call(n,D.value)])])}),{reset:T,resetValidation:P,validate:k}}});const x$=Gt()({name:"VCounter",functional:!0,props:{active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Bc({transition:{component:$w}})},setup(e,t){let{slots:r}=t;const n=Fe(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return nr(()=>Ee(Uc,{transition:e.transition},{default:()=>[Xn(Ee("div",{class:"v-counter"},[r.default?r.default({counter:n.value,max:e.max,value:e.value}):n.value]),[[yu,e.active]])]})),{}}}),E$=["color","file","time","date","datetime-local","week","month"],LM=sr({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,type:{type:String,default:"text"},modelModifiers:Object,...FM(),...BM()},"v-text-field"),Uw=Gt()({name:"VTextField",directives:{Intersect:h6},inheritAttrs:!1,props:LM(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:r,emit:n,slots:a}=t;const i=Rr(e,"modelValue"),{isFocused:f,focus:l,blur:v}=DM(e),h=Fe(()=>{var D;return typeof e.counterValue=="function"?e.counterValue(i.value):((D=i.value)!=null?D:"").toString().length}),g=Fe(()=>{if(r.maxlength)return r.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function _(D,V){var q,$;!e.autofocus||!D||($=(q=V[0].target)==null?void 0:q.focus)==null||$.call(q)}const M=Ye(),E=Ye(),A=Ye(),I=Fe(()=>E$.includes(e.type)||e.persistentPlaceholder||f.value);function O(){var D;A.value!==document.activeElement&&((D=A.value)==null||D.focus()),f.value||l()}function T(D){n("mousedown:control",D),D.target!==A.value&&(O(),D.preventDefault())}function P(D){O(),n("click:control",D)}function k(D){D.stopPropagation(),O(),$a(()=>{i.value=null,k6(e["onClick:clear"],D)})}function R(D){var q;const V=D.target;if(i.value=V.value,((q=e.modelModifiers)==null?void 0:q.trim)&&["text","search","password","tel","url"].includes(e.type)){const $=[V.selectionStart,V.selectionEnd];$a(()=>{V.selectionStart=$[0],V.selectionEnd=$[1]})}}return nr(()=>{const D=!!(a.counter||e.counter||e.counterValue),V=!!(D||a.details),[q,$]=Xw(r),[{modelValue:F,...z}]=Bw.filterProps(e),[b]=w$(e);return Ee(Bw,Jt({ref:M,modelValue:i.value,"onUpdate:modelValue":o=>i.value=o,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-text-field--flush-details":["plain","underlined"].includes(e.variant)}]},q,z,{focused:f.value}),{...a,default:o=>{let{id:u,isDisabled:c,isDirty:d,isReadonly:p,isValid:w}=o;return Ee(UM,Jt({ref:E,onMousedown:T,onClick:P,"onClick:clear":k,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},b,{id:u.value,active:I.value||d.value,dirty:d.value||e.dirty,disabled:c.value,focused:f.value,error:w.value===!1}),{...a,default:S=>{let{props:{class:m,...s}}=S;const y=Xn(Ee("input",Jt({ref:A,value:i.value,onInput:R,autofocus:e.autofocus,readonly:p.value,disabled:c.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:O,onBlur:v},s,$),null),[[Wo("intersect"),{handler:_},null,{once:!0}]]);return Ee(Qn,null,[e.prefix&&Ee("span",{class:"v-text-field__prefix"},[e.prefix]),a.default?Ee("div",{class:m,"data-no-activator":""},[a.default(),y]):P6(y,{class:m}),e.suffix&&Ee("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:V?o=>{var u;return Ee(Qn,null,[(u=a.details)==null?void 0:u.call(a,o),D&&Ee(Qn,null,[Ee("span",null,null),Ee(x$,{active:e.persistentCounter||f.value,value:h.value,max:g.value},a.counter)])])}:void 0})}),Hl({},M,E,A)}});const qM=Symbol.for("vuetify:selection-control-group"),jM=sr({color:String,disabled:Boolean,error:Boolean,id:String,inline:Boolean,falseIcon:or,trueIcon:or,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:qc},...Ln(),...eo()},"v-selection-control-group");Gt()({name:"VSelectionControlGroup",props:{defaultsTarget:{type:String,default:"VSelectionControl"},...jM()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const n=Rr(e,"modelValue"),a=io(),i=Fe(()=>e.id||`v-selection-control-group-${a}`),f=Fe(()=>e.name||i.value),l=new Set;return fa(qM,{modelValue:n,forceUpdate:()=>{l.forEach(v=>v())},onForceUpdate:v=>{l.add(v),Bn(()=>{l.delete(v)})}}),Kv({[e.defaultsTarget]:{color:bt(e,"color"),disabled:bt(e,"disabled"),density:bt(e,"density"),error:bt(e,"error"),inline:bt(e,"inline"),modelValue:n,multiple:Fe(()=>!!e.multiple||e.multiple==null&&Array.isArray(n.value)),name:f,falseIcon:bt(e,"falseIcon"),trueIcon:bt(e,"trueIcon"),readonly:bt(e,"readonly"),ripple:bt(e,"ripple"),type:bt(e,"type"),valueComparator:bt(e,"valueComparator")}}),nr(()=>{var v;return Ee("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline}],role:e.type==="radio"?"radiogroup":void 0},[(v=r.default)==null?void 0:v.call(r)])}),{}}});const $M=sr({label:String,trueValue:null,falseValue:null,value:null,...jM()},"v-selection-control");function A$(e){const t=Vi(qM,void 0),{densityClasses:r}=to(e),n=Rr(e,"modelValue"),a=Fe(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),i=Fe(()=>e.falseValue!==void 0?e.falseValue:!1),f=Fe(()=>!!e.multiple||e.multiple==null&&Array.isArray(n.value)),l=Fe({get(){const _=t?t.modelValue.value:n.value;return f.value?_.some(M=>e.valueComparator(M,a.value)):e.valueComparator(_,a.value)},set(_){if(e.readonly)return;const M=_?a.value:i.value;let E=M;f.value&&(E=_?[...Da(n.value),M]:Da(n.value).filter(A=>!e.valueComparator(A,a.value))),t?t.modelValue.value=E:n.value=E}}),{textColorClasses:v,textColorStyles:h}=ms(Fe(()=>l.value&&!e.error&&!e.disabled?e.color:void 0)),g=Fe(()=>l.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:r,trueValue:a,falseValue:i,model:l,textColorClasses:v,textColorStyles:h,icon:g}}const I$=Gt()({name:"VSelectionControl",directives:{Ripple:Lv},inheritAttrs:!1,props:$M(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:r,slots:n}=t;const{group:a,densityClasses:i,icon:f,model:l,textColorClasses:v,textColorStyles:h,trueValue:g}=A$(e),_=io(),M=Fe(()=>e.id||`input-${_}`),E=Ye(!1),A=Ye(!1),I=Ye();a==null||a.onForceUpdate(()=>{I.value&&(I.value.checked=l.value)});function O(k){E.value=!0,(!n0||n0&&k.target.matches(":focus-visible"))&&(A.value=!0)}function T(){E.value=!1,A.value=!1}function P(k){e.readonly&&a&&$a(()=>a.forceUpdate()),l.value=k.target.checked}return nr(()=>{var V,q;const k=n.label?n.label({label:e.label,props:{for:M.value}}):e.label,[R,D]=Xw(r);return Ee("div",Jt({class:["v-selection-control",{"v-selection-control--dirty":l.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":E.value,"v-selection-control--focus-visible":A.value,"v-selection-control--inline":e.inline},i.value]},R),[Ee("div",{class:["v-selection-control__wrapper",v.value],style:h.value},[(V=n.default)==null?void 0:V.call(n),Xn(Ee("div",{class:["v-selection-control__input"]},[f.value&&Ee(Yn,{key:"icon",icon:f.value},null),Ee("input",Jt({ref:I,checked:l.value,disabled:e.disabled,id:M.value,onBlur:T,onFocus:O,onInput:P,"aria-disabled":e.readonly,type:e.type,value:g.value,name:e.name,"aria-checked":e.type==="checkbox"?l.value:void 0},D),null),(q=n.input)==null?void 0:q.call(n,{model:l,textColorClasses:v,textColorStyles:h,props:{onFocus:O,onBlur:T,id:M.value}})]),[[Wo("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),k&&Ee(RM,{for:M.value,clickable:!0},{default:()=>[k]})])}),{isFocused:E,input:I}}}),T$=sr({indeterminate:Boolean,indeterminateIcon:{type:or,default:"$checkboxIndeterminate"},...$M({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"v-checkbox-btn"),C$=Gt()({name:"VCheckboxBtn",props:T$(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:r}=t;const n=Rr(e,"indeterminate"),a=Rr(e,"modelValue");function i(v){n.value&&(n.value=!1)}const f=Fe(()=>e.indeterminate?e.indeterminateIcon:e.falseIcon),l=Fe(()=>e.indeterminate?e.indeterminateIcon:e.trueIcon);return nr(()=>Ee(I$,Jt(e,{modelValue:a.value,"onUpdate:modelValue":[v=>a.value=v,i],class:"v-checkbox-btn",type:"checkbox",inline:!0,falseIcon:f.value,trueIcon:l.value,"aria-checked":e.indeterminate?"mixed":void 0}),r)),{}}});const VM=Symbol.for("vuetify:v-chip-group");Gt()({name:"VChipGroup",props:{column:Boolean,filter:Boolean,valueComparator:{type:Function,default:qc},...d6({selectedClass:"v-chip--selected"}),...ji(),...Ln(),...ps({variant:"tonal"})},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const{themeClasses:n}=$i(e),{isSelected:a,select:i,next:f,prev:l,selected:v}=v6(e,VM);return Kv({VChip:{color:bt(e,"color"),disabled:bt(e,"disabled"),filter:bt(e,"filter"),variant:bt(e,"variant")}}),nr(()=>Ee(e.tag,{class:["v-chip-group",{"v-chip-group--column":e.column},n.value]},{default:()=>{var h;return[(h=r.default)==null?void 0:h.call(r,{isSelected:a,select:i,next:f,prev:l,selected:v.value})]}})),{}}});const O$=Gt()({name:"VChip",directives:{Ripple:Lv},props:{activeClass:String,appendAvatar:String,appendIcon:or,closable:Boolean,closeIcon:{type:or,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:or,ripple:{type:Boolean,default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:ei(),onClickOnce:ei(),...qv(),...eo(),...Rc(),...p6(),...pu(),...Vw(),...Lw(),...ji({tag:"span"}),...Ln(),...ps({variant:"tonal"})},emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:r,emit:n,slots:a}=t;const{t:i}=Fc(),{borderClasses:f}=jv(e),{colorClasses:l,colorStyles:v,variantClasses:h}=Oc(e),{densityClasses:g}=to(e),{elevationClasses:_}=Dc(e),{roundedClasses:M}=mu(e),{sizeClasses:E}=qw(e),{themeClasses:A}=$i(e),I=Rr(e,"modelValue"),O=m6(e,VM,!1),T=zw(e,r),P=Fe(()=>e.link!==!1&&T.isLink.value),k=Fe(()=>!e.disabled&&e.link!==!1&&(!!O||e.link||T.isClickable.value)),R=Fe(()=>({"aria-label":i(e.closeLabel),onClick(q){I.value=!1,n("click:close",q)}}));function D(q){var $;n("click",q),k.value&&(($=T.navigate)==null||$.call(T,q),O==null||O.toggle())}function V(q){(q.key==="Enter"||q.key===" ")&&(q.preventDefault(),D(q))}return()=>{const q=T.isLink.value?"a":e.tag,$=!!(e.appendIcon||e.appendAvatar),F=!!($||a.append),z=!!(a.close||e.closable),b=!!(a.filter||e.filter)&&O,o=!!(e.prependIcon||e.prependAvatar),u=!!(o||a.prepend),c=!O||O.isSelected.value;return I.value&&Xn(Ee(q,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":k.value,"v-chip--filter":b,"v-chip--pill":e.pill},A.value,f.value,c?l.value:void 0,g.value,_.value,M.value,E.value,h.value,O==null?void 0:O.selectedClass.value],style:[c?v.value:void 0],disabled:e.disabled||void 0,draggable:e.draggable,href:T.href.value,tabindex:k.value?0:void 0,onClick:D,onKeydown:k.value&&!P.value&&V},{default:()=>{var d,p;return[Pc(k.value,"v-chip"),b&&Ee(jw,{key:"filter"},{default:()=>[Xn(Ee("div",{class:"v-chip__filter"},[a.filter?Xn(Ee(Nn,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},null),[[Wo("slot"),a.filter,"default"]]):Ee(Yn,{key:"filter-icon",icon:e.filterIcon},null)]),[[yu,O.isSelected.value]])]}),u&&Ee("div",{key:"prepend",class:"v-chip__prepend"},[a.prepend?Ee(Nn,{key:"prepend-defaults",disabled:!o,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},a.prepend):Ee(Qn,null,[e.prependIcon&&Ee(Yn,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&Ee(Ic,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),(p=(d=a.default)==null?void 0:d.call(a,{isSelected:O==null?void 0:O.isSelected.value,selectedClass:O==null?void 0:O.selectedClass.value,select:O==null?void 0:O.select,toggle:O==null?void 0:O.toggle,value:O==null?void 0:O.value.value,disabled:e.disabled}))!=null?p:e.text,F&&Ee("div",{key:"append",class:"v-chip__append"},[a.append?Ee(Nn,{key:"append-defaults",disabled:!$,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},a.append):Ee(Qn,null,[e.appendIcon&&Ee(Yn,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&Ee(Ic,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),z&&Ee("div",Jt({key:"close",class:"v-chip__close"},R.value),[a.close?Ee(Nn,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},a.close):Ee(Yn,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[Wo("ripple"),k.value&&e.ripple,null]])}}});const P$=Gt()({name:"VDivider",props:{color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean,...Ln()},setup(e,t){let{attrs:r}=t;const{themeClasses:n}=$i(e),{textColorClasses:a,textColorStyles:i}=ms(bt(e,"color")),f=Fe(()=>{const l={};return e.length&&(l[e.vertical?"maxHeight":"maxWidth"]=Yr(e.length)),e.thickness&&(l[e.vertical?"borderRightWidth":"borderTopWidth"]=Yr(e.thickness)),l});return nr(()=>Ee("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},n.value,a.value],style:[f.value,i.value],"aria-orientation":!r.role||r.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${r.role||"separator"}`},null)),{}}}),Bv=Symbol.for("vuetify:list");function zM(){const e=Vi(Bv,{hasPrepend:Ye(!1),updateHasPrepend:()=>null}),t={hasPrepend:Ye(!1),updateHasPrepend:r=>{r&&(t.hasPrepend.value=r)}};return fa(Bv,t),e}function KM(){return Vi(Bv,null)}const k$={open:e=>{let{id:t,value:r,opened:n,parents:a}=e;if(r){const i=new Set;i.add(t);let f=a.get(t);for(;f!=null;)i.add(f),f=a.get(f);return i}else return n.delete(t),n},select:()=>null},HM={open:e=>{let{id:t,value:r,opened:n,parents:a}=e;if(r){let i=a.get(t);for(n.add(t);i!=null&&i!==t;)n.add(i),i=a.get(i);return n}else n.delete(t);return n},select:()=>null},R$={open:HM.open,select:e=>{let{id:t,value:r,opened:n,parents:a}=e;if(!r)return n;const i=[];let f=a.get(t);for(;f!=null;)i.push(f),f=a.get(f);return new Set(i)}},Rm=e=>{const t={select:r=>{let{id:n,value:a,selected:i}=r;if(n=no(n),e&&!a){const f=Array.from(i.entries()).reduce((l,v)=>{let[h,g]=v;return g==="on"?[...l,h]:l},[]);if(f.length===1&&f[0]===n)return i}return i.set(n,a?"on":"off"),i},in:(r,n,a)=>{let i=new Map;for(const f of r||[])i=t.select({id:f,value:!0,selected:new Map(i),children:n,parents:a});return i},out:r=>{const n=[];for(const[a,i]of r.entries())i==="on"&&n.push(a);return n}};return t},GM=e=>{const t=Rm(e);return{select:n=>{let{selected:a,id:i,...f}=n;i=no(i);const l=a.has(i)?new Map([[i,a.get(i)]]):new Map;return t.select({...f,id:i,selected:l})},in:(n,a,i)=>{let f=new Map;return n!=null&&n.length&&(f=t.in(n.slice(0,1),a,i)),f},out:(n,a,i)=>t.out(n,a,i)}},N$=e=>{const t=Rm(e);return{select:n=>{let{id:a,selected:i,children:f,...l}=n;return a=no(a),f.has(a)?i:t.select({id:a,selected:i,children:f,...l})},in:t.in,out:t.out}},D$=e=>{const t=GM(e);return{select:n=>{let{id:a,selected:i,children:f,...l}=n;return a=no(a),f.has(a)?i:t.select({id:a,selected:i,children:f,...l})},in:t.in,out:t.out}},B$=e=>{const t={select:r=>{let{id:n,value:a,selected:i,children:f,parents:l}=r;n=no(n);const v=new Map(i),h=[n];for(;h.length;){const _=h.shift();i.set(_,a?"on":"off"),f.has(_)&&h.push(...f.get(_))}let g=l.get(n);for(;g;){const _=f.get(g),M=_.every(A=>i.get(A)==="on"),E=_.every(A=>!i.has(A)||i.get(A)==="off");i.set(g,M?"on":E?"off":"indeterminate"),g=l.get(g)}return e&&!a&&Array.from(i.entries()).reduce((M,E)=>{let[A,I]=E;return I==="on"?[...M,A]:M},[]).length===0?v:i},in:(r,n,a)=>{let i=new Map;for(const f of r||[])i=t.select({id:f,value:!0,selected:new Map(i),children:n,parents:a});return i},out:(r,n)=>{const a=[];for(const[i,f]of r.entries())f==="on"&&!n.has(i)&&a.push(i);return a}};return t},vu=Symbol.for("vuetify:nested"),WM={id:Ye(),root:{register:()=>null,unregister:()=>null,parents:Ye(new Map),children:Ye(new Map),open:()=>null,openOnSelect:()=>null,select:()=>null,opened:Ye(new Set),selected:Ye(new Map),selectedValues:Ye([])}},U$=sr({selectStrategy:[String,Function],openStrategy:[String,Object],opened:Array,selected:Array,mandatory:Boolean},"nested"),F$=e=>{let t=!1;const r=Ye(new Map),n=Ye(new Map),a=Rr(e,"opened",e.opened,_=>new Set(_),_=>[..._.values()]),i=Fe(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single-leaf":return D$(e.mandatory);case"leaf":return N$(e.mandatory);case"independent":return Rm(e.mandatory);case"single-independent":return GM(e.mandatory);case"classic":default:return B$(e.mandatory)}}),f=Fe(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return R$;case"single":return k$;case"multiple":default:return HM}}),l=Rr(e,"selected",e.selected,_=>i.value.in(_,r.value,n.value),_=>i.value.out(_,r.value,n.value));zv(()=>{t=!0});function v(_){const M=[];let E=_;for(;E!=null;)M.unshift(E),E=n.value.get(E);return M}const h=Lc("nested"),g={id:Ye(),root:{opened:a,selected:l,selectedValues:Fe(()=>{const _=[];for(const[M,E]of l.value.entries())E==="on"&&_.push(M);return _}),register:(_,M,E)=>{M&&_!==M&&n.value.set(_,M),E&&r.value.set(_,[]),M!=null&&r.value.set(M,[...r.value.get(M)||[],_])},unregister:_=>{var E;if(t)return;r.value.delete(_);const M=n.value.get(_);if(M){const A=(E=r.value.get(M))!=null?E:[];r.value.set(M,A.filter(I=>I!==_))}n.value.delete(_),a.value.delete(_)},open:(_,M,E)=>{h.emit("click:open",{id:_,value:M,path:v(_),event:E});const A=f.value.open({id:_,value:M,opened:new Set(a.value),children:r.value,parents:n.value,event:E});A&&(a.value=A)},openOnSelect:(_,M,E)=>{const A=f.value.select({id:_,value:M,selected:new Map(l.value),opened:new Set(a.value),children:r.value,parents:n.value,event:E});A&&(a.value=A)},select:(_,M,E)=>{h.emit("click:select",{id:_,value:M,path:v(_),event:E});const A=i.value.select({id:_,value:M,selected:new Map(l.value),children:r.value,parents:n.value,event:E});A&&(l.value=A),g.root.openOnSelect(_,M,E)},children:r,parents:n}};return fa(vu,g),g.root},JM=(e,t)=>{const r=Vi(vu,WM),n=Symbol(io()),a=Fe(()=>{var f;return(f=e.value)!=null?f:n}),i={...r,id:a,open:(f,l)=>r.root.open(a.value,f,l),openOnSelect:(f,l)=>r.root.openOnSelect(a.value,f,l),isOpen:Fe(()=>r.root.opened.value.has(a.value)),parent:Fe(()=>r.root.parents.value.get(a.value)),select:(f,l)=>r.root.select(a.value,f,l),isSelected:Fe(()=>r.root.selected.value.get(no(a.value))==="on"),isIndeterminate:Fe(()=>r.root.selected.value.get(a.value)==="indeterminate"),isLeaf:Fe(()=>!r.root.children.value.get(a.value)),isGroupActivator:r.isGroupActivator};return!r.isGroupActivator&&r.root.register(a.value,r.id.value,t),zv(()=>{!r.isGroupActivator&&r.root.unregister(a.value)}),t&&fa(vu,i),i},L$=()=>{const e=Vi(vu,WM);fa(vu,{...e,isGroupActivator:!0})},q$=R6({name:"VListGroupActivator",setup(e,t){let{slots:r}=t;return L$(),()=>{var n;return(n=r.default)==null?void 0:n.call(r)}}}),j$=sr({activeColor:String,color:String,collapseIcon:{type:or,default:"$collapse"},expandIcon:{type:or,default:"$expand"},prependIcon:or,appendIcon:or,fluid:Boolean,subgroup:Boolean,value:null,...ji()},"v-list-group"),Fw=Gt()({name:"VListGroup",props:{title:String,...j$()},setup(e,t){let{slots:r}=t;const{isOpen:n,open:a,id:i}=JM(bt(e,"value"),!0),f=Fe(()=>`v-list-group--id-${String(i.value)}`),l=KM(),{isBooted:v}=y6();function h(E){a(!n.value,E)}const g=Fe(()=>({onClick:h,class:"v-list-group__header",id:f.value})),_=Fe(()=>n.value?e.collapseIcon:e.expandIcon),M=Fe(()=>({VListItem:{active:n.value,activeColor:e.activeColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&_.value,appendIcon:e.appendIcon||!e.subgroup&&_.value,title:e.title,value:e.value}}));return nr(()=>Ee(e.tag,{class:["v-list-group",{"v-list-group--prepend":l==null?void 0:l.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":n.value}]},{default:()=>[r.activator&&Ee(Nn,{defaults:M.value},{default:()=>[Ee(q$,null,{default:()=>[r.activator({props:g.value,isOpen:n.value})]})]}),Ee(Uc,{transition:{component:g6},disabled:!v.value},{default:()=>{var E;return[Xn(Ee("div",{class:"v-list-group__items",role:"group","aria-labelledby":f.value},[(E=r.default)==null?void 0:E.call(r)]),[[yu,n.value]])]}})]})),{}}});const $$=Uv("v-list-item-subtitle"),V$=Uv("v-list-item-title"),Cc=Gt()({name:"VListItem",directives:{Ripple:Lv},props:{active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:or,disabled:Boolean,lines:String,link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:or,ripple:{type:Boolean,default:!0},subtitle:[String,Number,Boolean],title:[String,Number,Boolean],value:null,onClick:ei(),onClickOnce:ei(),...qv(),...eo(),...kc(),...Rc(),...pu(),...Vw(),...ji(),...Ln(),...ps({variant:"text"})},emits:{click:e=>!0},setup(e,t){let{attrs:r,slots:n,emit:a}=t;const i=zw(e,r),f=Fe(()=>{var w;return(w=e.value)!=null?w:i.href.value}),{select:l,isSelected:v,isIndeterminate:h,isGroupActivator:g,root:_,parent:M,openOnSelect:E}=JM(f,!1),A=KM(),I=Fe(()=>{var w;return e.active!==!1&&(e.active||((w=i.isActive)==null?void 0:w.value)||v.value)}),O=Fe(()=>e.link!==!1&&i.isLink.value),T=Fe(()=>!e.disabled&&e.link!==!1&&(e.link||i.isClickable.value||e.value!=null&&!!A)),P=Fe(()=>e.rounded||e.nav),k=Fe(()=>{var w;return{color:I.value&&(w=e.activeColor)!=null?w:e.color,variant:e.variant}});cr(()=>{var w;return(w=i.isActive)==null?void 0:w.value},w=>{w&&M.value!=null&&_.open(M.value,!0),w&&E(w)},{immediate:!0});const{themeClasses:R}=$i(e),{borderClasses:D}=jv(e),{colorClasses:V,colorStyles:q,variantClasses:$}=Oc(k),{densityClasses:F}=to(e),{dimensionStyles:z}=Nc(e),{elevationClasses:b}=Dc(e),{roundedClasses:o}=mu(P),u=Fe(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),c=Fe(()=>({isActive:I.value,select:l,isSelected:v.value,isIndeterminate:h.value}));function d(w){var S;a("click",w),!(g||!T.value)&&((S=i.navigate)==null||S.call(i,w),e.value!=null&&l(!v.value,w))}function p(w){(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),d(w))}return nr(()=>{const w=O.value?"a":e.tag,S=!A||v.value||I.value,m=n.title||e.title,s=n.subtitle||e.subtitle,y=!!(e.appendAvatar||e.appendIcon),x=!!(y||n.append),C=!!(e.prependAvatar||e.prependIcon),N=!!(C||n.prepend);return A==null||A.updateHasPrepend(N),Xn(Ee(w,{class:["v-list-item",{"v-list-item--active":I.value,"v-list-item--disabled":e.disabled,"v-list-item--link":T.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!N&&(A==null?void 0:A.hasPrepend.value),[`${e.activeClass}`]:e.activeClass&&I.value},R.value,D.value,S?V.value:void 0,F.value,b.value,u.value,o.value,$.value],style:[S?q.value:void 0,z.value],href:i.href.value,tabindex:T.value?0:void 0,onClick:d,onKeydown:T.value&&!O.value&&p},{default:()=>{var j;return[Pc(T.value||I.value,"v-list-item"),N&&Ee("div",{key:"prepend",class:"v-list-item__prepend"},[n.prepend?Ee(Nn,{key:"prepend-defaults",disabled:!C,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var B;return[(B=n.prepend)==null?void 0:B.call(n,c.value)]}}):Ee(Qn,null,[e.prependAvatar&&Ee(Ic,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&Ee(Yn,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),Ee("div",{class:"v-list-item__content","data-no-activator":""},[m&&Ee(V$,{key:"title"},{default:()=>{var B,L;return[(L=(B=n.title)==null?void 0:B.call(n,{title:e.title}))!=null?L:e.title]}}),s&&Ee($$,{key:"subtitle"},{default:()=>{var B,L;return[(L=(B=n.subtitle)==null?void 0:B.call(n,{subtitle:e.subtitle}))!=null?L:e.subtitle]}}),(j=n.default)==null?void 0:j.call(n,c.value)]),x&&Ee("div",{key:"append",class:"v-list-item__append"},[n.append?Ee(Nn,{key:"append-defaults",disabled:!y,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var B;return[(B=n.append)==null?void 0:B.call(n,c.value)]}}):Ee(Qn,null,[e.appendIcon&&Ee(Yn,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&Ee(Ic,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])]}}),[[Wo("ripple"),T.value&&e.ripple]])}),{}}}),z$=Gt()({name:"VListSubheader",props:{color:String,inset:Boolean,sticky:Boolean,title:String,...ji()},setup(e,t){let{slots:r}=t;const{textColorClasses:n,textColorStyles:a}=ms(bt(e,"color"));return nr(()=>{const i=!!(r.default||e.title);return Ee(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},n.value],style:{textColorStyles:a}},{default:()=>{var f,l;return[i&&Ee("div",{class:"v-list-subheader__text"},[(l=(f=r.default)==null?void 0:f.call(r))!=null?l:e.title])]}})}),{}}}),ZM=Gt()({name:"VListChildren",props:{items:Array},setup(e,t){let{slots:r}=t;return zM(),()=>{var n,a,i;return(i=(n=r.default)==null?void 0:n.call(r))!=null?i:(a=e.items)==null?void 0:a.map(f=>{var A,I,O,T;let{children:l,props:v,type:h,raw:g}=f;if(h==="divider")return(I=(A=r.divider)==null?void 0:A.call(r,{props:v}))!=null?I:Ee(P$,v,null);if(h==="subheader")return(T=(O=r.subheader)==null?void 0:O.call(r,{props:v}))!=null?T:Ee(z$,v,{default:r.subheader});const _={subtitle:r.subtitle?P=>{var k;return(k=r.subtitle)==null?void 0:k.call(r,{...P,item:g})}:void 0,prepend:r.prepend?P=>{var k;return(k=r.prepend)==null?void 0:k.call(r,{...P,item:g})}:void 0,append:r.append?P=>{var k;return(k=r.append)==null?void 0:k.call(r,{...P,item:g})}:void 0,default:r.default?P=>{var k;return(k=r.default)==null?void 0:k.call(r,{...P,item:g})}:void 0,title:r.title?P=>{var k;return(k=r.title)==null?void 0:k.call(r,{...P,item:g})}:void 0},[M,E]=Fw.filterProps(v);return l?Ee(Fw,Jt({value:v==null?void 0:v.value},M),{activator:P=>{let{props:k}=P;return r.header?r.header({props:{...v,...k}}):Ee(Cc,Jt(v,k),_)},default:()=>Ee(ZM,{items:l},r)}):r.item?r.item(v):Ee(Cc,v,_)})}}}),YM=sr({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean},"item");function XM(e,t){var l;const r=Ai(t,e.itemTitle,t),n=e.returnObject?t:Ai(t,e.itemValue,r),a=Ai(t,e.itemChildren),i=e.itemProps===!0?typeof t=="object"&&t!=null&&!Array.isArray(t)?"children"in t?Vv(t,["children"])[1]:t:void 0:Ai(t,e.itemProps),f={title:r,value:n,...i};return{title:String((l=f.title)!=null?l:""),value:f.value,props:f,children:Array.isArray(a)?QM(e,a):void 0,raw:t}}function QM(e,t){const r=[];for(const n of t)r.push(XM(e,n));return r}function K$(e){const t=Fe(()=>QM(e,e.items));function r(a){return a.map(i=>{const f=t.value.find(l=>qc(i,l.value));return f!=null?f:XM(e,i)})}function n(a){return a.map(i=>{let{props:f}=i;return f.value})}return{items:t,transformIn:r,transformOut:n}}function H$(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function G$(e,t){const r=Ai(t,e.itemType,"item"),n=H$(t)?t:Ai(t,e.itemTitle),a=Ai(t,e.itemValue,void 0),i=Ai(t,e.itemChildren),f=e.itemProps===!0?Vv(t,["children"])[1]:Ai(t,e.itemProps),l={title:n,value:a,...f};return{type:r,title:l.title,value:l.value,props:l,children:r==="item"&&i?e6(e,i):void 0,raw:t}}function e6(e,t){const r=[];for(const n of t)r.push(G$(e,n));return r}function W$(e){return{items:Fe(()=>e6(e,e.items))}}const J$=Gt()({name:"VList",props:{activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,lines:{type:[Boolean,String],default:"one"},nav:Boolean,...U$({selectStrategy:"single-leaf",openStrategy:"list"}),...qv(),...eo(),...kc(),...Rc(),itemType:{type:String,default:"type"},...YM(),...pu(),...ji(),...Ln(),...ps({variant:"text"})},emits:{"update:selected":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:r}=t;const{items:n}=W$(e),{themeClasses:a}=$i(e),{backgroundColorClasses:i,backgroundColorStyles:f}=Fv(bt(e,"bgColor")),{borderClasses:l}=jv(e),{densityClasses:v}=to(e),{dimensionStyles:h}=Nc(e),{elevationClasses:g}=Dc(e),{roundedClasses:_}=mu(e),{open:M,select:E}=F$(e),A=Fe(()=>e.lines?`v-list--${e.lines}-line`:void 0),I=bt(e,"activeColor"),O=bt(e,"color");zM(),Kv({VListGroup:{activeColor:I,color:O},VListItem:{activeClass:bt(e,"activeClass"),activeColor:I,color:O,density:bt(e,"density"),disabled:bt(e,"disabled"),lines:bt(e,"lines"),nav:bt(e,"nav"),variant:bt(e,"variant")}});const T=Ye(!1),P=Ye();function k($){T.value=!0}function R($){T.value=!1}function D($){var F;!T.value&&!($.relatedTarget&&((F=P.value)==null?void 0:F.contains($.relatedTarget)))&&q()}function V($){if(!!P.value){if($.key==="ArrowDown")q("next");else if($.key==="ArrowUp")q("prev");else if($.key==="Home")q("first");else if($.key==="End")q("last");else return;$.preventDefault()}}function q($){var o,u,c;if(!P.value)return;const F=["button","[href]","input","select","textarea","[tabindex]"].map(d=>`${d}:not([tabindex="-1"])`).join(", "),z=[...P.value.querySelectorAll(F)].filter(d=>!d.hasAttribute("disabled")),b=z.indexOf(document.activeElement);if(!$)P.value.contains(document.activeElement)||(o=z[0])==null||o.focus();else if($==="first")(u=z[0])==null||u.focus();else if($==="last")(c=z.at(-1))==null||c.focus();else{let d,p=b;const w=$==="next"?1:-1;do p+=w,d=z[p];while((!d||d.offsetParent==null)&&p<z.length&&p>=0);d?d.focus():q($==="next"?"first":"last")}}return nr(()=>Ee(e.tag,{ref:P,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav},a.value,i.value,l.value,v.value,g.value,A.value,_.value],style:[f.value,h.value],role:"listbox","aria-activedescendant":void 0,onFocusin:k,onFocusout:R,onFocus:D,onKeydown:V},{default:()=>[Ee(ZM,{items:n.value},r)]})),{open:M,select:E,focus:q}}});const Z$=Gt()({name:"VMenu",props:{id:String,...Qw(CM({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:MM}}),["absolute"])},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const n=Rr(e,"modelValue"),{scopeId:a}=AM(),i=io(),f=Fe(()=>e.id||`v-menu-${i}`),l=Ye(),v=Vi(Rv,null),h=Ye(0);fa(Rv,{register(){++h.value},unregister(){--h.value},closeParents(){setTimeout(()=>{h.value||(n.value=!1,v==null||v.closeParents())},40)}}),cr(n,M=>{M?v==null||v.register():v==null||v.unregister()});function g(){v==null||v.closeParents()}const _=Fe(()=>Jt({"aria-haspopup":"menu","aria-expanded":String(n.value),"aria-owns":f.value},e.activatorProps));return nr(()=>{const[M]=Dw.filterProps(e);return Ee(Dw,Jt({ref:l,class:["v-menu"]},M,{modelValue:n.value,"onUpdate:modelValue":E=>n.value=E,absolute:!0,activatorProps:_.value,"onClick:outside":g},a),{activator:r.activator,default:function(){for(var E=arguments.length,A=new Array(E),I=0;I<E;I++)A[I]=arguments[I];return Ee(Nn,{root:!0},{default:()=>{var O;return[(O=r.default)==null?void 0:O.call(r,...A)]}})}})}),Hl({id:f,\u03A8openChildren:h},l)}}),Y$=sr({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:or,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,valueComparator:{type:Function,default:qc},...YM({itemChildren:!1})},"v-select"),aV=Gt()({name:"VSelect",props:{...Y$(),...Qw(LM({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...Bc({transition:{component:MM}})},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:r}=t;const{t:n}=Fc(),a=Ye(),i=Ye(),f=Rr(e,"menu"),l=Fe({get:()=>f.value,set:b=>{var o;f.value&&!b&&((o=i.value)==null?void 0:o.\u03A8openChildren)||(f.value=b)}}),{items:v,transformIn:h,transformOut:g}=K$(e),_=Rr(e,"modelValue",[],b=>h(Da(b)),b=>{var u;const o=g(b);return e.multiple?o:(u=o[0])!=null?u:null}),M=PM(),E=Fe(()=>_.value.map(b=>v.value.find(o=>e.valueComparator(o.value,b.value))||b)),A=Fe(()=>E.value.map(b=>b.props.value)),I=Ye(!1);let O="",T;const P=Fe(()=>e.hideSelected?v.value.filter(b=>!E.value.some(o=>o===b)):v.value),k=Ye();function R(b){e.openOnClear&&(l.value=!0)}function D(){e.hideNoData&&!v.value.length||e.readonly||(M==null?void 0:M.isReadonly.value)||(l.value=!l.value)}function V(b){var p,w,S,m;if(e.readonly||(M==null?void 0:M.isReadonly.value))return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(b.key)&&b.preventDefault(),["Enter","ArrowDown"," "].includes(b.key)&&(l.value=!0),["Escape","Tab"].includes(b.key)&&(l.value=!1),b.key==="ArrowDown"?(p=k.value)==null||p.focus("next"):b.key==="ArrowUp"?(w=k.value)==null||w.focus("prev"):b.key==="Home"?(S=k.value)==null||S.focus("first"):b.key==="End"&&((m=k.value)==null||m.focus("last"));const o=1e3;function u(s){const y=s.key.length===1,x=!s.ctrlKey&&!s.metaKey&&!s.altKey;return y&&x}if(e.multiple||!u(b))return;const c=performance.now();c-T>o&&(O=""),O+=b.key.toLowerCase(),T=c;const d=v.value.find(s=>s.title.toLowerCase().startsWith(O));d!==void 0&&(_.value=[d])}function q(b){if(e.multiple){const o=A.value.findIndex(u=>e.valueComparator(u,b.value));if(o===-1)_.value=[..._.value,b];else{const u=[..._.value];u.splice(o,1),_.value=u}}else _.value=[b],l.value=!1}function $(b){var o;(o=k.value)!=null&&o.$el.contains(b.relatedTarget)||(l.value=!1)}function F(b){I.value=!0}function z(b){var o;b.relatedTarget==null&&((o=a.value)==null||o.focus())}return nr(()=>{const b=!!(e.chips||r.chip),o=!!(!e.hideNoData||P.value.length||r.prepend||r.append||r["no-data"]),u=_.value.length>0,[c]=Uw.filterProps(e),d=u||!I.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return Ee(Uw,Jt({ref:a},c,{modelValue:_.value.map(p=>p.props.value).join(", "),"onUpdate:modelValue":p=>{p==null&&(_.value=[])},focused:I.value,"onUpdate:focused":p=>I.value=p,validationValue:_.externalValue,dirty:u,class:["v-select",{"v-select--active-menu":l.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":_.value.length}],appendInnerIcon:e.menuIcon,readonly:!0,placeholder:d,"onClick:clear":R,"onMousedown:control":D,onBlur:$,onKeydown:V}),{...r,default:()=>Ee(Qn,null,[Ee(Z$,Jt({ref:i,modelValue:l.value,"onUpdate:modelValue":p=>l.value=p,activator:"parent",contentClass:"v-select__content",eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition},e.menuProps),{default:()=>[o&&Ee(J$,{ref:k,selected:A.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:p=>p.preventDefault(),onFocusin:F,onFocusout:z},{default:()=>{var p,w,S,m;return[!P.value.length&&!e.hideNoData&&((w=(p=r["no-data"])==null?void 0:p.call(r))!=null?w:Ee(Cc,{title:n(e.noDataText)},null)),(S=r["prepend-item"])==null?void 0:S.call(r),P.value.map((s,y)=>{var x;return r.item?(x=r.item)==null?void 0:x.call(r,{item:s,index:y,props:Jt(s.props,{onClick:()=>q(s)})}):Ee(Cc,Jt({key:y},s.props,{onClick:()=>q(s)}),{prepend:C=>{let{isSelected:N}=C;return e.multiple&&!e.hideSelected?Ee(C$,{modelValue:N,ripple:!1,tabindex:"-1"},null):void 0}})}),(m=r["append-item"])==null?void 0:m.call(r)]}})]}),E.value.map((p,w)=>{var s,y;function S(x){x.stopPropagation(),x.preventDefault(),q(p)}const m={"onClick:close":S,modelValue:!0,"onUpdate:modelValue":void 0};return Ee("div",{key:p.value,class:"v-select__selection"},[b?r.chip?Ee(Nn,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:p.title}}},{default:()=>{var x;return[(x=r.chip)==null?void 0:x.call(r,{item:p,index:w,props:m})]}}):Ee(O$,Jt({key:"chip",closable:e.closableChips,size:"small",text:p.title},m),null):(y=(s=r.selection)==null?void 0:s.call(r,{item:p,index:w}))!=null?y:Ee("span",{class:"v-select__selection-text"},[p.title,e.multiple&&w<E.value.length-1&&Ee("span",{class:"v-select__selection-comma"},[N6(",")])])])})])})}),Hl({isFocused:I,menu:l,select:q},a)}});export{tV as S,eV as V,MM as a,Dw as b,Zj as c,Yj as d,rV as e,Hl as f,nV as g,iV as h,SM as i,Uw as j,aV as k,Ic as l,CM as m,AM as u};
