import{i as w,h,j as U,d as x,V as P,k as E,l as m,n as A,b as I}from"./VSelect.85fa8ac7.js";import{q as S,s as v,ac as L,m as o,w as t,x as f,v as _,af as O,A as b,aQ as j,Q as q,aR as F,U as M,y as B,z as G}from"./index.d0d5ed97.js";import{_ as R,d as g,r as y,V as C,c}from"./VRow.29bdb693.js";const J={name:"Admin-Page",data(){return{isOpen:!1,showNewVideo:!1,submitSuccess:!1,updateSuccess:!1,deleteSuccess:!1,isLoggedIn:!1,inputPassword:"",correctPassword:"murphydog",wrongPassword:!1,tagItems:["featured","top-viewed","animation","fantasy","realistic","sci-fi","short-films","kids","visuals","worlds","anime","horror-suspense","bizarre"],allTags:[{label:"Featured",value:"featured"},{label:"Top Viewed",value:"top-viewed"},{label:"Animation",value:"animation"},{label:"Fantasy",value:"fantasy"},{label:"Realistic",value:"realistic"},{label:"Sci-Fi",value:"sci-fi"},{label:"Short Films",value:"short-films"},{label:"Kids",value:"kids"},{label:"Stunning Visuals",value:"visuals"},{label:"Digital Worlds",value:"worlds"},{label:"Anime",value:"anime"},{label:"Horror/Suspense",value:"horror-suspense"},{label:"Bizarre",value:"bizarre"}],allTools:[{label:"ChatGPT",value:"ChatGPT"},{label:"Midjourney",value:"Midjourney"},{label:"Runway: Gen 2",value:"Runway: Gen 2"},{label:"Runway: Gen 1",value:"Runway: Gen 1"},{label:"Bark",value:"Bark"},{label:"ElevenLabs",value:"ElevenLabs"}],videoData:{title:"",description:"",author:"",socials:{},ai:[],tags:[],src:"",poster:"",hoverPoster:""},videoList:[],msgData:""}},methods:{async handleDelete(i){try{await w.delete(i),this.deleteSuccess=!0,this.videos=this.videos.filter(l=>l.id!==i.id)}catch(l){console.error(`Error deleting video with ID ${i.id}:`,l)}},async saveChanges(i){await this.updateVideoInDataStore(i)},async updateVideoInDataStore(i){try{const l=await w.query(h,i.id),u={...i,socials:JSON.stringify(i.socials),ai:i.ai.map(d=>d.toString()),tags:i.tags.map(d=>d.toString())};await w.save(h.copyOf(l,d=>{for(const a in u)d[a]=u[a]})),this.updateSuccess=!0,console.log("Video updated successfully")}catch(l){console.error("Error updating video:",l)}},onArrChange(i){let l={newData:i};this.onCellEditComplete(l)},onObjChange(i,l,u){const d=JSON.parse(JSON.stringify(i[l]));d[u.target.name]=u.target.value,i[l]=d;let a={newData:i};this.onCellEditComplete(a)},onCellEditComplete(i){const l=i.newData,u=this.videoList.findIndex(d=>d.id===l.id);Array.isArray(l.ai)&&(l.ai=l.ai.filter(d=>typeof d=="string"&&!d.includes("[")&&!d.includes("]")),l.ai=l.ai.filter(d=>typeof d=="string"&&!d.includes('"'))),Array.isArray(l.tags)&&(l.tags=l.tags.filter(d=>typeof d=="string"&&!d.includes("[")&&!d.includes("]")),l.tags=l.tags.filter(d=>typeof d=="string"&&!d.includes('"'))),u!==-1&&this.videoList.splice(u,1,{...l})},checkPassword(){this.inputPassword===this.correctPassword?(this.isLoggedIn=!0,this.wrongPassword=!1):this.wrongPassword=!0},openEdit(){this.isOpen=!this.isOpen},openShowNewVideo(){this.showNewVideo=!this.showNewVideo},async sendDataToMidtier(){try{const i={...this.videoData,socials:JSON.stringify(this.videoData.socials),ai:JSON.stringify(this.videoData.ai),tags:JSON.stringify(this.videoData.tags)};if(console.log("json'd",i),this.videoData.id){const l=await w.query(h,this.videoData.id);await w.save(h.copyOf(l,u=>{for(const d in i)u[d]=i[d]}))}else{const l=await w.save(new h(i));console.log("Data stored successfully:",l)}this.$refs.submitVideoForm.reset(),this.submitSuccess=!0,this.loadVideoData()}catch(i){console.error("Error while submitting video:",i),this.submitSuccess=!1}},async loadVideoData(){try{const i=await w.query(h);console.log(i);const l=i.filter(u=>!u.excluded&&!u._deleted);this.videoList=l.map(u=>({...u}))}catch(i){console.error("Error fetching video data:",i)}},editVideo(i){this.videoData={...i}}},created(){this.loadVideoData()},computed:{}},D=i=>(B("data-v-c00f1e76"),i=i(),G(),i),H=D(()=>b("h1",{class:"mt-8"},"Admin",-1)),z=D(()=>b("h1",{class:"mr-2"},"Add Video",-1)),W=D(()=>b("h1",{class:"mb-7 mt-n3"},"New Video",-1)),Q=D(()=>b("h1",{class:"mt-10"},"Login",-1)),K=D(()=>b("label",{for:"password"},"Password:",-1)),Y=D(()=>b("button",{type:"submit",class:"login-button"},"Login",-1)),X={key:0};function Z(i,l,u,d,a,r){const p=S("InputText"),V=S("Column"),k=S("font-awesome-icon"),T=S("MultiSelect"),N=S("DataTable");return v(),L(M,null,[o(x,{modelValue:a.submitSuccess,"onUpdate:modelValue":l[1]||(l[1]=e=>a.submitSuccess=e),class:"overlay"},{default:t(()=>[o(U,{class:"submit-form text-white",text:"Sucessfully Submitted"},{default:t(()=>[o(g,{variant:"plain",density:"compact",ripple:!1,class:"mx-n4",onClick:l[0]||(l[0]=e=>a.submitSuccess=!1)},{default:t(()=>[o(y,{class:"text-white mb-1"},{default:t(()=>[f("mdi-close")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(x,{modelValue:a.updateSuccess,"onUpdate:modelValue":l[3]||(l[3]=e=>a.updateSuccess=e),class:"overlay"},{default:t(()=>[o(U,{class:"submit-form text-white",text:"Sucessfully Updated"},{default:t(()=>[o(g,{variant:"plain",density:"compact",ripple:!1,class:"mx-n4",onClick:l[2]||(l[2]=e=>a.updateSuccess=!1)},{default:t(()=>[o(y,{class:"text-white mb-1"},{default:t(()=>[f("mdi-close")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(x,{modelValue:a.deleteSuccess,"onUpdate:modelValue":l[5]||(l[5]=e=>a.deleteSuccess=e),class:"overlay"},{default:t(()=>[o(U,{class:"submit-form text-white",text:"Sucessfully Deleted"},{default:t(()=>[o(g,{variant:"plain",density:"compact",ripple:!1,class:"mx-n4",onClick:l[4]||(l[4]=e=>a.deleteSuccess=!1)},{default:t(()=>[o(y,{class:"text-white mb-1"},{default:t(()=>[f("mdi-close")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a.isLoggedIn?(v(),_(I,{key:0,fluid:"",class:"admin-container mt-n16 text-white"},{default:t(()=>[H,o(g,{class:"mt-4 mb-4",variant:"outlined",onClick:l[6]||(l[6]=e=>r.openShowNewVideo())},{default:t(()=>[z,a.showNewVideo==!1?(v(),_(y,{key:0},{default:t(()=>[f("mdi-arrow-down")]),_:1})):(v(),_(y,{key:1},{default:t(()=>[f("mdi-arrow-up")]),_:1}))]),_:1}),a.showNewVideo==!0?(v(),_(P,{key:0,class:"addCard mx-10 text-white"},{default:t(()=>[W,o(E,{ref:"submitVideoForm"},{default:t(()=>[o(m,{label:"Video Title",modelValue:a.videoData.title,"onUpdate:modelValue":l[7]||(l[7]=e=>a.videoData.title=e),required:""},null,8,["modelValue"]),o(m,{label:"Description",modelValue:a.videoData.description,"onUpdate:modelValue":l[8]||(l[8]=e=>a.videoData.description=e),required:""},null,8,["modelValue"]),o(m,{label:"Author",modelValue:a.videoData.author,"onUpdate:modelValue":l[9]||(l[9]=e=>a.videoData.author=e),required:""},null,8,["modelValue"]),o(m,{label:"Website Link",modelValue:a.videoData.socials.website,"onUpdate:modelValue":l[10]||(l[10]=e=>a.videoData.socials.website=e)},null,8,["modelValue"]),o(m,{label:"Twitter Handle",modelValue:a.videoData.socials.twitter,"onUpdate:modelValue":l[11]||(l[11]=e=>a.videoData.socials.twitter=e)},null,8,["modelValue"]),o(m,{label:"Facebook Handle",modelValue:a.videoData.socials.facebook,"onUpdate:modelValue":l[12]||(l[12]=e=>a.videoData.socials.facebook=e)},null,8,["modelValue"]),o(m,{label:"Instagram Handle",modelValue:a.videoData.socials.instagram,"onUpdate:modelValue":l[13]||(l[13]=e=>a.videoData.socials.instagram=e)},null,8,["modelValue"]),o(m,{label:"TikTok Handle",modelValue:a.videoData.socials.tiktok,"onUpdate:modelValue":l[14]||(l[14]=e=>a.videoData.socials.tiktok=e)},null,8,["modelValue"]),o(m,{label:"YouTube Handle",modelValue:a.videoData.socials.youtube,"onUpdate:modelValue":l[15]||(l[15]=e=>a.videoData.socials.youtube=e)},null,8,["modelValue"]),o(A,{items:["ChatGPT","Midjourney","Runway: Gen 1","Runway: Gen 2","Bark","ElevenLabs"],label:"Tools Used",modelValue:a.videoData.ai,"onUpdate:modelValue":l[16]||(l[16]=e=>a.videoData.ai=e),multiple:"",required:""},null,8,["modelValue"]),o(A,{items:a.tagItems,label:"Tags",modelValue:a.videoData.tags,"onUpdate:modelValue":l[17]||(l[17]=e=>a.videoData.tags=e),multiple:"",required:""},null,8,["items","modelValue"]),o(m,{label:"Source Link",modelValue:a.videoData.src,"onUpdate:modelValue":l[18]||(l[18]=e=>a.videoData.src=e),required:""},null,8,["modelValue"]),o(m,{label:"Poster Link",modelValue:a.videoData.poster,"onUpdate:modelValue":l[19]||(l[19]=e=>a.videoData.poster=e),required:""},null,8,["modelValue"]),o(m,{label:"Hover Poster Link",modelValue:a.videoData.hoverPoster,"onUpdate:modelValue":l[20]||(l[20]=e=>a.videoData.hoverPoster=e),required:""},null,8,["modelValue"]),o(g,{class:"ma-2 text-green",variant:"outlined",onClick:r.sendDataToMidtier},{default:t(()=>[f("Add Video")]),_:1},8,["onClick"])]),_:1},512)]),_:1})):O("",!0),o(P,{class:"addCard"},{default:t(()=>[o(N,{value:a.videoList,editMode:"cell",removableSort:"",onCellEditComplete:r.onCellEditComplete,tableClass:"editable-cells-table",tableStyle:"min-width: 50rem"},{default:t(()=>[o(V,{field:"title",header:"Title",style:{width:"auto"}},{editor:t(({data:e,field:s})=>[o(p,{modelValue:e[s],"onUpdate:modelValue":n=>e[s]=n},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),o(V,{field:"description",header:"Description",style:{width:"auto"}},{editor:t(({data:e,field:s})=>[o(p,{modelValue:e[s],"onUpdate:modelValue":n=>e[s]=n},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),o(V,{field:"author",header:"Author",sortable:"",style:{width:"auto"}},{editor:t(({data:e,field:s})=>[o(p,{modelValue:e[s],"onUpdate:modelValue":n=>e[s]=n,autofocus:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),o(V,{field:"socials",header:"Socials",style:{width:"auto"}},{body:t(({data:e,field:s})=>[b("div",null,[o(C,null,{default:t(()=>[o(c,{cols:"2"},{default:t(()=>[o(y,{class:"mt-4"},{default:t(()=>[f("mdi-open-in-app")]),_:1})]),_:1}),o(c,{cols:"2"},{default:t(()=>[o(p,{name:"website",modelValue:e[s].website,"onUpdate:modelValue":n=>e[s].website=n,onChange:n=>r.onObjChange(e,s,n)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)]),_:2},1024),o(C,null,{default:t(()=>[o(c,{cols:"2"},{default:t(()=>[o(k,{class:"mt-4",icon:"fa-brands fa-facebook"})]),_:1}),o(c,{cols:"2"},{default:t(()=>[o(p,{name:"facebook",modelValue:e[s].facebook,"onUpdate:modelValue":n=>e[s].facebook=n,onChange:n=>r.onObjChange(e,s,n)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)]),_:2},1024),o(C,null,{default:t(()=>[o(c,{cols:"2"},{default:t(()=>[o(k,{class:"mt-4",icon:"fa-brands fa-instagram"})]),_:1}),o(c,{cols:"2"},{default:t(()=>[o(p,{name:"instagram",modelValue:e[s].instagram,"onUpdate:modelValue":n=>e[s].instagram=n,onChange:n=>r.onObjChange(e,s,n)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)]),_:2},1024),o(C,null,{default:t(()=>[o(c,{cols:"2"},{default:t(()=>[o(k,{class:"mt-4",icon:"fa-brands fa-tiktok"})]),_:1}),o(c,{cols:"2"},{default:t(()=>[o(p,{name:"tiktok",modelValue:e[s].tiktok,"onUpdate:modelValue":n=>e[s].tiktok=n,onChange:n=>r.onObjChange(e,s,n)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)]),_:2},1024),o(C,null,{default:t(()=>[o(c,{cols:"2"},{default:t(()=>[o(k,{class:"mt-4",icon:"fa-brands fa-twitter"})]),_:1}),o(c,{cols:"2"},{default:t(()=>[o(p,{name:"twitter",modelValue:e[s].twitter,"onUpdate:modelValue":n=>e[s].twitter=n,onChange:n=>r.onObjChange(e,s,n)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)]),_:2},1024),o(C,null,{default:t(()=>[o(c,{cols:"2"},{default:t(()=>[o(k,{class:"mt-4",icon:"fa-brands fa-youtube"})]),_:1}),o(c,{cols:"2"},{default:t(()=>[o(p,{name:"youtube",modelValue:e[s].youtube,"onUpdate:modelValue":n=>e[s].youtube=n,onChange:n=>r.onObjChange(e,s,n)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)]),_:2},1024)])]),_:1}),o(V,{field:"ai",header:"Tools Used",style:{width:"auto"}},{body:t(({data:e,field:s})=>[o(T,{modelValue:e[s],"onUpdate:modelValue":n=>e[s]=n,options:a.allTools,optionLabel:"label",optionValue:"value",placeholder:"Select Tools",onChange:n=>r.onArrChange(e,s,n)},null,8,["modelValue","onUpdate:modelValue","options","onChange"])]),_:1}),o(V,{field:"tags",header:"Tags",sortable:"",style:{width:"auto"}},{body:t(({data:e,field:s})=>[o(T,{modelValue:e[s],"onUpdate:modelValue":n=>e[s]=n,options:a.allTags,optionLabel:"label",optionValue:"value",placeholder:"Select Tags",onChange:n=>r.onArrChange(e,s,n)},null,8,["modelValue","onUpdate:modelValue","options","onChange"])]),_:1}),o(V,{field:"poster",header:"Poster",style:{width:"auto"}},{editor:t(({data:e,field:s})=>[o(p,{modelValue:e[s],"onUpdate:modelValue":n=>e[s]=n},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),o(V,{field:"id",header:"Update",style:{width:"auto"}},{body:t(({data:e})=>[o(g,{class:"text-green",onClick:s=>r.saveChanges(e)},{default:t(()=>[f("Update")]),_:2},1032,["onClick"])]),_:1}),o(V,{field:"id",header:"Delete",style:{width:"auto"}},{body:t(({data:e})=>[o(g,{class:"text-red",onClick:s=>r.handleDelete(e)},{default:t(()=>[f("Delete")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["value","onCellEditComplete"])]),_:1})]),_:1})):(v(),_(I,{key:1,fluid:"",class:"login-container mt-n16 text-white"},{default:t(()=>[Q,b("form",{onSubmit:l[22]||(l[22]=j((...e)=>r.checkPassword&&r.checkPassword(...e),["prevent"]))},[K,q(b("input",{class:"ma-1",type:"password",id:"password","onUpdate:modelValue":l[21]||(l[21]=e=>a.inputPassword=e)},null,512),[[F,a.inputPassword]]),Y],32),a.wrongPassword?(v(),L("p",X,"Incorrect password. Please try again.")):O("",!0)]),_:1}))],64)}const $=R(J,[["render",Z],["__scopeId","data-v-c00f1e76"]]),ae={__name:"Admin",setup(i){return(l,u)=>(v(),_($))}};export{ae as default};
